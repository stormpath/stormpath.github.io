

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Configure the Angular App &mdash; Stormpath AngularJS + Yeoman Guide 0.0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath AngularJS + Yeoman Guide 0.0.2 documentation" href="index.html"/>
        <link rel="next" title="Customize the Menu" href="customize_menu.html"/>
        <link rel="prev" title="Configure the Server" href="protect_api.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath AngularJS + Yeoman Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-we-re-building">What We&#8217;re Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#example-project">Example Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#how-to-get-support">How to get Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_new_project.html">Creating a Fullstack Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#installing-node-grunt-bower-and-yeoman">Installing Node, Grunt, Bower and Yeoman</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#create-an-angular-fullstack-project">Create an Angular-Fullstack Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#install-the-stormpath-packages">Install the Stormpath Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#upgrade-express">Upgrade Express</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#git-tracking">Git Tracking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_tenant.html">Create a Stormpath Tenant</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#sign-up-for-stormpath">Sign up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="protect_api.html">Configure the Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#setting-environment-variables">Setting Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#require-the-stormpath-module">Require the Stormpath Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#reload-the-app">Reload the App</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Configure the Angular App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#add-stormpath-to-the-angular-application">Add Stormpath to the Angular Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-the-ui-router-integration">Configure the UI Router Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customize_menu.html">Customize the Menu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customize_menu.html#modify-navbar-html">Modify navbar.html</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Create the Login Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#generate-the-login-route">Generate the /login Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#use-the-login-form-directive">Use the Login Form Directive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="register.html">Create the Registration Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="register.html#generate-the-register-route">Generate the /register Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#add-the-registration-form-directive">Add the Registration Form Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#generate-the-verify-route">Generate the /verify Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#use-the-email-verification-directive">Use the Email Verification Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#try-it-register-for-an-account">Try It, Register for an Account!</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#customizing-the-form">Customizing the Form</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="user_profile.html">Create the Profile View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#generate-the-profile-route">Generate the /profile Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#force-authentication">Force Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#create-the-view">Create the View</a></li>
<li class="toctree-l2"><a class="reference internal" href="user_profile.html#try-it-out-see-your-profile">Try It Out, See Your Profile!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#generate-the-routes">Generate the Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#use-the-password-reset-directives">Use the Password Reset Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#try-it-reset-your-password">Try It, Reset your Password!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access_control.html">Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#ui-state-control">UI State Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#helper-directives">Helper Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#api-security">API Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wait_for_user.html">Waiting For User State</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wait_for_user.html#use-the-waitforuser-option">Use the waitForUser Option</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coming_soon.html">Coming Soon!</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath AngularJS + Yeoman Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Configure the Angular App</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/configure_angular.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="configure-the-angular-app">
<span id="configure-angular"></span><h1>Configure the Angular App<a class="headerlink" href="#configure-the-angular-app" title="Permalink to this headline">¶</a></h1>
<p>There are a few things we need to setup before we can build the
rest of the application.  We need to add the Stormpath modules as
dependencies of our application, and we need to configure some of the
magic that will happen with the <a class="reference external" href="https://github.com/angular-ui/ui-router">UI Router</a> module.</p>
<div class="section" id="add-stormpath-to-the-angular-application">
<h2>Add Stormpath to the Angular Application<a class="headerlink" href="#add-stormpath-to-the-angular-application" title="Permalink to this headline">¶</a></h2>
<p>We need to manually declare the Stormpath Angular SDK as a module
in the Angular app.</p>
<p>Open the file <tt class="docutils literal"><span class="pre">client/app/app.js</span></tt> and modify the module list
to have these two Stormpath dependencies at the end of the list:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;dashboardApp&#39;</span><span class="p">,</span> <span class="p">[</span>
  <span class="s1">&#39;ngCookies&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ngResource&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ngSanitize&#39;</span><span class="p">,</span>
  <span class="s1">&#39;ui.router&#39;</span><span class="p">,</span>
  <span class="s1">&#39;stormpath&#39;</span><span class="p">,</span>
  <span class="s1">&#39;stormpath.templates&#39;</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="section" id="configure-the-ui-router-integration">
<h2>Configure the UI Router Integration<a class="headerlink" href="#configure-the-ui-router-integration" title="Permalink to this headline">¶</a></h2>
<p>Our Angular SDK is designed to work with the third-party <a class="reference external" href="https://github.com/angular-ui/ui-router">UI Router</a> module (support
for Angular&#8217;s built-in router will be coming in a future release).  Before we
add anything else to our application we need to setup the <a class="reference external" href="https://github.com/angular-ui/ui-router">UI Router</a> integration.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We <em>highly</em> recommend the UI Router module, over the Angular built-in router.  It
provides a very good way for organizing your Angular application.</p>
</div>
<p>In the same <tt class="docutils literal"><span class="pre">app.js</span></tt> file you want to add this run block, place
it below the <tt class="docutils literal"><span class="pre">.config</span></tt> block (make sure you move the semicolon
from the config block to the run block):</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">.</span><span class="nx">run</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">$stormpath</span><span class="p">){</span>
  <span class="nx">$stormpath</span><span class="p">.</span><span class="nx">uiRouter</span><span class="p">({</span>
    <span class="nx">loginState</span><span class="o">:</span> <span class="s1">&#39;login&#39;</span><span class="p">,</span>
    <span class="nx">defaultPostLoginState</span><span class="o">:</span> <span class="s1">&#39;main&#39;</span>
  <span class="p">});</span>
<span class="p">});</span>
</pre></div>
</div>
<p>This configures the integration to do the following:</p>
<ul class="simple">
<li>Redirect users to the <tt class="docutils literal"><span class="pre">login</span></tt> view if they try to access a restricted view. After logging in, they are sent back to the view that they originally requested.</li>
<li>Send users to the <tt class="docutils literal"><span class="pre">main</span></tt> view after login if they have visited the login page directly (they did not try to access a restricted view first).</li>
</ul>
<p>With that we are ready to start working on the views!  Continue to the next section,
where we begin by modifying the menu bar to include links for Login and Registration</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="customize_menu.html" class="btn btn-neutral float-right" title="Customize the Menu">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="protect_api.html" class="btn btn-neutral" title="Configure the Server"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
