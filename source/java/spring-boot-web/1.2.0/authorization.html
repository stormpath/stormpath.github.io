

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Authorization &mdash; Stormpath Default Spring Boot Starter 1.2.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Stormpath Default Spring Boot Starter 1.2.0 documentation" href="index.html"/>
        <link rel="next" title="Forgot Password" href="forgot-password.html"/>
        <link rel="prev" title="Social Login" href="social.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  
  <script src="https://cdn.optimizely.com/js/225847041.js"></script>

  
  <script>
  !function(f,b,e,v,n,t,s){if(f.fbq)return;n=f.fbq=function(){n.callMethod?
  n.callMethod.apply(n,arguments):n.queue.push(arguments)};if(!f._fbq)f._fbq=n;
  n.push=n;n.loaded=!0;n.version='2.0';n.queue=[];t=b.createElement(e);t.async=!0;
  t.src=v;s=b.getElementsByTagName(e)[0];s.parentNode.insertBefore(t,s)}(window,
  document,'script','https://connect.facebook.net/en_US/fbevents.js');
  fbq('init', '986262161469311');
  fbq('track', 'PageView');
  </script>
  <noscript><img height="1" width="1" style="display:none"
  src="https://www.facebook.com/tr?id=986262161469311&ev=PageView&noscript=1"
  /></noscript>
</head>

<body class="wy-body-for-nav" role="document">

  
  <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-NQZZFW"
  height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
  <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
  new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
  j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
  '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-NQZZFW');</script>

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Stormpath Default Spring Boot Starter
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-stormpath">What is Stormpath?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#what-is-the-project">What is the Stormpath Default Spring Boot Starter?</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#who-should-use-stormpath">Who should use Stormpath?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#get-an-api-key">Get an API Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#add-the-project">Add the Stormpath Default Spring Boot Starter</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#try-it">Try it!</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#next-steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#get-an-api-key">Get an API Key</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#spring-boot-meet-stormpath">Spring Boot: Meet Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#some-access-controls">Some Access Controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#spring-security-meet-stormpath">Spring Security: Meet Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#spring-security-refined">Spring Security Refined</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#a-finer-grain-of-control">A Finer Grain of Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#token-management">Token Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#wrapping-up">Wrapping Up</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="config.html#no-config">No Config?</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#property-overrides">Property Overrides</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#bean-overrides">Bean Overrides</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-client">Stormpath Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html#stormpath-application">Stormpath Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="registration.html">Registration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="registration.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#email-verification">Email Verification</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="registration.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#security-notice">Security Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#uri">URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#view">View</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#i18n">i18n</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#events">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#authentication-state">Authentication State</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#spring-security">Spring Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="social.html">Social Login</a><ul>
<li class="toctree-l2"><a class="reference internal" href="social.html#facebook-login">Facebook Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#google-login">Google Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#linkedin-login">LinkedIn Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="social.html#json-api">JSON API</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Authorization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#roles">Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#permissions">Permissions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="forgot-password.html">Forgot Password</a><ul>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#configure-the-workflow">Configure the Workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#try-it">Try it!</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-uri">Forgot URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-next-uri">Forgot Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#forgot-view">Forgot View</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-uri">Change Password URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-next-uri">Change Password Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#change-password-view">Change Password View</a></li>
<li class="toctree-l2"><a class="reference internal" href="forgot-password.html#i18n">i18n</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logout.html">Logout</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logout.html#uri">URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#next-uri">Next URI</a></li>
<li class="toctree-l2"><a class="reference internal" href="logout.html#events">Events</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="request-authentication.html">HTTP Request Authentication</a><ul>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#http-basic-authentication">HTTP Basic Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#token-authentication">Token Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="request-authentication.html#api-key-authentication">API Key Authentication</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="request.html">Request Context</a><ul>
<li class="toctree-l2"><a class="reference internal" href="request.html#current-user-account">Current User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-application">Stormpath Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="request.html#stormpath-client">Stormpath Client</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="i18n.html">Internationalization (i18n)</a><ul>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#languages">Languages</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#request-locale">Request Locale</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#view-templates">View Templates</a></li>
<li class="toctree-l2"><a class="reference internal" href="i18n.html#i18n-properties">i18n.properties</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="events.html">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="events.html#requesteventlistener">RequestEventListener</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#id2">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#listener-best-practices">Listener Best Practices</a></li>
<li class="toctree-l2"><a class="reference internal" href="events.html#spring-security">Spring Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="caching.html">Caching</a><ul>
<li class="toctree-l2"><a class="reference internal" href="caching.html#disable-caching">Disable Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="caching.html#cache-configuration">Cache Configuration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="idsite.html">ID Site</a><ul>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#how-does-it-work">How Does It Work?</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#enable-id-site">Enable ID Site</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#configure-your-application">Configure Your Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="idsite.html#try-it">Try It!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="views.html">Custom Views</a><ul>
<li class="toctree-l2"><a class="reference internal" href="views.html#thymeleaf-views">Thymeleaf Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#internationalization-i18n">Internationalization (i18n)</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#head-template">Head Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#css">CSS</a></li>
<li class="toctree-l2"><a class="reference internal" href="views.html#change-a-default-view">Change a Default View</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix</a><ul>
<li class="toctree-l2"><a class="reference internal" href="appendix/default-stormpath-properties.html">Default Stormpath Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/i18n-properties.html">i18n.properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/stormpath-css.html">stormpath.css</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/change-password.html">/templates/stormpath/change-password.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/forgot-password.html">/templates/stormpath/forgot-password.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/head.html">/templates/stormpath/head.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/login.html">/templates/stormpath/login.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/register.html">/templates/stormpath/register.html</a></li>
<li class="toctree-l2"><a class="reference internal" href="appendix/verify.html">/templates/stormpath/verify.html</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Stormpath Default Spring Boot Starter</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          













<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Authorization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <blockquote>
<div></div></blockquote>
<div class="section" id="authorization">
<span id="id1"></span><h1>Authorization<a class="headerlink" href="#authorization" title="Permalink to this headline">¶</a></h1>
<p>If you are using our <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-java/tree/master/extensions/spring/stormpath-spring-security-webmvc">Spring Security integration</a> you will obtain a seamless integration with Spring Security&#8217;s authorization model. Besides the principal&#8217;s information, Stormpath also populates <a class="reference external" href="http://docs.spring.io/spring-security/site/docs/4.1.2.RELEASE/reference/html/technical-overview.html#tech-granted-authority">Spring Security&#8217;s Granted Authorities</a> for you. Once an authentication attempt is successful,
you can perform standard Spring Security authority checks, like <code class="docutils literal"><span class="pre">antMatchers(&quot;/**&quot;).hasAuthority(&quot;SOME_ROLE&quot;)</span></code> or <code class="docutils literal"><span class="pre">&#64;PreAuthorize(&quot;hasAuthority('SOME_PERMISSION')&quot;)</span></code></p>
<div class="section" id="roles">
<h2>Roles<a class="headerlink" href="#roles" title="Permalink to this headline">¶</a></h2>
<p>Spring Security&#8217;s role concept in Stormpath is represented as a Stormpath <a class="reference external" href="http://docs.stormpath.com/java/product-guide/#groups">Group</a>.</p>
<div class="section" id="assigning-roles">
<h3>Assigning Roles<a class="headerlink" href="#assigning-roles" title="Permalink to this headline">¶</a></h3>
<p>Spring Security&#8217;s <code class="docutils literal"><span class="pre">Authority</span></code> concept is represented as a Stormpath <code class="docutils literal"><span class="pre">Group</span></code>. During the authentication process all the groups belonging to an account are automatically populated as authorities in the authentication token. Therefore you assign a role to an account simply by adding an account to a group (or by adding a group to an account, depending on how you look at it). For example, for an account belonging to a specific group like this:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">groupHref</span> <span class="o">=</span> <span class="s">&quot;https://api.stormpath.com/v1/groups/d2UDkz1EPcn2a71j93m6D&quot;</span><span class="o">;</span>
<span class="n">Group</span> <span class="n">group</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">getResource</span><span class="o">(</span><span class="n">groupHref</span><span class="o">,</span> <span class="n">Group</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

<span class="c1">//assign the account to the group:</span>
<span class="n">account</span><span class="o">.</span><span class="na">addGroup</span><span class="o">(</span><span class="n">group</span><span class="o">);</span>
</pre></div>
</div>
<p>When the account is logged in, the following authorization requirement will be met and the post operation will be allowed to be executed:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasAuthority(&#39;https://api.stormpath.com/v1/groups/d2UDkz1EPcn2a71j93m6D&#39;)&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">Account</span> <span class="nf">post</span><span class="o">(</span><span class="n">Account</span> <span class="n">account</span><span class="o">,</span> <span class="kt">double</span> <span class="n">amount</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//do something</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="checking-roles">
<h3>Checking Roles<a class="headerlink" href="#checking-roles" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="role-checks-with-the-group-href">
<h3>Role checks with the Group <code class="docutils literal"><span class="pre">href</span></code><a class="headerlink" href="#role-checks-with-the-group-href" title="Permalink to this headline">¶</a></h3>
<p>The recommended way to perform a Spring Security role check is to use the Stormpath group&#8217;s <code class="docutils literal"><span class="pre">href</span></code> property as the Spring Security role &#8216;name&#8217;.</p>
<p>While it is possible (and maybe more intuitive) to use the Group name for the role check, this secondary approach is not enabled by default
and not recommended for most usages: role names can potentially change over time (for example, someone changes the Group name in the Stormpath
administration console without telling you). If you code a role check in your source code, and that role name changes in the future, your role
checks will likely fail!</p>
<p>Instead, it is recommended to perform role checks with a stable identifier.</p>
<p>You can use a Stormpath Group&#8217;s <code class="docutils literal"><span class="pre">href</span></code> property as the role &#8216;name&#8217; and check that:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasAuthority(&#39;A_SPECIFIC_GROUP_HREF&#39;)&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="n">Account</span> <span class="nf">post</span><span class="o">(</span><span class="n">Account</span> <span class="n">account</span><span class="o">,</span> <span class="kt">double</span> <span class="n">amount</span><span class="o">)</span> <span class="o">{</span>
    <span class="c1">//do something</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="role-checks-with-the-group-name">
<h3>Role checks with the Group <code class="docutils literal"><span class="pre">name</span></code><a class="headerlink" href="#role-checks-with-the-group-name" title="Permalink to this headline">¶</a></h3>
<p>If you still want to use a Stormpath Group&#8217;s name as the Spring Security role name for role checks - perhaps because you have a high level of
confidence that no one will change group names once your software is written - you can still use the Group name if you wish by adding a
little configuration.</p>
<p>In a <code class="docutils literal"><span class="pre">&#64;Configuration</span></code> class, you can set the supported naming modes of what will be represented as a Spring Security role:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="n">GroupGrantedAuthorityResolver</span> <span class="nf">defaultGroupGrantedAuthorityResolver</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">DefaultGroupGrantedAuthorityResolver</span> <span class="n">resolver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultGroupGrantedAuthorityResolver</span><span class="o">();</span>
    <span class="n">Set</span><span class="o">&lt;</span><span class="n">DefaultGroupGrantedAuthorityResolver</span><span class="o">.</span><span class="na">Mode</span><span class="o">&gt;</span> <span class="n">modes</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashSet</span><span class="o">&lt;&gt;();</span>
    <span class="n">modes</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">DefaultGroupGrantedAuthorityResolver</span><span class="o">.</span><span class="na">Mode</span><span class="o">.</span><span class="na">NAME</span><span class="o">);</span>
    <span class="n">resolver</span><span class="o">.</span><span class="na">setModes</span><span class="o">(</span><span class="n">modes</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">resolver</span><span class="o">;</span>
<span class="o">}</span>

<span class="nd">@Bean</span>
<span class="nd">@Autowired</span>
<span class="kd">public</span> <span class="n">StormpathAuthenticationProvider</span> <span class="nf">stormpathAuthenticationProvider</span><span class="o">(</span><span class="n">Application</span> <span class="n">application</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">StormpathAuthenticationProvider</span> <span class="n">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StormpathAuthenticationProvider</span><span class="o">(</span><span class="n">application</span><span class="o">);</span>
    <span class="n">provider</span><span class="o">.</span><span class="na">setGroupGrantedAuthorityResolver</span><span class="o">(</span><span class="n">defaultGroupGrantedAuthorityResolver</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">provider</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The modes (or mode names) allow you to specify which Group properties Spring Security will consider as role &#8216;names&#8217;. The default is <code class="docutils literal"><span class="pre">href</span></code>,
but you can specify more than one if desired. The supported modes are the following:</p>
<ul class="simple">
<li><em>HREF</em>: the Group&#8217;s <code class="docutils literal"><span class="pre">href</span></code> property will be considered a Spring Security role name. This is the default mode if not configured
otherwise. Allows a Spring Security role check to look like the following:
<code class="docutils literal"><span class="pre">authentication.getAuthorities().contains(new</span> <span class="pre">SimpleGrantedAuthority(group.getHref()))</span></code>.</li>
<li><em>NAME</em>: the Group&#8217;s <code class="docutils literal"><span class="pre">name</span></code> property will be considered a Spring Security role name. This allows a Spring Security role check to look
like the following:
<code class="docutils literal"><span class="pre">authentication.getAuthorities().contains(new</span> <span class="pre">SimpleGrantedAuthority(group.getName()))</span></code>.
This however has the downside that if you (or someone else on your team or in your company) changes the Group&#8217;s name, you will have to
update your role check code to reflect the new names (otherwise the existing checks are very likely to fail).</li>
<li><em>ID</em>: the Group&#8217;s unique id will be considered a Spring Security role name. The unique id is the id at the end of the Group&#8217;s HREF url.
This is a deprecated mode and should ideally not be used in new applications.</li>
</ul>
</div>
<div class="section" id="the-groupgrantedauthorityresolver-interface">
<h3>The GroupGrantedAuthorityResolver Interface<a class="headerlink" href="#the-groupgrantedauthorityresolver-interface" title="Permalink to this headline">¶</a></h3>
<p>If the above default role name resolution logic does not meet your needs or if you want full customization of how a Stormpath Group resolves to
one or more Spring Security role names, you can implement the <code class="docutils literal"><span class="pre">GroupGrantedAuthorityResolver</span></code> interface and configure the
implementation on the StormpathAuthenticationProvider:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@Bean</span>
<span class="kd">public</span> <span class="n">GroupGrantedAuthorityResolver</span> <span class="nf">myGroupGrantedAuthorityResolver</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">MyGroupGrantedAuthorityResolver</span> <span class="n">resolver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyGroupGrantedAuthorityResolver</span><span class="o">();</span>
    <span class="o">...</span>
<span class="o">}</span>

<span class="nd">@Bean</span>
<span class="nd">@Autowired</span>
<span class="kd">public</span> <span class="n">StormpathAuthenticationProvider</span> <span class="nf">stormpathAuthenticationProvider</span><span class="o">(</span><span class="n">Application</span> <span class="n">application</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">StormpathAuthenticationProvider</span> <span class="n">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StormpathAuthenticationProvider</span><span class="o">(</span><span class="n">application</span><span class="o">);</span>
    <span class="n">provider</span><span class="o">.</span><span class="na">setGroupGrantedAuthorityResolver</span><span class="o">(</span><span class="n">myGroupGrantedAuthorityResolver</span><span class="o">());</span>
    <span class="k">return</span> <span class="n">provider</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="permissions">
<h2>Permissions<a class="headerlink" href="#permissions" title="Permalink to this headline">¶</a></h2>
<p>The Spring Security plugin for Stormpath enables the ability to assign ad-hoc sets of permissions directly to Stormpath
Accounts or Groups using the accounts&#8217; or groups&#8217; <a class="reference external" href="https://docs.stormpath.com/rest/product-guide/latest/reference.html#custom-data">Custom Data</a>
resource.</p>
<p>Once assigned, the Stormpath <code class="docutils literal"><span class="pre">AuthenticationProvider</span></code> will automatically check account and group <code class="docutils literal"><span class="pre">CustomData</span></code> for permissions and
create Spring Security Granted authorities that will be assigned to the authorization principal&#8217;s authorities.</p>
<div class="section" id="assigning-permissions">
<h3>Assigning Permissions<a class="headerlink" href="#assigning-permissions" title="Permalink to this headline">¶</a></h3>
<p>The easiest way to assign permissions to an account or group is to get the account or group&#8217;s <code class="docutils literal"><span class="pre">CustomData</span></code> resource and use the Spring
Security Stormpath plugin&#8217;s <code class="docutils literal"><span class="pre">CustomDataPermissionsEditor</span></code> to assign or remove permissions. The following example uses both the Stormpath Java
SDK API and the Spring Security Stormpath plugin API:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="c1">//Instantiate an account (this is the normal Stormpath Java SDK API):</span>
<span class="n">Account</span> <span class="n">acct</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">instantiate</span><span class="o">(</span><span class="n">Account</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&quot;Changeme1!&quot;</span><span class="o">;</span>
<span class="n">acct</span><span class="o">.</span><span class="na">setUsername</span><span class="o">(</span><span class="s">&quot;jsmith&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="n">password</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setEmail</span><span class="o">(</span><span class="s">&quot;jsmith@nowhere.com&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setGivenName</span><span class="o">(</span><span class="s">&quot;Joe&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">setSurname</span><span class="o">(</span><span class="s">&quot;Smith&quot;</span><span class="o">);</span>

<span class="c1">//Now let&#39;s add some Spring Security granted authorities to the account&#39;s customData:</span>
<span class="c1">//(this class is in the Spring Security Stormpath Plugin API):</span>
<span class="k">new</span> <span class="n">CustomDataPermissionsEditor</span><span class="o">(</span><span class="n">acct</span><span class="o">.</span><span class="na">getCustomData</span><span class="o">())</span>
    <span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;user:1234:edit&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;report:create&quot;</span><span class="o">)</span>

<span class="c1">//Add the new account with its custom data to an application (normal Stormpath Java SDK API):</span>
<span class="n">acct</span> <span class="o">=</span> <span class="n">anApplication</span><span class="o">.</span><span class="na">createAccount</span><span class="o">(</span><span class="n">Accounts</span><span class="o">.</span><span class="na">newCreateRequestFor</span><span class="o">(</span><span class="n">acct</span><span class="o">).</span><span class="na">build</span><span class="o">());</span>
</pre></div>
</div>
<p>You can assign permissions to a Group too:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="n">Group</span> <span class="n">group</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">instantiate</span><span class="o">(</span><span class="n">Group</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">group</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;Users&quot;</span><span class="o">);</span>
<span class="k">new</span> <span class="n">CustomDataPermissionsEditor</span><span class="o">(</span><span class="n">group</span><span class="o">.</span><span class="na">getCustomData</span><span class="o">()).</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;user:login&quot;</span><span class="o">);</span>
<span class="n">group</span> <span class="o">=</span> <span class="n">anApplication</span><span class="o">.</span><span class="na">createGroup</span><span class="o">(</span><span class="n">group</span><span class="o">)</span>
</pre></div>
</div>
<p>You might want to assign that account to the group. <em>Any permissions assigned to a group are automatically inherited by accounts in the
group</em>:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="n">group</span><span class="o">.</span><span class="na">addAccount</span><span class="o">(</span><span class="n">acct</span><span class="o">);</span>
</pre></div>
</div>
<p>This is very convenient: You can assign permissions to many accounts simultaneously by simply adding them once to a group that the accounts
share. In doing this, the Stormpath <code class="docutils literal"><span class="pre">Group</span></code> is acting much more like a role.</p>
</div>
<div class="section" id="checking-permissions">
<h3>Checking Permissions<a class="headerlink" href="#checking-permissions" title="Permalink to this headline">¶</a></h3>
<p>So, in order to have Spring Security doing permissions check the way we intend, we need to create our own <code class="docutils literal"><span class="pre">PermissionEvaluator</span></code>. The plugin
provides <code class="docutils literal"><span class="pre">WildcardPermissionEvaluator</span></code> that is able to compare <code class="docutils literal"><span class="pre">WildcardPermission</span></code>s. In order to use it you need to configure Spring this way:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">com.stormpath.spring.security.authz.permission.evaluator.WildcardPermissionEvaluator</span><span class="o">;</span>

<span class="o">...</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">PermissionEvaluator</span> <span class="nf">permissionEvaluator</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">WildcardPermissionEvaluator</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">SecurityExpressionHandler</span> <span class="nf">methodSecurityExpressionHandler</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">DefaultMethodSecurityExpressionHandler</span> <span class="n">expressionHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultMethodSecurityExpressionHandler</span><span class="o">();</span>
        <span class="n">expressionHandler</span><span class="o">.</span><span class="na">setPermissionEvaluator</span><span class="o">(</span><span class="n">permissionEvaluator</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">expressionHandler</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">SecurityExpressionHandler</span> <span class="nf">webSecurityExpressionHandler</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">DefaultWebSecurityExpressionHandler</span> <span class="n">expressionHandler</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultWebSecurityExpressionHandler</span><span class="o">();</span>
        <span class="n">expressionHandler</span><span class="o">.</span><span class="na">setPermissionEvaluator</span><span class="o">(</span><span class="n">permissionEvaluator</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">expressionHandler</span><span class="o">;</span>
    <span class="o">}</span>
</pre></div>
</div>
<p>and then you can simply evaluate permissions this way using <a class="reference external" href="http://docs.spring.io/spring-security/site/docs/4.1.2.RELEASE/reference/html/el-access.html">Method Security Expressions</a>:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasPermission(...)&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>or using <a class="reference external" href="http://docs.spring.io/spring-security/site/docs/4.1.x/reference/html/taglibs.html">JSP taglibs</a></p>
<div class="code xml highlight-java"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">sec</span><span class="o">:</span><span class="n">authorize</span> <span class="n">access</span><span class="o">=</span><span class="s">&quot;hasPermission(...)&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>That means, that if the <code class="docutils literal"><span class="pre">jsmith</span></code> account logs in, you can perform the following permission check:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasPermission(&#39;user&#39;, &#39;login&#39;)&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>or</p>
<div class="code xml highlight-java"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">sec</span><span class="o">:</span><span class="n">authorize</span> <span class="n">access</span><span class="o">=</span><span class="s">&quot;hasPermission(&#39;user&#39;, &#39;login&#39;)&quot;</span> <span class="o">/&gt;</span>
</pre></div>
</div>
<p>And all this will return <code class="docutils literal"><span class="pre">true</span></code>, because, while <code class="docutils literal"><span class="pre">user:login</span></code> isn&#8217;t directly assigned to the account, it <em>is</em> assigned to one of the
account&#8217;s groups.</p>
<p>Our <code class="docutils literal"><span class="pre">PermissionEvaluator</span></code> only customizes the way the <code class="docutils literal"><span class="pre">hasPermissions</span></code> operation behaves. The other Spring Security built-in
expressions (e.g., hasRole(), isAnonymous(), isAuthenticated(), etc. are not modified). These expressions will carry out their usual operation:
literal string comparisons. So, for example, if you want to check that a user has a specific role (in other words, it belongs to a specific
Stormpath group) you can do:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasAuthority(&#39;https://api.stormpath.com/v1/groups/upXiVIrPQ7yfA5L1G5ZaSQ&#39;)&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>The next sections cover the storage and retrieval details in case you&#8217;re curious how it works, or if you&#8217;d like to customize the behavior or
<code class="docutils literal"><span class="pre">CustomData</span></code> field name.</p>
</div>
<div class="section" id="permission-storage">
<h3>Permission Storage<a class="headerlink" href="#permission-storage" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal"><span class="pre">CustomDataPermissionsEditor</span></code> shown above, and the Spring Security Stormpath <code class="docutils literal"><span class="pre">AuthenticationProvider</span></code> default implementation assumes that
a default field named <code class="docutils literal"><span class="pre">springSecurityPermissions</span></code> in an account&#8217;s or group&#8217;s <code class="docutils literal"><span class="pre">CustomData</span></code> resource can be used to store permissions
assigned directly to the account or group. This implies the <code class="docutils literal"><span class="pre">CustomData</span></code> resource&#8217;s JSON would look something like this:</p>
<div class="code json highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
    <span class="s">&quot;springSecurityPermissions&quot;</span><span class="o">:</span> <span class="o">[</span>
        <span class="s">&quot;perm1&quot;</span><span class="o">,</span>
        <span class="s">&quot;perm2&quot;</span><span class="o">,</span>
        <span class="s">&quot;permN&quot;</span>
    <span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>If you wanted to change the name to something else, you could specify the <code class="docutils literal"><span class="pre">setFieldName</span></code> property on the <code class="docutils literal"><span class="pre">CustomDataPermissionsEditor</span></code>
instance:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="k">new</span> <span class="n">CustomDataPermissionsEditor</span><span class="o">(</span><span class="n">group</span><span class="o">.</span><span class="na">getCustomData</span><span class="o">())</span>
    <span class="o">.</span><span class="na">setFieldName</span><span class="o">(</span><span class="s">&quot;whateverYouWantHere&quot;</span><span class="o">)</span>
    <span class="o">.</span><span class="na">append</span><span class="o">(</span><span class="s">&quot;user:login&quot;</span><span class="o">);</span>
</pre></div>
</div>
<p>and this would result in the following JSON structure instead:</p>
<div class="code json highlight-java"><div class="highlight"><pre><span></span><span class="o">{</span>
    <span class="s">&quot;whateverYouWantHere&quot;</span><span class="o">:</span> <span class="o">[</span>
        <span class="s">&quot;user:login&quot;</span><span class="o">,</span>
    <span class="o">]</span>
<span class="o">}</span>
</pre></div>
</div>
<p>But <em>NOTE</em>: While the <code class="docutils literal"><span class="pre">CustomDataPermissionsEditor</span></code> implementation will modify the field name you specify, the, <code class="docutils literal"><span class="pre">ApplicationRealm</span></code> needs
to read that same field during permission checks. So if you change it as shown above, you must also change the provider&#8217;s configuration to
reference the new name as well:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">com.stormpath.spring.security.provider.AccountCustomDataPermissionResolver</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.stormpath.spring.security.provider.GroupCustomDataPermissionResolver</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.stormpath.spring.security.provider.StormpathAuthenticationProvider</span><span class="o">;</span>

<span class="o">...</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">GroupCustomDataPermissionResolver</span> <span class="nf">groupCustomDataPermissionResolver</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">GroupCustomDataPermissionResolver</span> <span class="n">permissionResolver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GroupCustomDataPermissionResolver</span><span class="o">();</span>
        <span class="n">permissionResolver</span><span class="o">.</span><span class="na">setCustomDataFieldName</span><span class="o">(</span><span class="s">&quot;whateverYouWantHere&quot;</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">permissionResolver</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="kd">public</span> <span class="n">AccountCustomDataPermissionResolver</span> <span class="nf">accountCustomDataPermissionResolver</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">AccountCustomDataPermissionResolver</span> <span class="n">permissionResolver</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AccountCustomDataPermissionResolver</span><span class="o">();</span>
        <span class="n">permissionResolver</span><span class="o">.</span><span class="na">setCustomDataFieldName</span><span class="o">(</span><span class="s">&quot;whateverYouWantHere&quot;</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">permissionResolver</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Bean</span>
    <span class="nd">@Autowired</span>
    <span class="kd">public</span> <span class="n">StormpathAuthenticationProvider</span> <span class="nf">stormpathAuthenticationProvider</span><span class="o">(</span><span class="n">Application</span> <span class="n">application</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">StormpathAuthenticationProvider</span> <span class="n">authenticationProvider</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StormpathAuthenticationProvider</span><span class="o">(</span><span class="n">application</span><span class="o">);</span>
        <span class="o">...</span>
        <span class="n">authenticationProvider</span><span class="o">.</span><span class="na">setGroupPermissionResolver</span><span class="o">(</span><span class="n">groupCustomDataPermissionResolver</span><span class="o">());</span>
        <span class="n">authenticationProvider</span><span class="o">.</span><span class="na">setAccountPermissionResolver</span><span class="o">(</span><span class="n">accountCustomDataPermissionResolver</span><span class="o">());</span>
        <span class="k">return</span> <span class="n">authenticationProvider</span><span class="o">;</span>
    <span class="o">}</span>
</pre></div>
</div>
<p>This section explained the default implementation strategy for storing and checking permissions, using Custom Data. You can use this
immediately, as it is the default behavior, and it should suit 95% of all use cases.</p>
<p>However, if you need another approach, you can fully customize how permissions are resolved for a given account or group by customizing the
<code class="docutils literal"><span class="pre">AuthorizationProvider</span></code>&#8216;s <code class="docutils literal"><span class="pre">accountPermissionResolver</span></code> and <code class="docutils literal"><span class="pre">groupPermissionResolver</span></code> properties.</p>
</div>
<div class="section" id="how-permission-checks-work">
<h3>How Permission Checks Work<a class="headerlink" href="#how-permission-checks-work" title="Permalink to this headline">¶</a></h3>
<p>The Stormpath <code class="docutils literal"><span class="pre">AuthenticationProvider</span></code> will use any configured <code class="docutils literal"><span class="pre">AccountPermissionResolver</span></code> and <code class="docutils literal"><span class="pre">GroupPermissionResolver</span></code>
instances to create the aggregate of all permissions attributed to an <code class="docutils literal"><span class="pre">Authorization</span></code>. Later on, these permissions will be
evaluated when doing:</p>
<div class="code java highlight-java"><div class="highlight"><pre><span></span><span class="nd">@PreAuthorize</span><span class="o">(</span><span class="s">&quot;hasPermission(&#39;aPermission&#39;)&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>This operation will return <code class="docutils literal"><span class="pre">true</span></code> if the following is true:</p>
<ul class="simple">
<li>any of the permissions returned by the <code class="docutils literal"><span class="pre">AccountPermissionResolver</span></code> for the authorization&#8217;s backing Account implies <code class="docutils literal"><span class="pre">aPermission</span></code></li>
<li>any of the permissions returned by the <code class="docutils literal"><span class="pre">GroupPermissionResolver</span></code> for any of the backing Account&#8217;s Groups implies <code class="docutils literal"><span class="pre">aPermission</span></code></li>
</ul>
<p><code class="docutils literal"><span class="pre">false</span></code> will be returned if <code class="docutils literal"><span class="pre">aPermission</span></code> is not implied by any of these permissions.</p>
<p>NOTE: pay attention that we are saying <code class="docutils literal"><span class="pre">implies</span></code> and not <code class="docutils literal"><span class="pre">is</span> <span class="pre">equal</span> <span class="pre">to</span></code>. The <code class="docutils literal"><span class="pre">implies(...)</span></code> method is available through the
<code class="docutils literal"><span class="pre">Permission</span></code> interface which extends Spring Security&#8217;s <code class="docutils literal"><span class="pre">GrantedAuthority</span></code>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="forgot-password.html" class="btn btn-neutral float-right" title="Forgot Password" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="social.html" class="btn btn-neutral" title="Social Login" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Stormpath, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.2.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>