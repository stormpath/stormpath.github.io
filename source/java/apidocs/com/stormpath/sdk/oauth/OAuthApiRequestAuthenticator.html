<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_31) on Thu Sep 15 21:54:47 UTC 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>OAuthApiRequestAuthenticator (Stormpath Java SDK 1.0.4 API)</title>
<meta name="date" content="2016-09-15">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="OAuthApiRequestAuthenticator (Stormpath Java SDK 1.0.4 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<script>       (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),             m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)       })(window,document,'script','//www.google-analytics.com/analytics.js','ga');       ga('create', 'UA-29159574-1', 'auto');       ga('send', 'pageview');     </script>     <script type="text/javascript">       (function(d,s,i,r) {         if (d.getElementById(i)){return;}         var n=d.createElement(s),e=d.getElementsByTagName(s)[0];         n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/475298.js';         e.parentNode.insertBefore(n, e);       })(document,"script","hs-analytics",300000);     </script>     <script type="text/javascript">       var _kmq = _kmq || [];       var _kmk = _kmk || '684b854336bd3a6523260ebd991eec06b18b929a';       function _kms(u){         setTimeout(function(){             var d = document, f = d.getElementsByTagName('script')[0],                     s = d.createElement('script');             s.type = 'text/javascript'; s.async = true; s.src = u;             f.parentNode.insertBefore(s, f);         }, 1);       }       _kms('//i.kissmetrics.com/i.js');       _kms('//doug1izaerwt3.cloudfront.net/' + _kmk + '.1.js');     </script>     <script src="//cdn.optimizely.com/js/225847041.js"></script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OAuthApiRequestAuthenticator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/stormpath/sdk/oauth/IdSiteAuthenticatorFactory.html" title="interface in com.stormpath.sdk.oauth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/stormpath/sdk/oauth/OAuthAuthenticationResult.html" title="interface in com.stormpath.sdk.oauth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html" target="_top">Frames</a></li>
<li><a href="OAuthApiRequestAuthenticator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.stormpath.sdk.oauth</div>
<h2 title="Interface OAuthApiRequestAuthenticator" class="title">Interface OAuthApiRequestAuthenticator</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html" title="interface in com.stormpath.sdk.api">ApiRequestAuthenticator</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="typeNameLabel">OAuthApiRequestAuthenticator</span>
extends <a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html" title="interface in com.stormpath.sdk.api">ApiRequestAuthenticator</a></pre>
<div class="block">An OAuth-specific <code>ApiRequestAuthenticator</code> that implements the
 <a href="http://en.wikipedia.org/wiki/Builder_pattern">Builder design pattern</a> to allow customization of how
 the authentication attempt is processed.  For example:

 <pre>
 AuthenticationResult result = <a href="../../../../com/stormpath/sdk/application/Application.html#authenticateAccount-com.stormpath.sdk.authc.AuthenticationRequest-"><code>Application.authenticateAccount(AuthenticationRequest)</code></a>
 application.authenticateOauthRequest(httpRequest)}
     <b><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#using-com.stormpath.sdk.oauth.ScopeFactory-"><code>.using(scopeFactory)</code></a>
     <a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#withTtl-long-"><code>.withTtl(3600)</code></a>
     <code>.execute()</code>;</b>
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.RC</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/stormpath/sdk/application/Application.html#authenticateAccount-com.stormpath.sdk.authc.AuthenticationRequest-"><code>Application.authenticateAccount(AuthenticationRequest)}</code></a>, 
<code>#execute()</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/stormpath/sdk/oauth/OAuthAuthenticationResult.html" title="interface in com.stormpath.sdk.oauth">OAuthAuthenticationResult</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-">authenticate</a></span>(<a href="../../../../com/stormpath/sdk/http/HttpRequest.html" title="interface in com.stormpath.sdk.http">HttpRequest</a>&nbsp;httpRequest)</code>
<div class="block">Authenticates an OAuth-based HTTP request submitted to your application's API, returning a result that
 reflects the successfully authenticated <a href="../../../../com/stormpath/sdk/account/Account.html" title="interface in com.stormpath.sdk.account"><code>Account</code></a> that made the request and the <a href="../../../../com/stormpath/sdk/api/ApiKey.html" title="interface in com.stormpath.sdk.api"><code>ApiKey</code></a> used to
 authenticate the request.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/stormpath/sdk/oauth/ResourceRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">ResourceRequestAuthenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#inLocation-com.stormpath.sdk.oauth.RequestLocation...-">inLocation</a></span>(<a href="../../../../com/stormpath/sdk/oauth/RequestLocation.html" title="enum in com.stormpath.sdk.oauth">RequestLocation</a>...&nbsp;locations)</code>
<div class="block">Specifies the request location(s) that will be checked when looking up the request's Access Token.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">AccessTokenRequestAuthenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#using-com.stormpath.sdk.oauth.ScopeFactory-">using</a></span>(<a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth">ScopeFactory</a>&nbsp;scopeFactory)</code>
<div class="block">Specifies the <a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth"><code>ScopeFactory</code></a> to be used when generating a new Access Token as a result of authenticating
 the OAuth request.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">AccessTokenRequestAuthenticator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#withTtl-long-">withTtl</a></span>(long&nbsp;ttl)</code>
<div class="block">Specifies the <a href="http://en.wikipedia.org/wiki/Time_to_live">time to live</a> of this authentication request
 in seconds.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="using-com.stormpath.sdk.oauth.ScopeFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>using</h4>
<pre><a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">AccessTokenRequestAuthenticator</a>&nbsp;using(<a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth">ScopeFactory</a>&nbsp;scopeFactory)</pre>
<div class="block">Specifies the <a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth"><code>ScopeFactory</code></a> to be used when generating a new Access Token as a result of authenticating
 the OAuth request.

 <p><b>This method should only be called when the OAuth client is specifically requesting a new Access Token</b>,
 for example, a request to your application's oauth token endpoint, e.g. <code>/oauth/token</code></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>scopeFactory</code> - the <a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth"><code>ScopeFactory</code></a> to be used for this authentication request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth"><code>AccessTokenRequestAuthenticator</code></a> instance created with the current state of the
         this builder.</dd>
</dl>
</li>
</ul>
<a name="withTtl-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withTtl</h4>
<pre><a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">AccessTokenRequestAuthenticator</a>&nbsp;withTtl(long&nbsp;ttl)</pre>
<div class="block">Specifies the <a href="http://en.wikipedia.org/wiki/Time_to_live">time to live</a> of this authentication request
 in seconds.  If not specified, the default value is <code>3600</code> (seconds) - i.e. 1 hour.

 <p><b>This method should only be called when the OAuth client is specifically requesting a new Access Token</b>,
 for example, a request to your application's oauth token endpoint, e.g. <code>/oauth/token</code></p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ttl</code> - the time to live (in seconds) of this authentication request.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <a href="../../../../com/stormpath/sdk/oauth/AccessTokenRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth"><code>AccessTokenRequestAuthenticator</code></a> instance created with the current state of the
         this builder.</dd>
</dl>
</li>
</ul>
<a name="inLocation-com.stormpath.sdk.oauth.RequestLocation...-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>inLocation</h4>
<pre><a href="../../../../com/stormpath/sdk/oauth/ResourceRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth">ResourceRequestAuthenticator</a>&nbsp;inLocation(<a href="../../../../com/stormpath/sdk/oauth/RequestLocation.html" title="enum in com.stormpath.sdk.oauth">RequestLocation</a>...&nbsp;locations)</pre>
<div class="block">Specifies the request location(s) that will be checked when looking up the request's Access Token.  Unspecified
 locations will not be checked.
 <p>
 If this method is not called, both the request header and body will be checked by default.
 </p>

 <p>This method will return a new <a href="../../../../com/stormpath/sdk/oauth/ResourceRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth"><code>ResourceRequestAuthenticator</code></a> with the current state of the this
 builder.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>locations</code> - the location(s) for the <code>Bearer</code>.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <a href="../../../../com/stormpath/sdk/oauth/ResourceRequestAuthenticator.html" title="interface in com.stormpath.sdk.oauth"><code>ResourceRequestAuthenticator</code></a> instance created with the current state of the
         this builder.</dd>
</dl>
</li>
</ul>
<a name="authenticate-com.stormpath.sdk.http.HttpRequest-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>authenticate</h4>
<pre><a href="../../../../com/stormpath/sdk/oauth/OAuthAuthenticationResult.html" title="interface in com.stormpath.sdk.oauth">OAuthAuthenticationResult</a>&nbsp;authenticate(<a href="../../../../com/stormpath/sdk/http/HttpRequest.html" title="interface in com.stormpath.sdk.http">HttpRequest</a>&nbsp;httpRequest)</pre>
<div class="block">Authenticates an OAuth-based HTTP request submitted to your application's API, returning a result that
 reflects the successfully authenticated <a href="../../../../com/stormpath/sdk/account/Account.html" title="interface in com.stormpath.sdk.account"><code>Account</code></a> that made the request and the <a href="../../../../com/stormpath/sdk/api/ApiKey.html" title="interface in com.stormpath.sdk.api"><code>ApiKey</code></a> used to
 authenticate the request.  Throws a <a href="../../../../com/stormpath/sdk/resource/ResourceException.html" title="class in com.stormpath.sdk.resource"><code>ResourceException</code></a> if the request cannot be authenticated.

 <p>This method is only useful if you know for sure the HTTP request is an Oauth-based request, and:

 <ul>
     <li>
     The request is authenticating with an Access Token and you want to explicitly control the
     locations in the request where you allow the access token to exist.  If you're comfortable with the default
     behavior of inspecting the headers and request body (and not request params, as they can be seen as a less
     secure way of authentication), you do not need to call this method, and should call the
     ServletApi method instead.
     </li>
     <li>
     <p>The HTTP request is an OAuth Client Credentials Grant Type request whereby the client is explicitly
     asking for a new Access Token <em>and</em> you want to control the returned token's OAuth scope and/or
     time-to-live (TTL).</p>
     <p>This almost always is the case when the client is interacting with your
     OAuth token endpoint, for example, a URI like <code>/oauth2/tokens</code>. If either the request is a normal OAuth
     request or the above condition does not apply to you, then you do not need to call this method, and
     should call the <a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-"><code>ApiRequestAuthenticator.authenticate(HttpRequest)</code></a> method instead.</p>
     </li>
 </ul>
 <p>Again, if either of these two scenarios above does not apply to your use case, do not call this method; call
 the <a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-"><code>ApiRequestAuthenticator.authenticate(HttpRequest)</code></a> method instead.</p>

 <p>Next, we'll cover these 2 scenarios.</p>

 <h3>Scenario 1: OAuth (Bearer) Access Token Allowed Locations</h3>

 <p>By default, this method and <a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-"><code>ApiRequestAuthenticator.authenticate(HttpRequest)</code></a> will authenticate an OAuth request
 that presents its (bearer) Access Token in two of three locations in the request:
 <ol>
     <li>
         The request's <code>Authorization</code> header, per the
         <a href="http://tools.ietf.org/html/rfc6750#section-2.1">OAuth 2 Bearer Token specification, Section
         2.1</a>.
     </li>
     <li>
         The request <code>application/x-www-form-urlencoded</code> body as a <code>access_token</code> parameter, per the
         <a href="http://tools.ietf.org/html/rfc6750#section-2.2">OAuth 2 Bearer Token specification, Section
         2.2</a>
     </li>
 </ol>
 </p>
 <p>
 Although checking a request <code>access_token</code> query parameter, per the
 <a href="http://tools.ietf.org/html/rfc6750#section-2.3">OAuth 2 Bearer Token specification, Section 2.3</a> is
 also supported, query parameters are <em>NOT</em> inspected by default.  Using request parameters for
 authentication is often seen as a potential security risk and generally discouraged.  That being said, if you
 need to support this location, perhaps because you need to support a legacy client, you can enable this
 location explicitly if desired, for example:
 <pre>
 import static com.stormpath.sdk.oauth.RequestLocation.*;

 Application application = client.getResource(myApplicationRestUrl, Application.class);

 OAuthAuthenticationResult result = Applications.oauthRequestAuthenticator(application)
     <b><a href="../../../../com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html#inLocation-com.stormpath.sdk.oauth.RequestLocation...-"><code>.inLocation(</code></a><a href="../../../../com/stormpath/sdk/oauth/RequestLocation.html#HEADER"><code>HEADER</code></a>, <a href="../../../../com/stormpath/sdk/oauth/RequestLocation.html#BODY"><code>BODY</code></a>, <a href="../../../../com/stormpath/sdk/oauth/RequestLocation.html#QUERY_PARAM"><code>QUERY_PARAM</code></a>)</b>
     .authenticate(httpRequest);
 </pre>
 </p>

 <p>The above code example implies that you will tell developers which options they
 may use (and may not use) when configuring their OAuth client to communicate with your API.</p>

 <h3>Scenario 2: Creating OAuth Access Tokens</h3>

 <p>If the HTTP request is sent to your OAuth token creation endpoint, for example, <code>/oauth2/token</code> you
 will need to call this method, and the Stormpath SDK will automatically create an Access Token for you.  After
 it is created, you must send the token to the client in the HTTP response.  For example:

 <pre>
 //assume a POST request to, say, https://api.mycompany.com/oauth/token:

 public void processOauthTokenRequest(HttpServletRequest request, HttpServletResponse response) {

    Application application = client.getResource(myApplicationRestUrl, Application.class);

    AccessTokenResult result = (AccessTokenResult) Applications.oauthRequestAuthenticator(application).authenticate(request);

    <b>TokenResponse token = result.getTokenResponse();

    response.setStatus(HttpServletResponse.SC_OK);
    response.setContentType("application/json");
    response.getWriter().print(token.toJson());</b>

    response.getWriter().flush();
 }
 </pre>
 </p>

 <p>As you can see, <a href="../../../../com/stormpath/sdk/oauth/TokenResponse.html#toJson--"><code>tokenResponse.toJson()</code></a> method
 will return a JSON string to populate the response body - it is not strictly
 necessary to read individual properties on the <code>TokenResponse</code> instance.</p>

 <h4>Non Servlet Environments</h4>

 <p>If your application does not run in a Servlet environment - for example, maybe you use a custom HTTP
 framework, or Netty, or Play!, you can use the <a href="../../../../com/stormpath/sdk/http/HttpRequestBuilder.html" title="interface in com.stormpath.sdk.http"><code>HttpRequestBuilder</code></a> to represent your framework-specific HTTP request object as a type the Stormpath SDK
 understands.  For example:</p>
 <pre>
 ...
 <b>// Convert the framework-specific HTTP Request into a request type the Stormpath SDK understands:
    <a href="../../../../com/stormpath/sdk/http/HttpRequest.html" title="interface in com.stormpath.sdk.http"><code>HttpRequest</code></a> request = <a href="../../../../com/stormpath/sdk/http/HttpRequests.html" title="class in com.stormpath.sdk.http"><code>HttpRequests</code></a>.method(frameworkSpecificRequest.getMethod())
        .headers(frameworkSpecificRequest.getHeaders())
        .queryParameters(frameworkSpecificRequest.getQueryParameters())
        .build();</b>

    ApiAuthenticationResult result = Applications.oauthRequestAuthenticator(application).authenticate(request);
 ...
 </pre>

 <h4>Customizing the OAuth Access Token Time-To-Live (TTL)</h4>

 <p>By default, this SDK creates Access Tokens that are valid for 3600 seconds (1 hour).  If you want to change
 this value, you will need to invoke the <code>withTtl</code> method on the returned executor and specify your desired
 TTL.  For example:

 <pre>
 //assume a POST request to, say, https://api.mycompany.com/oauth/token:

 public void processOauthTokenRequest(HttpServletRequest request, HttpServletResponse response) {

    Application application = client.getResource(myApplicationRestUrl, Application.class);

    <b>int desiredTimeoutSeconds = 3600; //change to your preferred value</b>

    AccessTokenResult result = (AccessTokenResult) Applications.oauthRequestAuthenticator(application)
      .withTtl(desiredTimeoutSeconds)
      .authenticate(request);

    TokenResponse token = result.getTokenResponse();

    response.setStatus(HttpServletResponse.SC_OK);
    response.setContentType("application/json");
    response.getWriter().print(token.toJson());

    response.getWriter().flush();
 }
 </pre>
 </p>

 <h4>Customizing the OAuth Access Token Scope</h4>

 <p>As an Authorization protocol, OAuth allows you to attach <em>scope</em>, aka application-specific
 <em>permissions</em> to an Access Token when it is created.  You can check this scope on
 <a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-"><code>ApiRequestAuthenticator.authenticate(HttpRequest)</code></a>  later requests} and make authorization decisions to allow or deny the API
 request based on the granted scope.</p>

 <p>When an access token is created, you can specify your application's own custom scope by calling the
 <code>withScope</code> method on the returned executor.  For example:

 <pre>
 //assume a POST request to, say, https://api.mycompany.com/oauth/token:

 public void processOauthTokenRequest(HttpServletRequest request, HttpServletResponse response) {

    Application application = client.getResource(myApplicationRestUrl, Application.class);

    int desiredTimeoutSeconds = 3600; //change to your preferred value

    <b>ScopeFactory scopeFactory = getScopeFactory(); //get your ScopeFactory implementation from your app config</b>

    AccessTokenResult result = (AccessTokenResult)application
        .authenticateOauthRequest(request)
        .withTtl(desiredTimeoutSeconds)
        <b>.withScopeFactory(scopeFactory)</b>
        .authenticate(request);

    TokenResponse token = result.getTokenResponse();

    response.setStatus(HttpServletResponse.SC_OK);
    response.setContentType("application/json");
    response.getWriter().print(token.toJson());

    response.getWriter().flush();
 }
 </pre>
 </p>

 <p>Your <a href="../../../../com/stormpath/sdk/oauth/ScopeFactory.html" title="interface in com.stormpath.sdk.oauth"><code>ScopeFactory</code></a> implementation can inspect the
 1) successfully authenticated API client Account and 2) the client's <em>requested</em> scope.  Your
 implementation returns the <em>actual</em> scope that you want granted to the Access Token (which may or may not
 be different than the requested scope based on your requirements).</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-">authenticate</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html" title="interface in com.stormpath.sdk.api">ApiRequestAuthenticator</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>httpRequest</code> - a <a href="../../../../com/stormpath/sdk/http/HttpRequest.html" title="interface in com.stormpath.sdk.http"><code>HttpRequest</code></a> instance.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a new <a href="../../../../com/stormpath/sdk/oauth/OAuthAuthenticationResult.html" title="interface in com.stormpath.sdk.oauth"><code>OAuthAuthenticationResult</code></a> if the API request was authenticated successfully.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</a></code> - if the method argument is null or is not either a <a href="../../../../com/stormpath/sdk/http/HttpRequest.html" title="interface in com.stormpath.sdk.http"><code>HttpRequest</code></a> instance.</dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>1.0.RC4.6</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/stormpath/sdk/api/ApiRequestAuthenticator.html#authenticate-com.stormpath.sdk.http.HttpRequest-"><code>ApiRequestAuthenticator.authenticate(com.stormpath.sdk.http.HttpRequest)</code></a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/OAuthApiRequestAuthenticator.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/stormpath/sdk/oauth/IdSiteAuthenticatorFactory.html" title="interface in com.stormpath.sdk.oauth"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/stormpath/sdk/oauth/OAuthAuthenticationResult.html" title="interface in com.stormpath.sdk.oauth"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/stormpath/sdk/oauth/OAuthApiRequestAuthenticator.html" target="_top">Frames</a></li>
<li><a href="OAuthApiRequestAuthenticator.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2012&#x2013;2016. All rights reserved.</small></p>
</body>
</html>
