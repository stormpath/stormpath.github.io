

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Create the Profile View &mdash; Stormpath AngularJS + Yeoman Guide 0.0.2 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="top" title="Stormpath AngularJS + Yeoman Guide 0.0.2 documentation" href="index.html"/>
        <link rel="next" title="Password Reset Flow" href="password_reset.html"/>
        <link rel="prev" title="Create the Registration Form" href="register.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="index.html" class="fa fa-home"> Stormpath AngularJS + Yeoman Guide</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#what-we-re-building">What We&#8217;re Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#example-project">Example Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#how-to-get-support">How to get Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_new_project.html">Creating a Fullstack Project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#installing-node-grunt-bower-and-yeoman">Installing Node, Grunt, Bower and Yeoman</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#create-an-angular-fullstack-project">Create an Angular-Fullstack Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#install-the-stormpath-packages">Install the Stormpath Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#upgrade-express">Upgrade Express</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_new_project.html#git-tracking">Git Tracking</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="create_tenant.html">Create a Stormpath Tenant</a><ul>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#sign-up-for-stormpath">Sign up for Stormpath</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-an-api-key-pair">Create an API Key Pair</a></li>
<li class="toctree-l2"><a class="reference internal" href="create_tenant.html#create-a-stormpath-application">Create a Stormpath Application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="protect_api.html">Configure the Server</a><ul>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#setting-environment-variables">Setting Environment Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#require-the-stormpath-module">Require the Stormpath Module</a></li>
<li class="toctree-l2"><a class="reference internal" href="protect_api.html#reload-the-app">Reload the App</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="configure_angular.html">Configure the Angular App</a><ul>
<li class="toctree-l2"><a class="reference internal" href="configure_angular.html#add-stormpath-to-the-angular-application">Add Stormpath to the Angular Application</a></li>
<li class="toctree-l2"><a class="reference internal" href="configure_angular.html#configure-the-ui-router-integration">Configure the UI Router Integration</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="customize_menu.html">Customize the Menu</a><ul>
<li class="toctree-l2"><a class="reference internal" href="customize_menu.html#modify-navbar-html">Modify navbar.html</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="login.html">Create the Login Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="login.html#generate-the-login-route">Generate the /login Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="login.html#use-the-login-form-directive">Use the Login Form Directive</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="register.html">Create the Registration Form</a><ul>
<li class="toctree-l2"><a class="reference internal" href="register.html#generate-the-register-route">Generate the /register Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#add-the-registration-form-directive">Add the Registration Form Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#generate-the-verify-route">Generate the /verify Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#use-the-email-verification-directive">Use the Email Verification Directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#try-it-register-for-an-account">Try It, Register for an Account!</a></li>
<li class="toctree-l2"><a class="reference internal" href="register.html#customizing-the-form">Customizing the Form</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Create the Profile View</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#generate-the-profile-route">Generate the /profile Route</a></li>
<li class="toctree-l2"><a class="reference internal" href="#force-authentication">Force Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-the-view">Create the View</a></li>
<li class="toctree-l2"><a class="reference internal" href="#try-it-out-see-your-profile">Try It Out, See Your Profile!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="password_reset.html">Password Reset Flow</a><ul>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#generate-the-routes">Generate the Routes</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#add-the-sptoken-parameter">Add the sptoken Parameter</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#use-the-password-reset-directives">Use the Password Reset Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#configure-the-directory">Configure the Directory</a></li>
<li class="toctree-l2"><a class="reference internal" href="password_reset.html#try-it-reset-your-password">Try It, Reset your Password!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="access_control.html">Access Control</a><ul>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#ui-state-control">UI State Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#helper-directives">Helper Directives</a></li>
<li class="toctree-l2"><a class="reference internal" href="access_control.html#api-security">API Security</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="wait_for_user.html">Waiting For User State</a><ul>
<li class="toctree-l2"><a class="reference internal" href="wait_for_user.html#use-the-waitforuser-option">Use the waitForUser Option</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="coming_soon.html">Coming Soon!</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath AngularJS + Yeoman Guide</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Create the Profile View</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/user_profile.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="create-the-profile-view">
<span id="user-dashboard"></span><h1>Create the Profile View<a class="headerlink" href="#create-the-profile-view" title="Permalink to this headline">¶</a></h1>
<p>Most user-centric applications have a Profile view where the user can view and
edit their basic profile information.  In this section, we will show you how to
make a <em>very</em> simple display of the user&#8217;s information.  In the next release of
this guide, we will show you how to update the user&#8217;s information, see <a class="reference internal" href="coming_soon.html#coming-soon"><em>Coming Soon!</em></a></p>
<div class="section" id="generate-the-profile-route">
<h2>Generate the /profile Route<a class="headerlink" href="#generate-the-profile-route" title="Permalink to this headline">¶</a></h2>
<p>Alright, one more time!  We&#8217;re going to use the generator to scaffold the files for us:</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>yo angular-fullstack:route profile
</pre></div>
</div>
<div class="highlight-bash"><div class="highlight"><pre>? Where would you like to create this route? client/app/
? What will the url of your route be? /profile
</pre></div>
</div>
</div>
<div class="section" id="force-authentication">
<h2>Force Authentication<a class="headerlink" href="#force-authentication" title="Permalink to this headline">¶</a></h2>
<p>The user must be logged in if they want to see their profile;
otherwise, there is nothing to show!  We want to prevent users
from accessing this page if they are not logged in.  We do
that by defining the
<a class="reference external" href="https://docs.stormpath.com/angularjs/sdk/#/api/stormpath.SpStateConfig:SpStateConfig">SpStateConfig</a>
on the UI state for this route.</p>
<p>Open the file <tt class="docutils literal"><span class="pre">client/app/profile/profile.js</span></tt> and modify the
state configuration to include the Stormpath state configuration:</p>
<div class="highlight-js"><div class="highlight"><pre><span class="p">.</span><span class="nx">state</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">url</span><span class="o">:</span> <span class="s1">&#39;/profile&#39;</span><span class="p">,</span>
  <span class="nx">templateUrl</span><span class="o">:</span> <span class="s1">&#39;app/profile/profile.html&#39;</span><span class="p">,</span>
  <span class="nx">controller</span><span class="o">:</span> <span class="s1">&#39;ProfileCtrl&#39;</span><span class="p">,</span>
  <span class="nx">sp</span><span class="o">:</span> <span class="p">{</span>
    <span class="nx">authenticate</span><span class="o">:</span> <span class="kc">true</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="create-the-view">
<h2>Create the View<a class="headerlink" href="#create-the-view" title="Permalink to this headline">¶</a></h2>
<p>Because we have declared <tt class="docutils literal"><span class="pre">authenticate:</span> <span class="pre">true</span></tt> for this state, we
are guaranteed that the user will always be logged in by the time that
this view loads (if the user is not logged in, they are redirected
to the login page - and then back here).</p>
<p>With that assurance, we can code our template without any complex
switches.
The Stormpath module will automatically assign the current user
object to <tt class="docutils literal"><span class="pre">user</span></tt> on the Root Scope, so it will always be available
in your templates.</p>
<p>We&#8217;re going to keep this super simple and merely render user&#8217;s object as a JSON
structure.  Obviously, you&#8217;ll be doing more than this when your application goes
live. :)</p>
<p>Open the file <tt class="docutils literal"><span class="pre">client/app/profile/profile.html</span></tt> and then replace
it&#8217;s contents with this:</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;div</span> <span class="na">ng-include=</span><span class="s">&quot;&#39;components/navbar/navbar.html&#39;&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>

<span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;container&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;h3&gt;</span>My Profile<span class="nt">&lt;/h3&gt;</span>
      <span class="nt">&lt;hr&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;/div&gt;</span>

  <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;row&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;col-xs-12&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;pre</span> <span class="na">ng-bind=</span><span class="s">&quot;user | json&quot;</span><span class="nt">&gt;&lt;/pre&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
  <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre></div>
</div>
<p>Just like the other pages, we&#8217;ve included our common menu and setup
some basic Bootstrap classes.  The <tt class="docutils literal"><span class="pre">&lt;pre&gt;</span></tt> block will leverage
Angular&#8217;s built-in <tt class="docutils literal"><span class="pre">json</span></tt> filter to show the user object.</p>
</div>
<div class="section" id="try-it-out-see-your-profile">
<h2>Try It Out, See Your Profile!<a class="headerlink" href="#try-it-out-see-your-profile" title="Permalink to this headline">¶</a></h2>
<p>Go back to your browser, make sure your logged in, and then go to the
Profile link.  You should now see your user data:</p>
<img alt="_images/profile_view.png" src="_images/profile_view.png" />
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="password_reset.html" class="btn btn-neutral float-right" title="Password Reset Flow">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="register.html" class="btn btn-neutral" title="Create the Registration Form"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Stormpath.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.0.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>
