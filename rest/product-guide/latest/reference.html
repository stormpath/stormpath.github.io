

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>REST API Reference &mdash; Stormpath REST Documentation  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="about.html"/>
    <link rel="top" title="Stormpath REST Documentation  documentation" href="index.html"/>
        <link rel="next" title="Configuration" href="configuration.html"/>
        <link rel="prev" title="7. Using ID Site" href="idsite.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  

          
            <a href="index.html" class="icon icon-home"> Stormpath REST Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          

  <div class="langpicker-container">
    <a href="#langpicker" class="langpicker-link">
      <i class="fa fa-code"></i>
      Switch Language
    </a>
    <div id="langpicker" style="display:none;">
      <div class="">
        <a href="/csharp/product-guide/latest/reference.html">C#</a>
      </div>
      <div class="">
        <a href="/php/product-guide/latest/reference.html">PHP</a>
      </div>
      <div class="current">
        <a href="/rest/product-guide/latest/reference.html">REST</a>
      </div>
      <div class="">
        <a href="/vbnet/product-guide/latest/reference.html">Visual Basic</a>
      </div>
      <!--
      <div class="">
        <a href="/java/product-guide/latest/reference.html">Java</a>
      </div>
      <div class="">
        <a href="/csharp/product-guide/latest/reference.html">Python</a>
      </div>
      <div class="">
        <a href="/nodejs/product-guide/latest/reference.html">Node.js</a>
      </div>
      -->
    </div>
  </div>

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About Stormpath</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">2. Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="accnt_mgmt.html">3. Account Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth_n.html">4. Authenticating Accounts with Stormpath</a></li>
<li class="toctree-l1"><a class="reference internal" href="auth_z.html">5. Authorization With Stormpath</a></li>
<li class="toctree-l1"><a class="reference internal" href="multitenancy.html">6. Multi-Tenancy with Stormpath</a></li>
<li class="toctree-l1"><a class="reference internal" href="idsite.html">7. Using ID Site</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">REST API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#rest-api-core-concepts">REST API Core Concepts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#base-url">Base URL</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-format">Resource Format</a></li>
<li class="toctree-l3"><a class="reference internal" href="#request-identifiers">Request Identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#authentication">Authentication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#basic-authentication-over-https">Basic Authentication over HTTPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#digest-authentication">Digest Authentication</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-retrieving-updating-and-deleting-resources">Creating, Retrieving, Updating, and Deleting Resources</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#creating-resources">Creating Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieving-resources">Retrieving Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#updating-resources">Updating Resources</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deleting-resources">Deleting Resources</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rest-error-responses">REST Error Responses</a></li>
<li class="toctree-l3"><a class="reference internal" href="#collection-resource">Collection Resource</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pagination">Pagination</a></li>
<li class="toctree-l4"><a class="reference internal" href="#sorting">Sorting</a></li>
<li class="toctree-l4"><a class="reference internal" href="#search">Search</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#links">Links</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tenant">Tenant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#tenant-operations">Tenant Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-a-tenant">Retrieve A Tenant</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-tenant-for-look-up">Using A Tenant for Look-Up</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-resources-associated-with-a-tenant">Other Resources Associated with a Tenant</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ref-id-site">ID Site</a></li>
<li class="toctree-l4"><a class="reference internal" href="#smtp-server">SMTP Server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#application">Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#application-operations">Application Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-application">Create An Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-an-application">Retrieve an Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-an-application">Update an Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-an-application">Delete an Application</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-application-for-look-up">Using an Application for Look-Up</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#application-endpoints">Application Endpoints</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#login-attempts">Login Attempts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#password-reset-tokens">Password Reset Tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#verification-email">Verification Email</a></li>
<li class="toctree-l4"><a class="reference internal" href="#auth-tokens">Auth Tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#oauth-token">OAuth Token</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-resources-associated-with-an-application">Other Resources Associated with an Application</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#application-api-keys">Application API Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#oauth-policy">OAuth Policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#saml-policy-resource">SAML Policy Resource</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#account-store-mapping">Account Store Mapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#account-store-mapping-operations">Account Store Mapping Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-account-store-mapping">Create an Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-an-account-store-mapping">Retrieve an Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-an-account-store-mapping">Update an Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-an-account-store-mapping">Delete an Account Store Mapping</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#directory">Directory</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#directory-operations">Directory Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-directory">Create a Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-a-directory">Retrieve a Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-a-directory">Update a Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-a-directory">Delete a Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-directory-for-look-up">Using A Directory for Look-Up</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-resources-associated-with-a-directory">Other Resources Associated with a Directory</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#account-creation-policy">Account Creation Policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#password-policy">Password Policy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#email-templates">Email Templates</a></li>
<li class="toctree-l4"><a class="reference internal" href="#password-strength">Password Strength</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provider">Provider</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#group">Group</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#group-operations">Group Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-group">Create a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-a-group">Retrieve a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-a-group">Update a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-a-group">Delete a Group</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-a-group-for-look-up">Using a Group for Look-Up</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#group-membership">Group Membership</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#group-membership-operations">Group Membership Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-group-membership">Create a Group Membership</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-a-group-membership">Retrieve a Group Membership</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-a-group-membership">Update a Group Membership</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-a-group-membership">Delete a Group Membership</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#organization">Organization</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#organization-operations">Organization Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-organization">Create an Organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-an-organization">Retrieve an Organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-an-organization">Update an Organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-an-organization">Delete an Organization</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-organization-for-look-up">Using an Organization for Look-Up</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#organization-account-store-mapping">Organization Account Store Mapping</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#organization-account-store-mapping-operations">Organization Account Store Mapping Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-organization-account-store-mapping">Create an Organization Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-an-organization-account-store-mapping">Retrieve an Organization Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-an-organization-account-store-mapping">Update an Organization Account Store Mapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-an-organization-account-store-mapping">Delete an Organization Account Store Mapping</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#account">Account</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#account-operations">Account Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-an-account">Create an Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-an-account">Retrieve an Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-an-account">Update an Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-an-account">Delete an Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-account-for-look-up">Using an Account for Look-Up</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#other-resources-associated-with-an-account">Other Resources Associated with an Account</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#account-api-keys">Account API Keys</a></li>
<li class="toctree-l4"><a class="reference internal" href="#access-tokens">Access Tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#refresh-tokens">Refresh Tokens</a></li>
<li class="toctree-l4"><a class="reference internal" href="#provider-data">Provider Data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanded-json-web-token">Expanded JSON Web Token</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#custom-data">Custom Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#custom-data-operations">Custom Data Operations</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#create-a-customdata">Create a customData</a></li>
<li class="toctree-l4"><a class="reference internal" href="#retrieve-a-customdata">Retrieve a customData</a></li>
<li class="toctree-l4"><a class="reference internal" href="#update-a-customdata">Update a customData</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-a-customdata">Delete a customData</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="errors.html">Stormpath Error Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

            
          

  


        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Stormpath REST Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>REST API Reference</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rest-api-reference">
<span id="reference"></span><h1>REST API Reference<a class="headerlink" href="#rest-api-reference" title="Permalink to this headline">¶</a></h1>
<p>This section covers the Core Concepts of the Stormpath REST API, as well as serving as a complete reference for all of the Stormpath resources as well as the operations that it is possible to perform with them.</p>
<div class="section" id="rest-api-core-concepts">
<span id="rest-concepts"></span><h2>REST API Core Concepts<a class="headerlink" href="#rest-api-core-concepts" title="Permalink to this headline">¶</a></h2>
<p>The following information is essential to understanding how the Stormpath API functions. You should familiarize yourself with it before moving on to the rest of this reference.</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#base-url" id="id39">Base URL</a></li>
<li><a class="reference internal" href="#resource-format" id="id40">Resource Format</a></li>
<li><a class="reference internal" href="#request-identifiers" id="id41">Request Identifiers</a></li>
<li><a class="reference internal" href="#authentication" id="id42">Authentication</a><ul>
<li><a class="reference internal" href="#basic-authentication-over-https" id="id43">Basic Authentication over HTTPS</a></li>
<li><a class="reference internal" href="#digest-authentication" id="id44">Digest Authentication</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-retrieving-updating-and-deleting-resources" id="id45">Creating, Retrieving, Updating, and Deleting Resources</a><ul>
<li><a class="reference internal" href="#creating-resources" id="id46">Creating Resources</a></li>
<li><a class="reference internal" href="#retrieving-resources" id="id47">Retrieving Resources</a></li>
<li><a class="reference internal" href="#updating-resources" id="id48">Updating Resources</a></li>
<li><a class="reference internal" href="#deleting-resources" id="id49">Deleting Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#rest-error-responses" id="id50">REST Error Responses</a></li>
<li><a class="reference internal" href="#collection-resource" id="id51">Collection Resource</a><ul>
<li><a class="reference internal" href="#pagination" id="id52">Pagination</a></li>
<li><a class="reference internal" href="#sorting" id="id53">Sorting</a></li>
<li><a class="reference internal" href="#search" id="id54">Search</a></li>
</ul>
</li>
<li><a class="reference internal" href="#links" id="id55">Links</a></li>
</ul>
</div>
<div class="section" id="base-url">
<h3><a class="toc-backref" href="#id39">Base URL</a><a class="headerlink" href="#base-url" title="Permalink to this headline">¶</a></h3>
<p>All URLs referenced in the API documentation begin with the following base URL:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">https://api.stormpath.com/v1/</span></code></div></blockquote>
<p>This is the base URL for Stormpath&#8217;s public API. If you are using an Enterprise deployment, your base URL will instead be:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">https://enterprise.stormpath.io/v1/</span></code></div></blockquote>
<p>And if you have a private Stormpath deployment, the base URL could be a completely custom URL, or simply:</p>
<blockquote>
<div><code class="docutils literal"><span class="pre">https://yourOrganization.stormpath.io/v1/</span></code></div></blockquote>
</div>
<div class="section" id="resource-format">
<h3><a class="toc-backref" href="#id40">Resource Format</a><a class="headerlink" href="#resource-format" title="Permalink to this headline">¶</a></h3>
<p>The Stormpath REST API currently only supports JSON resource representations. If you would like other formats supported, please email us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a> to let us know!</p>
</div>
<div class="section" id="request-identifiers">
<span id="request-id"></span><h3><a class="toc-backref" href="#id41">Request Identifiers</a><a class="headerlink" href="#request-identifiers" title="Permalink to this headline">¶</a></h3>
<p>Every request to Stormpath has a universally unique identifier (UUID). In the case of a successful API request, this UUID is passed as a <code class="docutils literal"><span class="pre">Stormpath-Request-Id</span></code> header in the response. In the case of an error response, the UUID will be returned in <a class="reference internal" href="#ref-error-responses"><span class="std std-ref">the body of the error message</span></a>.</p>
</div>
<div class="section" id="authentication">
<h3><a class="toc-backref" href="#id42">Authentication</a><a class="headerlink" href="#authentication" title="Permalink to this headline">¶</a></h3>
<p>Every request to the Stormpath REST API must be authenticated with an <strong>API key</strong> over <strong>HTTPS</strong>. HTTP is not supported. If you want to make a REST request to Stormpath, we assume you have already:</p>
<ul class="simple">
<li><a class="reference internal" href="quickstart.html#quickstart-signup"><span class="std std-ref">Signed up for Stormpath</span></a>.</li>
<li><a class="reference internal" href="quickstart.html#quickstart-create-apikey"><span class="std std-ref">Obtained your API key</span></a>.</li>
</ul>
<p>When you have an API key, you can choose one of two ways to authenticate with Stormpath:</p>
<ul class="simple">
<li>HTTP Basic authentication</li>
<li>Digest authentication</li>
</ul>
<div class="section" id="basic-authentication-over-https">
<h4><a class="toc-backref" href="#id43">Basic Authentication over HTTPS</a><a class="headerlink" href="#basic-authentication-over-https" title="Permalink to this headline">¶</a></h4>
<p>Most clients (including web browsers) show a dialog or prompt for you to provide a username and password for HTTP Basic authentication.</p>
<p>When using an API key with Basic authentication, the API key ID is the username and the API key secret is the password:</p>
<ul class="simple">
<li><strong>HTTP basic username:</strong> apiKey.id value</li>
<li><strong>HTTP basic password:</strong> apiKey.secret value</li>
</ul>
<p>For example, if using cUrl:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/current&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="digest-authentication">
<h4><a class="toc-backref" href="#id44">Digest Authentication</a><a class="headerlink" href="#digest-authentication" title="Permalink to this headline">¶</a></h4>
<p>Stormpath also supports a more secure authentication scheme known as <strong>Digest authentication</strong>. This approach computes a cryptographic digest of the request and sends the digest value along with the request. If the transmitted digest matches what the Stormpath API server computes for the same request, the request is authenticated.</p>
<p>This technique is especially secure because the API key secret is never transmitted outside of the application, making it extremely difficult for anything outside of the application to interfere with a request or see the secret.</p>
<p>We recommend using Digest authentication whenever possible because it is inherently more secure. However, due to its complexity, it might not be feasible for some projects.</p>
<p>All Stormpath SDKs (currently Java, Ruby, PHP, and Python) use this more secure Digest authentication so we recommend that you use the SDKs whenever possible. However, if we do not yet have an SDK for your programming language, you should use basic authentication over HTTPS.</p>
<p>Finally, if you would like to use Stormpath Digest authentication in a programming language that Stormpath does not yet support, you can attempt to port the algorithm to that language. You can try to replicate the algorithm and use Stormpath&#8217;s existing code as examples of the documented algorithm:</p>
<ul class="simple">
<li>Java: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-java/blob/master/impl/src/main/java/com/stormpath/sdk/impl/http/authc/SAuthc1RequestAuthenticator.java">SAuthc1RequestAuthenticator</a> (the <strong>authenticate</strong> method)</li>
<li>Node: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-node/blob/master/lib/authc/Sauthc1RequestAuthenticator.js">Sauthc1RequestAuthenticator</a></li>
<li>PHP: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-php/blob/master/src/Http/Authc/SAuthc1RequestSigner.php">Sauthc1Signer</a> (the <strong>signRequest</strong> method)</li>
<li>Python: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-python/blob/master/stormpath/auth.py">Sauthc1Signer</a> (the <strong>call</strong> method)</li>
<li>Ruby: <a class="reference external" href="https://github.com/stormpath/stormpath-sdk-ruby/blob/master/lib/stormpath-sdk/http/authc/sauthc1_signer.rb">Sauthc1Signer</a> (the <strong>sign_request</strong> method)</li>
</ul>
<p>If you port the algorithm to other languages, please let us know. We are happy to help. Email us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a> and we will help as best as we can.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The Stormpath SAuthc1 digest algorithm is not the same as <a class="reference external" href="http://www.ietf.org/rfc/rfc2617.txt">RFC 2617</a> HTTP Digest authentication. The Stormpath SAuthc1 digest-based authentication scheme is more secure than standard HTTP Digest authentication.</p>
</div>
</div>
</div>
<div class="section" id="creating-retrieving-updating-and-deleting-resources">
<h3><a class="toc-backref" href="#id45">Creating, Retrieving, Updating, and Deleting Resources</a><a class="headerlink" href="#creating-retrieving-updating-and-deleting-resources" title="Permalink to this headline">¶</a></h3>
<p>Stormpath entities have a full set of creation, retrieval, update and deletion actions associated with them. Here we give some information about all of these actions. For a complete description of a resource and the actions that can be performed with it, please click on one of the resource names in the navigation panel on the left.</p>
<div class="section" id="creating-resources">
<h4><a class="toc-backref" href="#id46">Creating Resources</a><a class="headerlink" href="#creating-resources" title="Permalink to this headline">¶</a></h4>
<p>You create a resource by submitting an HTTP <strong>POST</strong> to a resource URL. Any POST body must be represented as <strong>JSON</strong>. Requests that contain body content must specify the HTTP <code class="docutils literal"><span class="pre">Content-Type</span></code> header with a value of <code class="docutils literal"><span class="pre">application/json</span></code>.</p>
<p>Responses to your create POST calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the created entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p id="create-error-codes"><strong>Create POST Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">201</span> <span class="pre">CREATED</span></code></td>
<td>The request was successful, we created a new resource, and the response body contains the representation. The <code class="docutils literal"><span class="pre">Location</span></code> header contains the new resource’s canonical URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>POST is not supported for the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">409</span> <span class="pre">CONFLICT</span></code></td>
<td>You cannot create or update a resource because another resource already exists or conflicts with one you are submitting.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">415</span> <span class="pre">UNSUPPORTED</span> <span class="pre">MEDIA</span> <span class="pre">TYPE</span></code></td>
<td>You did not specify the request <code class="docutils literal"><span class="pre">Content-Type</span></code> header to have a value of <code class="docutils literal"><span class="pre">application/json</span></code>. Only <code class="docutils literal"><span class="pre">application/json</span></code> is currently supported.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieving-resources">
<h4><a class="toc-backref" href="#id47">Retrieving Resources</a><a class="headerlink" href="#retrieving-resources" title="Permalink to this headline">¶</a></h4>
<p>You can retrieve a resource representation by sending a GET.</p>
<p>Responses to your GET calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the requested entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p><strong>GET Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>The request was successful and the response body contains the resource requested.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">302</span> <span class="pre">FOUND</span></code></td>
<td>A common redirect response; you can GET the resource at the URL found in the <code class="docutils literal"><span class="pre">location</span></code> response header.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">304</span> <span class="pre">NOT</span> <span class="pre">MODIFIED</span></code></td>
<td>Your client&#8217;s cached version of the representation is still up-to-date.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="updating-resources">
<h4><a class="toc-backref" href="#id48">Updating Resources</a><a class="headerlink" href="#updating-resources" title="Permalink to this headline">¶</a></h4>
<p>If you want to update a resource, submit an HTTP POST to the resource&#8217;s URL. Any POST body must be represented as JSON. You must submit at least one attribute. As with the creation POST calls, requests that contain body content must specify the HTTP <code class="docutils literal"><span class="pre">Content-Type</span></code> header with a value of <code class="docutils literal"><span class="pre">application/json</span></code>.</p>
<p>Responses to your update POST calls will contain:</p>
<ul class="simple">
<li>An HTTP Status Code indicating success or failure (possible codes can be found below)</li>
<li>Any HTTP Headers</li>
<li>A Response Body, which will contain the created entity resource (if the call succeeded), or a detailed error (if the call failed)</li>
</ul>
<p><strong>Update POST Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">200</span> <span class="pre">OK</span></code></td>
<td>The request was successful and the response body contains the resource requested.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">400</span> <span class="pre">BAD</span> <span class="pre">REQUEST</span></code></td>
<td>The data given in the POST failed validation. Inspect the response body for details.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>POST is not supported for the resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">409</span> <span class="pre">CONFLICT</span></code></td>
<td>You cannot create or update a resource because another resource already exists or conflicts with one you are submitting.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">415</span> <span class="pre">UNSUPPORTED</span> <span class="pre">MEDIA</span> <span class="pre">TYPE</span></code></td>
<td>You did not specify the request <code class="docutils literal"><span class="pre">Content-Type</span></code> header to have a value of <code class="docutils literal"><span class="pre">application/json</span></code>. Only <code class="docutils literal"><span class="pre">application/json</span></code> is currently supported.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="deleting-resources">
<h4><a class="toc-backref" href="#id49">Deleting Resources</a><a class="headerlink" href="#deleting-resources" title="Permalink to this headline">¶</a></h4>
<p>To delete a resource, make an HTTP DELETE request to the resource URL. Note that not all Stormpath REST API resources support delete.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If your HTTP does not support the DELETE method, you can simulate it by sending a POST request to the resource endpoint with a <code class="docutils literal"><span class="pre">_method=DELETE</span></code> query string parameter:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span><span class="s2">&quot;https://api.stormpath.com/v1/applications/$APPLICATION_ID?_method=DELETE&quot;</span>
</pre></div>
</div>
</div>
<p><strong>DELETE Response Status Codes:</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Response Code</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">204</span> <span class="pre">NO</span> <span class="pre">CONTENT</span></code></td>
<td>The request was successful; the resource was deleted. The deleted resource will not be returned..</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">401</span> <span class="pre">UNAUTHORIZED</span></code></td>
<td>Authentication credentials are required to access the resource. All requests must be authenticated.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">403</span> <span class="pre">FORBIDDEN</span></code></td>
<td>The supplied authentication credentials are not sufficient to access the resource.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">404</span> <span class="pre">NOT</span> <span class="pre">FOUND</span></code></td>
<td>We could not locate the resource based on the specified URL.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">405</span> <span class="pre">METHOD</span> <span class="pre">NOT</span> <span class="pre">ALLOWED</span></code></td>
<td>DELETE is not supported for the resource.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">429</span> <span class="pre">TOO</span> <span class="pre">MANY</span> <span class="pre">REQUESTS</span></code></td>
<td>Your application is sending too many simultaneous requests.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">500</span> <span class="pre">SERVER</span> <span class="pre">ERROR</span></code></td>
<td>We could not create or update the resource. Please try again.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">503</span> <span class="pre">SERVICE</span> <span class="pre">UNAVAILABLE</span></code></td>
<td>We are temporarily unable to service the request. Please wait for a bit and try again.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="rest-error-responses">
<span id="ref-error-responses"></span><h3><a class="toc-backref" href="#id50">REST Error Responses</a><a class="headerlink" href="#rest-error-responses" title="Permalink to this headline">¶</a></h3>
<p>REST API responses indicating an error or warning are represented by a proper response HTTP status code (403, 404, etc) along with a response body containing the following information:</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="11%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>Number</td>
<td>The corresponding HTTP status code.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">code</span></code></td>
<td>Number</td>
<td>A <a class="reference external" href="https://docs.stormpath.com/rest/product-guide/latest/errors.html">Stormpath-specific error code</a> that can be used to obtain more information.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">message</span></code></td>
<td>String</td>
<td>A simple, easy to understand message that you can show directly to your application&#8217;s end-user.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">developerMessage</span></code></td>
<td>String</td>
<td>A clear, plain text explanation with technical details that might assist a developer calling the Stormpath API.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">moreInfo</span></code></td>
<td>String</td>
<td>A fully qualified URL that may be accessed to obtain more information about the error.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">requestId</span></code></td>
<td>String</td>
<td>The universally unique identifier of the request that generated this error.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="collection-resource">
<span id="about-collections"></span><h3><a class="toc-backref" href="#id51">Collection Resource</a><a class="headerlink" href="#collection-resource" title="Permalink to this headline">¶</a></h3>
<p>A <strong>Collection</strong> Resource is a resource containing other resources. It is known as a Collection Resource because it is itself a first class resource – it has its own attributes in addition to the resources it contains.</p>
<p><strong>Collection Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The collections&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this collection was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this collection&#8217;s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">offset</span></code></td>
<td>Number</td>
<td>Default is 0.</td>
<td>Used for <a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>. The offset of the first returned resource.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">limit</span></code></td>
<td>Number</td>
<td>Default is 25.</td>
<td>Used for <a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>. The maximum number of collection items to return for a single request.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">size</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The number of resources in the <code class="docutils literal"><span class="pre">items</span></code> array.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">items</span></code></td>
<td>Array</td>
<td>N/A</td>
<td>An array of resources, each with their own <code class="docutils literal"><span class="pre">href</span></code> and attributes.</td>
</tr>
</tbody>
</table>
<p>If you want to interact with multiple resources, you must do so with a Collection Resource. Collection Resources also support additional behavior specific to collections, such as <a class="reference internal" href="#about-pagination"><span class="std std-ref">pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, and <a class="reference internal" href="#about-search"><span class="std std-ref">searching</span></a>.</p>
<div class="section" id="pagination">
<span id="about-pagination"></span><h4><a class="toc-backref" href="#id52">Pagination</a><a class="headerlink" href="#pagination" title="Permalink to this headline">¶</a></h4>
<p>If a Collection Resource represents a large enough number of resource instances, it will not include them all in a single response. Instead a technique known as pagination is used to break up the results into one or more pages of data. You can request additional pages as separate requests.</p>
<p><em>Query Parameters</em></p>
<p>There are two optional query parameters that may be specified to control pagination:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">offset</span></code>: The point at which, in the zero-based starting index of the entire collection, the first returned item is found. Default is 0.</li>
<li><code class="docutils literal"><span class="pre">limit</span></code>: The maximum number of collection items to return for a single request. Minimum value is 1. Maximum value is 100. Default is 25.</li>
</ul>
<p><em>Usage</em></p>
<p>This following request will retrieve a Tenant’s Applications Collection Resource from the server with page results starting at index 10 (the 11th element), with a maximum of 40 total elements:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications?offset=10&amp;limit=40&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>This would result in the following 200 response:</p>
<blockquote>
<div><div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications?offset=10&amp;limit=40&quot;</span><span class="p">,</span>
  <span class="nt">&quot;offset&quot;</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span> <span class="mi">40</span><span class="p">,</span>
  <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="nt">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;// This JSON has been truncated for readability&quot;</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="sorting">
<span id="about-sorting"></span><h4><a class="toc-backref" href="#id53">Sorting</a><a class="headerlink" href="#sorting" title="Permalink to this headline">¶</a></h4>
<p>A request for a Collection Resource can contain an optional <code class="docutils literal"><span class="pre">orderBy</span></code> query parameter. The query parameter value is a URL-encoded comma-delimited list of ordering statements. Each ordering statement identifies a <strong>sortable attribute</strong>, and whether you would like the sorting to be <strong>ascending or descending</strong>.</p>
<p>For example, a sorted request (where %2C is the URL encoding for the comma character) might look like this:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts?orderBy=orderStatement1%2CorderStatement2%2C...%2CorderStatementN&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>When URL-decoded, the URL looks like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>https://api.stormpath.com/v1/accounts?orderBy=orderStatement1,orderStatement2,...,orderStatementN
</pre></div>
</div>
<p>Each <code class="docutils literal"><span class="pre">orderStatement</span></code> is defined as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>``sortableAttributeName optionalAscendingOrDescendingStatement``
</pre></div>
</div>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">sortableAttributeName</span></code> is the name of a sortable attribute of a resource in the Collection. Sortable attributes are non-complex and non-link attributes, such as integers and strings.</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">optionalAscendingOrDescendingStatement</span></code> is composed of the following:</dt>
<dd><ul class="first last simple">
<li>a space character (<code class="docutils literal"><span class="pre">%20</span></code> when URL encoded) followed by:</li>
<li><code class="docutils literal"><span class="pre">asc</span></code> (ascending) or <code class="docutils literal"><span class="pre">desc</span></code> (descending)</li>
<li>If not included, <code class="docutils literal"><span class="pre">asc</span></code> is assumed by default</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>So, putting this all together now. If we wanted to sort all Accounts associated with an Application by Surname ascending and given name descending:</p>
<ul class="simple">
<li>our two <code class="docutils literal"><span class="pre">sortableAttributeName</span></code> parameters are: <code class="docutils literal"><span class="pre">surname</span></code> and <code class="docutils literal"><span class="pre">givenName</span></code></li>
<li>our <code class="docutils literal"><span class="pre">optionalAscendingOrDescendingStatement</span></code> is <code class="docutils literal"><span class="pre">asc</span></code> for <code class="docutils literal"><span class="pre">surname</span></code> and <code class="docutils literal"><span class="pre">desc</span></code> for <code class="docutils literal"><span class="pre">givenName</span></code></li>
</ul>
<p>Which would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">orderBy</span><span class="o">=</span><span class="n">surname</span><span class="p">,</span><span class="n">givenName</span> <span class="n">desc</span>
</pre></div>
</div>
<p>Properly URL encoded it would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>https://api.stormpath.com/v1/applications/$APPLICATION_ID/accounts?orderBy=surname%20asc%2CgivenName%20desc
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Since <code class="docutils literal"><span class="pre">asc</span></code> is the default, we could actually omit it:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>?orderBy=surname%2CgivenName%20desc
</pre></div>
</div>
</div>
</div>
<div class="section" id="search">
<span id="about-search"></span><h4><a class="toc-backref" href="#id54">Search</a><a class="headerlink" href="#search" title="Permalink to this headline">¶</a></h4>
<p>Search in the context of the Stormpath REST API means retrieving only the members of a Collection that match a specific query. You search by sending a GET for a Collection, along with query parameters, and Stormpath returns only the resources from the Collection that match your parameters.</p>
<p>There are currently four different types of searches that might be performed:</p>
<ol class="arabic simple">
<li>A generic <a class="reference internal" href="#search-filter"><span class="std std-ref">filter-based search</span></a>.</li>
<li>A more targeted <a class="reference internal" href="#search-attribute"><span class="std std-ref">attribute-based search</span></a>.</li>
<li>An even more targeted kind of attribute search, the <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a> search.</li>
<li>A search of <a class="reference internal" href="#search-customdata"><span class="std std-ref">customData</span></a>.</li>
</ol>
<p>The primary difference between the first two is that the <strong>filter search</strong> matches across all attributes, while <strong>attribute search</strong> looks only for matches in a specified attribute. The <strong>Datetime search</strong> is a kind of attribute search which is used to find resources based on the time they were created or modified. All three options support result <a class="reference internal" href="#about-sorting"><span class="std std-ref">sorting</span></a>, <a class="reference internal" href="#about-pagination"><span class="std std-ref">pagination</span></a>, and <a class="reference internal" href="#about-links"><span class="std std-ref">link expansion</span></a>.</p>
<div class="section" id="filter-search">
<span id="search-filter"></span><h5>Filter Search<a class="headerlink" href="#filter-search" title="Permalink to this headline">¶</a></h5>
<p>A filter search consists of specifying a query parameter <code class="docutils literal"><span class="pre">q</span></code> and a corresponding search value on a Collection Resource URL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/v1/$CONTAINER_TYPE/$CONTAINER_ID/$RESOURCE_TYPE?q=some+criteria
</pre></div>
</div>
<p>For example, to search across an Application’s Accounts for any Account that has a <a class="reference internal" href="#searchable-attributes"><span class="std std-ref">searchable attribute</span></a> containing the text &#8220;Joe&#8221;:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">/accounts?q=Joe&quot;</span>
</pre></div>
</div>
</div></blockquote>
<div class="section" id="matching-logic">
<h6>Matching Logic<a class="headerlink" href="#matching-logic" title="Permalink to this headline">¶</a></h6>
<p>Stormpath will perform a case-insensitive matching query on all viewable attributes in all the resources in the Collection. Note that &#8220;viewable&#8221; means that the attribute can be viewed by the current caller.</p>
<p>So the following query:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/accounts?q=Joe&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Returns all Accounts where:</p>
<ul class="simple">
<li>Each Account is associated to the specified Group</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">givenName</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">middlename</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">email</span></code> equals or contains &#8220;joe&#8221; (case insensitive) OR</li>
<li>And so on. For more information about which Account attributes are searchable, please see <a class="reference internal" href="#searchable-attributes"><span class="std std-ref">below</span></a>.</li>
</ul>
<p>It may help to think about each attribute comparison as similar to a ‘like’ operation in a traditional relational database context. For example, if SQL was used to execute the query, it might look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">select</span> <span class="o">*</span> <span class="kn">from</span> <span class="nn">my_tenant_accounts</span> <span class="n">where</span>
    <span class="p">(</span><span class="n">lower</span><span class="p">(</span><span class="n">givenName</span><span class="p">)</span> <span class="n">like</span> <span class="s1">&#39;%joe%&#39;</span> <span class="n">OR</span>
     <span class="n">lower</span><span class="p">(</span><span class="n">middlename</span><span class="p">)</span> <span class="n">like</span> <span class="s1">&#39;%joe%&#39;</span> <span class="n">OR</span>
     <span class="n">lower</span><span class="p">(</span><span class="n">email</span><span class="p">)</span> <span class="n">like</span> <span class="s1">&#39;%joe%&#39;</span> <span class="n">OR</span> <span class="o">...</span> <span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="attribute-search">
<span id="search-attribute"></span><h5>Attribute Search<a class="headerlink" href="#attribute-search" title="Permalink to this headline">¶</a></h5>
<p>In the above example, our query returned all Accounts that had any searchable attribute with the query in it. It is also possible to tell Stormpath to only return matches from a particular attribute:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/v1/$RESOURCE_TYPE?anAttribute=someValue&amp;anotherAttribute=anotherValue
</pre></div>
</div>
<p>For example, to search an Application’s Accounts for an Account with a <code class="docutils literal"><span class="pre">givenName</span></code> of <code class="docutils literal"><span class="pre">Joe</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/v1/applications/$APPLICATION_ID/accounts?givenName=Joe
</pre></div>
</div>
<div class="section" id="searchable-attributes">
<span id="id1"></span><h6>Searchable Attributes<a class="headerlink" href="#searchable-attributes" title="Permalink to this headline">¶</a></h6>
<p>The following attributes can be filtered by and searched for:</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Resource</th>
<th class="head">Searchable Attributes</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Application</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-odd"><td>Directory</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-even"><td>Account</td>
<td><code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>, <code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code>, <code class="docutils literal"><span class="pre">passwordModifiedAt</span></code></td>
</tr>
<tr class="row-odd"><td>Group</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
<tr class="row-even"><td>Organization</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="id2">
<h6>Matching Logic<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h6>
<p>Attribute-based queries use standard URL query parameters and function as follows:</p>
<ul>
<li><p class="first">Each query parameter name is the same name of a <a class="reference internal" href="#searchable-attributes"><span class="std std-ref">searchable attribute</span></a> on an instance in the Collection Resource.</p>
</li>
<li><p class="first">A query parameter value triggers one of four types of matching criteria:</p>
<blockquote>
<div><ol class="arabic simple">
<li>No asterisk at the beginning or end of the value indicates a direct match.</li>
<li>An asterisk only at the beginning of the value indicates that value is at the end.</li>
<li>An asterisk only at the end of the value indicates that the value is at the beginning.</li>
<li>An asterisk at the end AND at the beginning of the value indicates the value is contained in the string.</li>
</ol>
</div></blockquote>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Just like with Filter search, queries are case-insensitive.</p>
</div>
<p>So the following query:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/accounts?givenName=Joe&amp;middleName=*aul&amp;surname=*mit*&amp;email=joePaul*&amp;status=disabled&quot;</span>
</pre></div>
</div>
</div></blockquote>
<p>Returns all accounts where:</p>
<ul class="simple">
<li>Each Account belongs to the specified Application</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">givenName</span></code> is equal to &#8220;Joe&#8221; AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">middleName</span></code> ends with &#8220;aul&#8221; AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">surname</span></code> equals or contains &#8220;mit&#8221; AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">email</span></code> starts with with &#8220;joePaul&#8221; AND</li>
<li>The Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> equals &#8220;disabled&#8221;.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For resources with a <code class="docutils literal"><span class="pre">status</span></code> attribute, status query values must be the exact value. For example, <code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code> must be passed, while fragments such as <code class="docutils literal"><span class="pre">ena</span></code>, <code class="docutils literal"><span class="pre">dis</span></code>, <code class="docutils literal"><span class="pre">bled</span></code> are not acceptable.</p>
</div>
</div>
</div>
<div class="section" id="datetime-search">
<span id="search-datetime"></span><h5>Datetime Search<a class="headerlink" href="#datetime-search" title="Permalink to this headline">¶</a></h5>
<p>The Datetime search is a sub-type of the attribute search that allows you to filter or search collections that were created or modified at a particular time.</p>
<p>Stormpath exposes attributes on all resources that will give you information about when the resource was created or modified. For example, an Account resource will have the <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> attributes:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/$ACCOUNT_ID&quot;</span><span class="p">,</span>
  <span class="nt">&quot;comment&quot;</span><span class="p">:</span><span class="s2">&quot; // This JSON has been truncated for readability&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;emailVerificationToken&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/$ACCOUNT_ID/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;...&quot;</span><span class="p">:</span><span class="s2">&quot;...&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Stormpath stores the datetime in <a class="reference external" href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> which is human readable and has common support across all languages. The timezone is coordinated universal time (UTC). So a datetime range would look like this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">ISO</span><span class="o">-</span><span class="mi">8601</span><span class="o">-</span><span class="n">BEGIN</span><span class="o">-</span><span class="n">DATETIME</span><span class="p">,</span> <span class="n">ISO</span><span class="o">-</span><span class="mi">8601</span><span class="o">-</span><span class="n">END</span><span class="o">-</span><span class="n">DATETIME</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Omitting the beginning or ending date is valid for requests. Omitting the begin datetime range [,ISO-8601-END-DATETIME] would include all resources created or modified before the end datetime. Omitting the end datetime range [ISO-8601-BEGIN-DATETIME,] would include all resources created or modified after the the begin datetime.</p>
</div>
<p>As an example, if you want wanted to get all Accounts created between January 12, 2015 and January 14, 2015 your query would look like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s1">&#39;https://api.stormpath.com/v1/applications/$APPLICATION_ID/accounts?createdAt=[2015-01-12, 2015-01-14]&#39;</span>
</pre></div>
</div>
<p>The response would be a Collection of Accounts created between the two days.</p>
<div class="section" id="exclusion-vs-inclusion">
<h6>Exclusion vs Inclusion<a class="headerlink" href="#exclusion-vs-inclusion" title="Permalink to this headline">¶</a></h6>
<p>The square brackets [] denote <strong>inclusion</strong>, but <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> also support <strong>exclusion</strong> with parentheses (). For example, if you wanted to get all Accounts created between January 12 and January 14, 2015 <strong>not including the 14th</strong>, your request would look like this:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s1">&#39;https://api.stormpath.com/v1/applications/$APPLICATION_ID/accounts?createdAt=[2015-01-12, 2015-01-14)&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="precision">
<h6>Precision<a class="headerlink" href="#precision" title="Permalink to this headline">¶</a></h6>
<p>The precision of your query is controlled by the granularity of the <a class="reference external" href="http://www.w3.org/TR/NOTE-datetime">ISO 8601</a> Datetime that you specify.</p>
<p>For example, if you need precision in seconds:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?createdAt=[2015-01-12T12:00:00, 2015-01-12T12:00:05]
</pre></div>
</div>
<p>This query would return all Accounts created in the 5 seconds after noon on December 12, 2015.</p>
<p>And, if you need precision in years:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?createdAt=[2014, 2015]
</pre></div>
</div>
<p>This query would return all Accounts created between January 01 and December 31 in 2014.</p>
</div>
<div class="section" id="shorthand">
<span id="search-datetime-shorthand"></span><h6>Shorthand<a class="headerlink" href="#shorthand" title="Permalink to this headline">¶</a></h6>
<p>It is also possible to use shorthand with ranges of <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> to simplify the query parameter. This is useful for queries where the range can be encapsulated in a particular year, month, day, hour, minute or second.</p>
<p>For example if you wanted all accounts created in Jan 2015, instead of this:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?createdAt=[2015-01-01T00:00:00.000Z,2015-02-01T00:00:00.000)
</pre></div>
</div>
<p>You could just write:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?createdAt=2015-01
</pre></div>
</div>
<p>And if you want all Accounts modified on the 12th hour UTC on Feb 03, 2015, instead of this query:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?modifiedAt=[2015-02-03T12:00:00.000Z, 2015-02-04T13:00:00.000)
</pre></div>
</div>
<p>You can write:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?modifiedAt=2015-02-03T12
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom-data-search">
<span id="search-customdata"></span><h5>Custom Data Search<a class="headerlink" href="#custom-data-search" title="Permalink to this headline">¶</a></h5>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature is currently in beta, any questions comments or suggestions, reach out to us at <a class="reference external" href="mailto:support&#37;&#52;&#48;stormpath&#46;com">support<span>&#64;</span>stormpath<span>&#46;</span>com</a></p>
</div>
<p>It is also possible to search a collection&#8217;s Custom Data. This means that you send a query to a collection:</p>
<p><code class="docutils literal"><span class="pre">?customData=customData.{key}={value}</span></code></p>
<p>You will receive back an array of resources that contain that value in their Custom Data.</p>
<p>Currently, the following resources&#8217; Custom Data can be searched:</p>
<ul class="simple">
<li>Accounts</li>
</ul>
<p>Searches can be performed on the following endpoints:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">/v1/directory/$DIRECTORY_ID/accounts</span></code></li>
</ul>
<p>As an example, if we know that Accounts have a <code class="docutils literal"><span class="pre">favoriteColor</span></code> key in their customData, we could find all Accounts in a Directory that have a Custom Data key <code class="docutils literal"><span class="pre">favoriteColor</span></code> set to <code class="docutils literal"><span class="pre">white</span></code> by sending a GET to:</p>
<p><code class="docutils literal"><span class="pre">/v1/directories/2SKhstu8Plaekcai8lghrp/accounts?customData.favoriteColor=white'</span></code></p>
<p>Custom Data search supports all of the usual <a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a> and <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a> parameters.</p>
<p>The following GET would return Accounts ordered by their <code class="docutils literal"><span class="pre">topScore</span></code> value, with a <code class="docutils literal"><span class="pre">limit</span></code> of <code class="docutils literal"><span class="pre">50</span></code> Accounts in the returned collection:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>/v1/directories/2SKhstu8Plaekcai8lghrp/accounts?orderBy=customData.topScore&amp;limit=50&#39;
</pre></div>
</div>
<div class="section" id="id3">
<h6>Matching Logic<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h6>
<p>A customData parameter value triggers one of four types of matching criteria:</p>
<blockquote>
<div><ol class="arabic simple">
<li>No asterisk at the beginning or end of the value indicates a direct match.</li>
<li>An asterisk only at the beginning of the value indicates that value is at the end.</li>
<li>An asterisk only at the end of the value indicates that the value is at the beginning.</li>
<li>An asterisk at the end AND at the beginning of the value indicates the value is contained in the string.</li>
</ol>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Just like with Filter and Attribute search, queries are case-insensitive.</p>
</div>
<p>If instead of finding all Accounts that had customData where <code class="docutils literal"><span class="pre">favoriteColor=white</span></code> we wanted to find all Accounts where <code class="docutils literal"><span class="pre">favoriteColor</span></code> was any of the colors starting with &#8220;b&#8221;, we would simply change the query to:</p>
<p><code class="docutils literal"><span class="pre">?customData.favoriteColor=b*</span></code></p>
<p>Since we would actually want to see what the values were, we&#8217;d also throw in a <a class="reference internal" href="#about-links"><span class="std std-ref">link expansion</span></a> parameter as well:</p>
<p><code class="docutils literal"><span class="pre">?customData.favoriteColor=b*&amp;expand=customData</span></code></p>
<p>Leaving us with this request:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s1">&#39;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/accounts?customData.favoriteColor=b*&amp;expand=customData&#39;</span>
</pre></div>
</div>
<p>Which would result in the following response:</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/accounts&quot;</span><span class="p">,</span>
  <span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span>
  <span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span>
  <span class="nt">&quot;items&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/2FvPkChR78oFnyfexample&quot;</span><span class="p">,</span>
      <span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;phasma&quot;</span><span class="p">,</span>
      <span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;jakub@example.com&quot;</span><span class="p">,</span>
      <span class="nt">&quot;givenName&quot;</span><span class="p">:</span><span class="s2">&quot;Gwen&quot;</span><span class="p">,</span>
      <span class="nt">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;// This JSON has been truncated for readability&quot;</span><span class="p">,</span>
      <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/2FvPkChR78oFnyfexample/customData&quot;</span><span class="p">,</span>
        <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-11-19T19:46:56.188Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2016-02-25T18:49:39.412Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;favoriteColor&quot;</span><span class="p">:</span><span class="s2">&quot;black&quot;</span>
      <span class="p">}</span>
      <span class="s2">&quot;providerData&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/2FvPkChR78oFnyfexample/providerData&quot;</span>
      <span class="p">},</span>
    <span class="p">}</span>
    <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/72EaYgOaq8lwTFHexample&quot;</span><span class="p">,</span>
      <span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;first2shoot&quot;</span><span class="p">,</span>
      <span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;han@newrepublic.gov&quot;</span><span class="p">,</span>
      <span class="nt">&quot;givenName&quot;</span><span class="p">:</span><span class="s2">&quot;Han&quot;</span><span class="p">,</span>
      <span class="nt">&quot;comment&quot;</span><span class="p">:</span> <span class="s2">&quot;// This JSON has been truncated for readability&quot;</span><span class="p">,</span>
      <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/72EaYgOaq8lwTFHexample/customData&quot;</span><span class="p">,</span>
        <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-28T16:07:38.347Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-28T16:07:38.354Z&quot;</span><span class="p">,</span>
        <span class="nt">&quot;favoriteColor&quot;</span><span class="p">:</span><span class="s2">&quot;beige&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;providerData&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/72EaYgOaq8lwTFHexample/providerData&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="searching-datetime-in-custom-data">
<h6>Searching Datetime in Custom Data<a class="headerlink" href="#searching-datetime-in-custom-data" title="Permalink to this headline">¶</a></h6>
<p>It is, of course, possible to store Datetime-formatted String values in customData. So you could have a customData key called <code class="docutils literal"><span class="pre">startDate</span></code> which stored values like <code class="docutils literal"><span class="pre">2011-08-15</span></code>. You can then query these values like any other string, so to find all Accounts that were created in 2011 you could use this parameter:</p>
<p><code class="docutils literal"><span class="pre">?customData.startDate=2011*</span></code></p>
<p>It is also possible to use Exclusion, Inclusion and Precision just like with other <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime searches</span></a>.</p>
<p>As usual, the square brackets <code class="docutils literal"><span class="pre">[]</span></code> denote <strong>inclusion</strong>, and parentheses <code class="docutils literal"><span class="pre">()</span></code> denote <strong>exclusion</strong>. For example, if you wanted to get all Accounts with a customData <code class="docutils literal"><span class="pre">startDate</span></code> key value between January 12 and January 14, 2015 <strong>not including</strong> the 14th, your request parameters would look like this:</p>
<p><code class="docutils literal"><span class="pre">/accounts?customData.startDate=[2015-01-12,</span> <span class="pre">2015-01-13)</span></code></p>
<p>If you wanted more <strong>precision</strong>, to find only the Accounts that had a customData <code class="docutils literal"><span class="pre">startDate</span></code> value representing the first five seconds after noon on December 12:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>?customData.startDate=[2015-01-12T12:00:00, 2015-01-12T12:00:05]
</pre></div>
</div>
<p>Or if you wanted precision in years, to find all Accounts with a <code class="docutils literal"><span class="pre">startDate</span></code> value between and including 2014-01-01 and 2014-12-31:</p>
<p><code class="docutils literal"><span class="pre">?customData.startDate=[2014,</span> <span class="pre">2015]</span></code></p>
<p>Just as with Datetime search, if you omit the beginning or end date, it will simply search for all Datetime values that are smaller than (if you omit the beginning date) or greater than (if you omit the end date) the specified date. So the following query:</p>
<p><code class="docutils literal"><span class="pre">?customData.startDate[2014,]</span></code></p>
<p>Would find all Datetime values after 2014-01-01. Conversely, if you wrote [,2014] it would find all dates that occurred before 2014-01-01.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Unlike with normal Datetime search, <a class="reference internal" href="#search-datetime-shorthand"><span class="std std-ref">Shorthand</span></a> is not supported. So with normal Datetime search, if you search for something like <code class="docutils literal"><span class="pre">createdAt=2015</span></code>, matching would include all dates that included <code class="docutils literal"><span class="pre">2015</span></code>. With Custom Data, a query like <code class="docutils literal"><span class="pre">customData.startDate=2015</span></code> would only return values with the exact value <code class="docutils literal"><span class="pre">2015</span></code>. If you wanted to find all values of that included 2015, you would need to use inclusion brackets: <code class="docutils literal"><span class="pre">customData.startDate=[2015]</span></code>.</p>
</div>
</div>
<div class="section" id="searching-numbers-in-custom-data">
<h6>Searching Numbers in Custom Data<a class="headerlink" href="#searching-numbers-in-custom-data" title="Permalink to this headline">¶</a></h6>
<p>In addition to searching for String values it is also possible to search numbers. As well as searching for a specific number value (e.g. <code class="docutils literal"><span class="pre">?customData.topScore=10</span></code> or <code class="docutils literal"><span class="pre">?customData.topScore=1*</span></code>) Custom Data searches for numbers also support:</p>
<p><strong>Number Ranges</strong></p>
<p>To retrieve all values between (and including both) <code class="docutils literal"><span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">1000</span></code>:</p>
<p><code class="docutils literal"><span class="pre">?customData.topScore=[0,1000]</span></code></p>
<p><strong>Exclusion &amp; Inclusion</strong></p>
<p>To retrieve all values between <code class="docutils literal"><span class="pre">0</span></code> and <code class="docutils literal"><span class="pre">1000</span></code>, but not including <code class="docutils literal"><span class="pre">0</span></code>:</p>
<p><code class="docutils literal"><span class="pre">?customData.topScore=(0,1000]</span></code></p>
<p><strong>Precision</strong></p>
<p>To retrieve all values between (and including both) <code class="docutils literal"><span class="pre">0.01</span></code> and <code class="docutils literal"><span class="pre">999.99</span></code>:</p>
<p><code class="docutils literal"><span class="pre">?customData.topScore=[0.01,999.99]</span></code></p>
<p><strong>Greater/Less Than</strong></p>
<p>To retrieve all values greater than 50:</p>
<p><code class="docutils literal"><span class="pre">?customData.topScore[50,]</span></code></p>
</div>
</div>
</div>
</div>
<div class="section" id="links">
<span id="about-links"></span><h3><a class="toc-backref" href="#id55">Links</a><a class="headerlink" href="#links" title="Permalink to this headline">¶</a></h3>
<p>REST resources that reference other resources, such as an Account referencing its parent Directory, represent the references as a <strong>Link</strong> object.</p>
<p>A Link is an object nested within an existing resource representation that has, at a minimum, an <code class="docutils literal"><span class="pre">href</span></code> attribute.</p>
<p>The <code class="docutils literal"><span class="pre">href</span></code> attribute is the fully qualified location URL of the linked resource. When encountering a link object, you can use the link <code class="docutils literal"><span class="pre">href</span></code> attribute to interact with that resource as necessary.</p>
<p><strong>Link Expansion</strong></p>
<p>When requesting a resource you might want the Stormpath API server to return not only that resource, but also one or more of its linked resources. Link expansion allows you to retrieve related resources in a single request to the server instead of having to issue multiple separate requests.</p>
<p>To expand one or more links, simply add an <code class="docutils literal"><span class="pre">expand</span></code> query parameter with one or more comma-delimited attributes to the resource URL:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID?expand=directory,tenant
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is currently only possible to expand a resource’s immediate links but not further links inside those links.</p>
</div>
<p><strong>Paginating Expanded Collections</strong></p>
<p>If you choose to expand one or more Collections, you can provide <a class="reference internal" href="#about-pagination"><span class="std std-ref">pagination</span></a> parameters as well. The <code class="docutils literal"><span class="pre">offset</span></code> and <code class="docutils literal"><span class="pre">limit</span></code> values are enclosed in parentheses and delimited by the colon <code class="docutils literal"><span class="pre">:</span></code> character. For example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>https://api.stormpath.com/v1/accounts/$ACCOUNT_ID?expand=groups(offset:0,limit:10)
</pre></div>
</div>
</div>
</div>
<div class="section" id="tenant">
<span id="ref-tenant"></span><h2>Tenant<a class="headerlink" href="#tenant" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id4">
<ul class="simple">
<li><a class="reference internal" href="#tenant-operations" id="id56">Tenant Operations</a><ul>
<li><a class="reference internal" href="#retrieve-a-tenant" id="id57">Retrieve A Tenant</a></li>
<li><a class="reference internal" href="#using-a-tenant-for-look-up" id="id58">Using A Tenant for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-a-tenant" id="id59">Other Resources Associated with a Tenant</a><ul>
<li><a class="reference internal" href="#ref-id-site" id="id60">ID Site</a></li>
<li><a class="reference internal" href="#smtp-server" id="id61">SMTP Server</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>When you sign up for Stormpath, a private data space is created for you. This space is represented as a Tenant resource in the Stormpath REST API. Your Tenant resource can be thought of as your global starting point. You can access everything in your space by accessing your Tenant resource first and then interacting with its other linked resources (Applications, Directories, etc).</p>
<p><strong>Tenant URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/tenants/$TENANT_ID</span></code></p>
<p><strong>Tenant Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>Name of the Tenant, by default this is the same as the key, but can be modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">key</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 63 characters</td>
<td>Human-readable unique key. This key is unique and assigned by Stormpath. If you would like to change it, please contact Stormpath. The key must have: no whitespace, lower-case a-z and dash ‘–’ characters only, and it cannot start or end with a dash ‘–’ character.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">organizations</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-organization"><span class="std std-ref">Organizations</span></a> mapped to this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-application"><span class="std std-ref">Applications</span></a> mapped to this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directories</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directories</span></a> mapped to this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of the <a class="reference internal" href="#ref-account"><span class="std std-ref">Accounts</span></a> mapped to this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">agents</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-ldap-agent"><span class="std std-ref">Agents</span></a> configured for this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> configured for this Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">idSites</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-id-site"><span class="std std-ref">ID Sites</span></a> configured for this Tenant.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">smtpServers</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection containing the <a class="reference internal" href="#ref-custom-smtp"><span class="std std-ref">Custom SMTP server</span></a> (if any) for this Tenant.</td>
</tr>
</tbody>
</table>
<p><strong>Tenant Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;tenantName&quot;</span><span class="p">,</span>
  <span class="nt">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;tenantKey&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;dateTime&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;dateTime&quot;</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;organizations&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/organizations&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directories&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/directories&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;agents&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/agents&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;idSites&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgeXAMPLE/idSites&quot;</span>
  <span class="p">}</span>
  <span class="s2">&quot;smtpServers&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://staging-api-b.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDn9R91R/smtpServers&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="tenant-operations">
<h3><a class="toc-backref" href="#id56">Tenant Operations</a><a class="headerlink" href="#tenant-operations" title="Permalink to this headline">¶</a></h3>
<div class="section" id="retrieve-a-tenant">
<h4><a class="toc-backref" href="#id57">Retrieve A Tenant</a><a class="headerlink" href="#retrieve-a-tenant" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/current</td>
<td>N/A</td>
<td>Retrieves the Tenant associated with the current API key. The response will be a <code class="docutils literal"><span class="pre">302</span> <span class="pre">Redirect</span></code>. You will find the location of the Tenant in a Location header, although most REST libraries and web browsers will automatically issue a request for it.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$TENANT_ID</td>
<td>N/A</td>
<td>Retrieves the Tenant with the specified ID.</td>
</tr>
</tbody>
</table>
<div class="section" id="example-query">
<h5>Example Query<a class="headerlink" href="#example-query" title="Permalink to this headline">¶</a></h5>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--url https://api.stormpath.com/v1/tenants/current <span class="se">\</span>
--header <span class="s1">&#39;accept: application/json&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="using-a-tenant-for-look-up">
<h4><a class="toc-backref" href="#id58">Using A Tenant for Look-Up</a><a class="headerlink" href="#using-a-tenant-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other independent resources using the Tenant for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$TENANT_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a collection of all of a Tenant&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">organizations</span></code>, <code class="docutils literal"><span class="pre">applications</span></code>, <code class="docutils literal"><span class="pre">directories</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">agents</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>, and <code class="docutils literal"><span class="pre">idsites</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$TENANT_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Tenant&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Searchable collections associated with a Tenant are: <code class="docutils literal"><span class="pre">customData</span></code>, <code class="docutils literal"><span class="pre">organizations</span></code>, <code class="docutils literal"><span class="pre">applications</span></code>, <code class="docutils literal"><span class="pre">directories</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">agents</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>, and <code class="docutils literal"><span class="pre">idsites</span></code>.</td>
</tr>
</tbody>
</table>
<div class="section" id="example-queries">
<h5>Example Queries<a class="headerlink" href="#example-queries" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieving a Collection Associated with a Tenant</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/</span><span class="nv">$TENANT_ID</span><span class="s2">&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a collection containing all the Accounts associated with the specified Tenant.</p>
<p><strong>Searching a Collection Associated with a Tenant</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/tenants/</span><span class="nv">$TENANT_ID</span><span class="s2">/applications?q=foo&amp;orderBy=name&amp;offset=0&amp;limit=50&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a collection containing the Applications associated with this Tenant that have the string &#8220;foo&#8221; as the value of any <a class="reference internal" href="#searchable-attributes"><span class="std std-ref">searchable attribute</span></a>.</p>
<p>The result body would:</p>
<blockquote>
<div><ul class="simple">
<li>be <a class="reference internal" href="#about-sorting"><span class="std std-ref">sorted</span></a> by the <code class="docutils literal"><span class="pre">name</span></code> attribute</li>
<li>have a <a class="reference internal" href="#about-pagination"><span class="std std-ref">pagination</span></a> offset of 0 and</li>
<li>a limit of 50 results per response</li>
</ul>
</div></blockquote>
</div>
</div>
</div>
<div class="section" id="other-resources-associated-with-a-tenant">
<h3><a class="toc-backref" href="#id59">Other Resources Associated with a Tenant</a><a class="headerlink" href="#other-resources-associated-with-a-tenant" title="Permalink to this headline">¶</a></h3>
<div class="section" id="ref-id-site">
<span id="id-site"></span><h4><a class="toc-backref" href="#id60">ID Site</a><a class="headerlink" href="#ref-id-site" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about this Tenant&#8217;s ID Site. For more information, see the chapter dedicated to <a class="reference internal" href="idsite.html#idsite"><span class="std std-ref">using ID Site</span></a>.</p>
<p><strong>idSite URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/idSites/$IDSITE_ID</span></code></p>
<p><strong>idSite Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">domainName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The custom domain name (if any) for your ID Site. For more information see <a class="reference internal" href="idsite.html#idsite-custom-domain-ssl"><span class="std std-ref">Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tlsPublicCert</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The public SSL certificate for your ID Site. For more information see <a class="reference internal" href="idsite.html#idsite-custom-domain-ssl"><span class="std std-ref">Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tlsPrivateKey</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The private SSL certificate for your ID Site. For more information see <a class="reference internal" href="idsite.html#idsite-custom-domain-ssl"><span class="std std-ref">Setting Your Own Custom Domain Name and SSL Certificate</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">gitRepoUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>If you are customizing the ID Site code, you will need to put the URL of your GitHub repo here.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">gitBranch</span></code></td>
<td>String</td>
<td>N/A</td>
<td>If you are customizing the ID Site code, you will need to put the branch name of the custom code here.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">authorizedOriginURIs</span></code></td>
<td>Array (String)</td>
<td>N/A</td>
<td>An array of URLs where the ID Site requests can originate from, used for local development or custom domain names.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">authorizedRedirectURIs</span></code></td>
<td>Array (String)</td>
<td>N/A</td>
<td>An array of URLs that the user can be sent to after they log in or register at the ID Site.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">logoUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The URL of the custom logo, if any.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sessionTti</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-idle for the session. Represents the session idle timeout as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sessionTtl</span></code></td>
<td>String</td>
<td>ISO-8601</td>
<td>The time-to-live for the session. Represents the session timeout as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sessionCookiePersistent</span></code></td>
<td>String (Boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code> or <code class="docutils literal"><span class="pre">false</span></code></td>
<td>When this value is <code class="docutils literal"><span class="pre">true</span></code>, Stormpath will create a persistent cookie for the ID Site session. This means that the cookie will persist even if the browser is closed and reopened. Setting this <code class="docutils literal"><span class="pre">false</span></code> will ensure that the session is terminated when the user closes their browser.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> associated with this ID Site.</td>
</tr>
</tbody>
</table>
<p><strong>idSite Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/idSites/1XBJMqDmsNQuOZ18gNCT42&quot;</span><span class="p">,</span>
  <span class="nt">&quot;domainName&quot;</span><span class="p">:</span><span class="s2">&quot;elastic-rebel.id.stormpath.io&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tlsPublicCert&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tlsPrivateKey&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gitRepoUrl&quot;</span><span class="p">:</span><span class="s2">&quot;https://github.com/stormpath/idsite&quot;</span><span class="p">,</span>
  <span class="nt">&quot;gitBranch&quot;</span><span class="p">:</span><span class="s2">&quot;master&quot;</span><span class="p">,</span>
  <span class="nt">&quot;authorizedOriginURLs&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;http://google.com&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;authorizedRedirectURLs&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;http://localhost&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://limitless-ravine-7645.herokuapp.com/&quot;</span><span class="p">,</span>
    <span class="s2">&quot;http://stormpath.localhost:8001&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;logoUrl&quot;</span><span class="p">:</span><span class="s2">&quot;http://www.manic.com.sg/blog/images/CocaCola_co.jpg&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionTti&quot;</span><span class="p">:</span><span class="s2">&quot;PT5M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionTtl&quot;</span><span class="p">:</span><span class="s2">&quot;PT5M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;sessionCookiePersistent&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/7g9HG1YMBX8ohFbu0KAFKR&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="smtp-server">
<span id="ref-custom-smtp"></span><h4><a class="toc-backref" href="#id61">SMTP Server</a><a class="headerlink" href="#smtp-server" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about this Tenant&#8217;s optional custom SMTP server.</p>
<p><strong>smtpServer URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/smtpServers/$SMTP_SERVER_ID</span></code></p>
<p><strong>SMTP Server Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) A name for this SMTP server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) A description for this SMTP server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">username</span></code></td>
<td>String</td>
<td>N/A</td>
<td>A username to use to connect to this SMTP server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>N/A</td>
<td>A password to use to connect to this SMTP server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">host</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The location of this SMTP server.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">port</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The port to connect to this SMTP server on.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">securityProtocol</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">tls</span></code>, <code class="docutils literal"><span class="pre">ssl</span></code>, or <code class="docutils literal"><span class="pre">null</span></code></td>
<td>(Optional) The protocol to use when connecting to this SMTP server. Default value is <code class="docutils literal"><span class="pre">null</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> , <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Indicates whether this SMTP server is enabled or not. Default value is <code class="docutils literal"><span class="pre">ENABLED</span></code>.</td>
</tr>
</tbody>
</table>
<p><strong>SMTP Server Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-06-23T22:04:47.163Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;My Awesome SMTP Server&quot;</span><span class="p">,</span>
  <span class="nt">&quot;host&quot;</span><span class="p">:</span> <span class="s2">&quot;email.host.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/smtpServers/3svYfnFPh3q2Hbfexample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-06-23T22:04:47.163Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My SMTP Server&quot;</span><span class="p">,</span>
  <span class="nt">&quot;port&quot;</span><span class="p">:</span> <span class="mi">25</span><span class="p">,</span>
  <span class="nt">&quot;securityProtocol&quot;</span><span class="p">:</span> <span class="s2">&quot;TLS&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgexample&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;username&quot;</span><span class="p">:</span> <span class="s2">&quot;ausername&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="application">
<span id="ref-application"></span><h2>Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id6">
<ul class="simple">
<li><a class="reference internal" href="#application-operations" id="id62">Application Operations</a><ul>
<li><a class="reference internal" href="#create-an-application" id="id63">Create An Application</a></li>
<li><a class="reference internal" href="#retrieve-an-application" id="id64">Retrieve an Application</a></li>
<li><a class="reference internal" href="#update-an-application" id="id65">Update an Application</a></li>
<li><a class="reference internal" href="#delete-an-application" id="id66">Delete an Application</a></li>
<li><a class="reference internal" href="#using-an-application-for-look-up" id="id67">Using an Application for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#application-endpoints" id="id68">Application Endpoints</a><ul>
<li><a class="reference internal" href="#login-attempts" id="id69">Login Attempts</a></li>
<li><a class="reference internal" href="#password-reset-tokens" id="id70">Password Reset Tokens</a></li>
<li><a class="reference internal" href="#verification-email" id="id71">Verification Email</a></li>
<li><a class="reference internal" href="#auth-tokens" id="id72">Auth Tokens</a></li>
<li><a class="reference internal" href="#oauth-token" id="id73">OAuth Token</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-an-application" id="id74">Other Resources Associated with an Application</a><ul>
<li><a class="reference internal" href="#application-api-keys" id="id75">Application API Keys</a></li>
<li><a class="reference internal" href="#oauth-policy" id="id76">OAuth Policy</a></li>
<li><a class="reference internal" href="#saml-policy-resource" id="id77">SAML Policy Resource</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>An <strong>Application</strong> resource in Stormpath contains information about any real-world software that communicates with Stormpath via REST APIs. You control who may log in to an application by assigning (or ‘<a class="reference internal" href="#ref-asm"><span class="std std-ref">mapping</span></a>’) one or more <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directory</span></a>, <a class="reference internal" href="#ref-group"><span class="std std-ref">Group</span></a>, or <a class="reference internal" href="#ref-organization"><span class="std std-ref">Organization</span></a> resources (generically called Account Stores) to an Application resource. The Accounts in these associated Account Stores collectively form the application’s user base.</p>
<p><strong>Application URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID</span></code></p>
<p><strong>Application Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>Name of the Application. Must be unique across all Applications within a <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt;= N &lt;= 4000 chars</td>
<td>(Optional) A description of the application that this resource represents.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> (Default), <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Applications allow mapped Accounts to log in. <code class="docutils literal"><span class="pre">DISABLED</span></code> Applications prevent mapped Accounts from logging in.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that owns this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">defaultAccountStoreMapping</span></code></td>
<td>Link</td>
<td>Could be <code class="docutils literal"><span class="pre">null</span></code></td>
<td>A link to the <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mapping</span></a> that reflects the default Account Store where the application will store newly created Accounts. A <code class="docutils literal"><span class="pre">null</span></code> value disables the Application from directly creating new Accounts.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultGroupStoreMapping</span></code></td>
<td>Link</td>
<td>Could be <code class="docutils literal"><span class="pre">null</span></code></td>
<td>A link to the <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mapping</span></a> that reflects the default Group Store where the application will store newly created Groups. A <code class="docutils literal"><span class="pre">null</span></code> value disables the Application from directly creating new Groups.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">oAuthPolicy</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to this Application&#8217;s OAuth policy. For more information, see <a class="reference internal" href="auth_n.html#token-authn-config"><span class="std std-ref">4.2.2. Using Stormpath for Token-Based Authentication</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-account"><span class="std std-ref">Accounts</span></a> mapped to this Application. (see note <a class="reference internal" href="#application-accounts-note"><span class="std std-ref">below</span></a>)</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a Collection of all the <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> mapped to this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountStoreMappings</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the collection of all <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mappings</span></a> for this Application.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">loginAttempts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The endpoint for <a class="reference internal" href="#ref-loginattempts"><span class="std std-ref">Login Attempts</span></a> for this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passwordResetTokens</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The endpoint for <a class="reference internal" href="#ref-password-reset-token"><span class="std std-ref">Password Reset Tokens</span></a>, used in <a class="reference internal" href="accnt_mgmt.html#password-reset-flow"><span class="std std-ref">password reset workflows</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">apiKeys</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of all the <a class="reference internal" href="#ref-application-apikeys"><span class="std std-ref">API Keys</span></a> for this Application.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationEmails</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The endpoint for <a class="reference internal" href="#ref-verification-email"><span class="std std-ref">Verification Emails</span></a> for this Application.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">authTokens</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-oauth-token"><span class="std std-ref">Auth Tokens</span></a> for this Application. For more information, see <a class="reference internal" href="auth_n.html#about-token-validation"><span class="std std-ref">Using Stormpath to Validate Tokens</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">authorizedCallbackUris</span></code></td>
<td>Array</td>
<td>N/A</td>
<td>An array of Authorized callback URIs for the purposes of <a class="reference internal" href="auth_n.html#saml-authn"><span class="std std-ref">SAML authentication flows</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">samlPolicy</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>An embedded object that contains information about the Directory&#8217;s SAML Policy (if any). For more information, see <a class="reference internal" href="#ref-samlpolicy"><span class="std std-ref">below</span></a>.</td>
</tr>
</tbody>
</table>
<div class="admonition note" id="application-accounts-note">
<p class="first admonition-title">Note</p>
<p>An Application’s Accounts collection is a virtual collection in the sense that none of the Accounts directly belong to the Application, but only indirectly via Directories. So the <code class="docutils literal"><span class="pre">applications/$APPLICATION_ID/accounts</span></code> collection is an aggregate view of all Accounts that are:</p>
<ul class="last simple">
<li>in any Directory assigned to the Application</li>
<li>in any Group directly assigned to the Application</li>
</ul>
</div>
<p><strong>Application Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;My Application&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;This application was automatically created for you in Stormpath for use with our Quickstart guides(https://docs.stormpath.com). It does apply to your subscription&#39;s number of reserved applications and can be renamed or reused for your own purposes.&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-18T20:46:36.061Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T18:11:29.774Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultAccountStoreMapping&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/5WKhSDXNR8Wiksjv808XHp&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultGroupStoreMapping&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/5WKhSDXNR8Wiksjv808XHp&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;oAuthPolicy&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/oAuthPolicies/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountStoreMappings&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/accountStoreMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;loginAttempts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/loginAttempts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;passwordResetTokens&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/passwordResetTokens&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;apiKeys&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/apiKeys&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;verificationEmails&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/verificationEmails&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;authTokens&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/authTokens&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;samlPolicy&quot;</span> <span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span> <span class="p">:</span> <span class="s2">&quot;http://localhost:9191/v1/samlPolicies/QONHxosYAWIwIvZnFA85E&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="application-operations">
<h3><a class="toc-backref" href="#id62">Application Operations</a><a class="headerlink" href="#application-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id7">
<ul class="simple">
<li><a class="reference internal" href="#create-an-application" id="id78">Create An Application</a></li>
<li><a class="reference internal" href="#retrieve-an-application" id="id79">Retrieve an Application</a></li>
<li><a class="reference internal" href="#update-an-application" id="id80">Update an Application</a></li>
<li><a class="reference internal" href="#delete-an-application" id="id81">Delete an Application</a></li>
<li><a class="reference internal" href="#using-an-application-for-look-up" id="id82">Using an Application for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-application">
<h4><a class="toc-backref" href="#id78">Create An Application</a><a class="headerlink" href="#create-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/applications</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td><code class="docutils literal"><span class="pre">createDirectory</span></code>: either <code class="docutils literal"><span class="pre">true</span></code> or a specified &#8220;Directory Name&#8221;</td>
<td>Creates a new Application resource. If <code class="docutils literal"><span class="pre">createDirectory</span></code> is set to <code class="docutils literal"><span class="pre">true</span></code>, a new Directory will be automatically created along with the Application. The generated Directory&#8217;s <code class="docutils literal"><span class="pre">name</span></code> will reflect the new Application’s <code class="docutils literal"><span class="pre">name</span></code> as best as is possible, guaranteeing that it is unique compared to any of your existing Directories. If you would like a different <code class="docutils literal"><span class="pre">name</span></code>, simply put the value you would like instead of <code class="docutils literal"><span class="pre">true</span></code>.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the Directory name you choose is already in use by another of your existing Directories, the request will fail.</p>
</div>
</div>
<div class="section" id="retrieve-an-application">
<h4><a class="toc-backref" href="#id79">Retrieve an Application</a><a class="headerlink" href="#retrieve-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/applications/$APPLICATION_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Application resource. <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code> can all be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-application">
<h4><a class="toc-backref" href="#id80">Update an Application</a><a class="headerlink" href="#update-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/applications/$APPLICATION_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-application">
<h4><a class="toc-backref" href="#id81">Delete an Application</a><a class="headerlink" href="#delete-an-application" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/applications/$APPLICATION_ID</td>
<td>N/A</td>
<td>Deletes the specified Application.</td>
</tr>
</tbody>
</table>
<p>Deleting an application completely erases the application and any of its related data from Stormpath.</p>
<p>Instead of deleting an Application resource, we recommend that you disable it instead by sending a POST with a <code class="docutils literal"><span class="pre">status</span></code> value of <code class="docutils literal"><span class="pre">DISABLED</span></code>.</p>
<div class="section" id="id8">
<h5>Example Queries<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h5>
<p><strong>Create an Application</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--header <span class="s1">&#39;createdirectory: true&#39;</span> <span class="se">\</span>
--url <span class="s1">&#39;https://api.stormpath.com/v1/applications?createDirectory=true&#39;</span> <span class="se">\</span>
--data <span class="s1">&#39;{\n    &quot;name&quot;:&quot;Example App&quot;\n}&#39;</span>
</pre></div>
</div>
<p>This query would create the specified Application. Because we are also including the <code class="docutils literal"><span class="pre">createDirectory</span></code> query parameter, Stormpath will also create a Directory of the same name.</p>
<p><strong>Retrieve an Application</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">?expand=tenant,accounts(offset:0,limit:50)&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the specified Application, with the associated Tenant resource and Accounts collection expanded. The expanded Accounts collection would be returned with an <code class="docutils literal"><span class="pre">offset</span></code> of 0 and a result <code class="docutils literal"><span class="pre">limit</span></code> of 50.</p>
<p><strong>Disable an Application</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/applications/</span><span class="nv">$APPLICATION_ID</span><span class="s2">&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">&quot;status&quot;:&quot;disabled&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would disable the Application and prevent any associated Accounts from logging in.</p>
</div>
</div>
<div class="section" id="using-an-application-for-look-up">
<span id="get-refs-via-app"></span><h4><a class="toc-backref" href="#id82">Using an Application for Look-Up</a><a class="headerlink" href="#using-an-application-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, independent, resources using the Application for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$APPLICATION_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a resource of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>. These collections can also be <a class="reference internal" href="#about-pagination"><span class="std std-ref">paginated</span></a> and <a class="reference internal" href="#about-sorting"><span class="std std-ref">sorted</span></a>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$APPLICATION_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Application&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Searchable collections associated with an Application are: <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="application-endpoints">
<h3><a class="toc-backref" href="#id68">Application Endpoints</a><a class="headerlink" href="#application-endpoints" title="Permalink to this headline">¶</a></h3>
<p>There are certain resources that are exposed by the Application as endpoints. This means that they cannot be retrieved using <code class="docutils literal"><span class="pre">GET</span></code> calls <a class="reference internal" href="#get-refs-via-app"><span class="std std-ref">like other resources</span></a>, but are instead used for other flows. These are detailed in this section.</p>
<div class="section" id="login-attempts">
<span id="ref-loginattempts"></span><h4><a class="toc-backref" href="#id69">Login Attempts</a><a class="headerlink" href="#login-attempts" title="Permalink to this headline">¶</a></h4>
<p>A <code class="docutils literal"><span class="pre">POST</span></code> is sent to this endpoint in order to authenticate an Account. For in-depth more information, please see <a class="reference internal" href="auth_n.html#how-login-works"><span class="std std-ref">4.1.2. How Login Attempts Work in Stormpath</span></a>.</p>
<p><strong>loginAttempts URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/loginAttempts</span></code></p>
<p><strong>loginAttempts Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">type</span></code></td>
<td>String (Enum)</td>
<td>N/A</td>
<td>The type of login attempt. The only currently supported type is <code class="docutils literal"><span class="pre">basic</span></code>. Additional types will likely be supported in the future.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">value</span></code></td>
<td>String (Base64)</td>
<td>N/A</td>
<td>The Base64 encoded <code class="docutils literal"><span class="pre">username</span></code>:<code class="docutils literal"><span class="pre">plaintextPassword</span></code> pair.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountStore</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">href</span></code> or <code class="docutils literal"><span class="pre">nameKey</span></code></td>
<td>An optional link to the Application’s Account Store (Organization, Directory, Group) OR the Organization <code class="docutils literal"><span class="pre">nameKey</span></code>. You should be certain that the specified Account Store contains the Account attempting to login.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Specifying the <code class="docutils literal"><span class="pre">accountStore</span></code> can speed up logins if you know exactly which of the Application’s assigned Account Stores contains the Account. Stormpath will not have to iterate over the assigned Account Stores to find the Account to authenticate it. This can speed up logins significantly if you have many Account Stores (15&lt;) assigned to the Application.</p>
</div>
<p><strong>loginAttempts Example</strong></p>
<p>This is an example of a well-formed JSON body that could be sent to the <code class="docutils literal"><span class="pre">/loginAttempts</span></code> endpoint.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;basic&quot;</span><span class="p">,</span>
    <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;YmFzZTY0LWVuY29kZWQtbG9naW4tYW5kLXBhc3N3b3Jk&quot;</span>
    <span class="s2">&quot;accountStore&quot;</span><span class="p">:</span> <span class="p">{</span>
         <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/$YOUR_GROUP_ID&quot;</span>
   <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="password-reset-tokens">
<span id="ref-password-reset-token"></span><h4><a class="toc-backref" href="#id70">Password Reset Tokens</a><a class="headerlink" href="#password-reset-tokens" title="Permalink to this headline">¶</a></h4>
<p>This is the endpoint for Password Reset Tokens that are passed as part of the <a class="reference internal" href="accnt_mgmt.html#password-reset-flow"><span class="std std-ref">Password Reset Flow</span></a>. When you send a POST to an Application&#8217;s <code class="docutils literal"><span class="pre">/passwordResetTokens</span></code> endpoint with a valid email address (and, optionally, Account Store information), you will receive back the Password Reset Token. For a full description, please see the <a class="reference internal" href="accnt_mgmt.html#password-reset-flow"><span class="std std-ref">Password Reset Flow</span></a> section.</p>
<p><strong>passwordResetTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/passwordResetTokens</span></code></p>
<p><strong>passwordResetTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">email</span></code></td>
<td>String</td>
<td>Must correspond to an existing Stormpath Account.</td>
<td>Email address of the Account for which the password reset will occur. This is the value that must be passed in order to trigger the token generation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account for which the password reset will occur.</td>
</tr>
</tbody>
</table>
<p><strong>passwordResetTokens Example</strong></p>
<p>This is an example of the JSON response to a successful POST to the <code class="docutils literal"><span class="pre">/passwordResetTokens</span></code> endpoint.</p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/passwordResetTokens/eyJraWQiOiIxZ0JUbmNXc3AyT2JRR2dEbjlSOTFSIiwiYWxnIjoiSFMeXAMpLE.eyJleHAiOjE0NDc4ODU1ODIsImp0aSI6IjFucDE1UkJVTXJQR0FxSlVpOGVJYlEifQ.AiL5ejbhPnjzxOWZkZGrAfYP8KvqT62r_zktvlkGQE0&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span> <span class="s2">&quot;capt@enterprise.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="verification-email">
<span id="ref-verification-email"></span><h4><a class="toc-backref" href="#id71">Verification Email</a><a class="headerlink" href="#verification-email" title="Permalink to this headline">¶</a></h4>
<p>This endpoint is used to trigger the resending of a verification email. For more information, see <a class="reference internal" href="accnt_mgmt.html#resending-verification-email"><span class="std std-ref">3.5.5. Resending the Verification Email</span></a>.</p>
</div>
<div class="section" id="auth-tokens">
<h4><a class="toc-backref" href="#id72">Auth Tokens</a><a class="headerlink" href="#auth-tokens" title="Permalink to this headline">¶</a></h4>
<p>This endpoint is used for token validation. For more information see <a class="reference internal" href="auth_n.html#about-token-validation"><span class="std std-ref">Using Stormpath to Validate Tokens</span></a>.</p>
</div>
<div class="section" id="oauth-token">
<span id="ref-oauth-token"></span><h4><a class="toc-backref" href="#id73">OAuth Token</a><a class="headerlink" href="#oauth-token" title="Permalink to this headline">¶</a></h4>
<p>This endpoint&#8217;s URL is found as part of the <a class="reference internal" href="#ref-oauth-policy"><span class="std std-ref">OAuth Policy</span></a> resource. It is used to generate OAuth 2.0 tokens. For more information see <a class="reference internal" href="auth_n.html#token-authn-config"><span class="std std-ref">4.2.2. Using Stormpath for Token-Based Authentication</span></a>.</p>
</div>
</div>
<div class="section" id="other-resources-associated-with-an-application">
<h3><a class="toc-backref" href="#id74">Other Resources Associated with an Application</a><a class="headerlink" href="#other-resources-associated-with-an-application" title="Permalink to this headline">¶</a></h3>
<p>These are the other resources that can be found associated with any particular Application.</p>
<div class="section" id="application-api-keys">
<span id="ref-application-apikeys"></span><h4><a class="toc-backref" href="#id75">Application API Keys</a><a class="headerlink" href="#application-api-keys" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any API Keys that have been generated for this Application. However you can only use this endpoint to retrieve a specific API Key by using its Key ID for lookup.</p>
<p>If the specific Key belongs to an Account that is able to log in to this Application, then you will receive it back in your response. If you specify the ID of an API Key that is not able to log into this Application, you will receive back an empty collection.</p>
<p><strong>Application apiKeys URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/applications/$APPLICATION_ID/apiKeys?id=$SP_API_KEY_ID</span></code></p>
<p>If you would like to retrieve the API Key with the <a class="reference internal" href="#ref-account"><span class="std std-ref">Account</span></a> and/or <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> expanded you can include the <code class="docutils literal"><span class="pre">expand</span></code> parameter for one (<code class="docutils literal"><span class="pre">expand=account</span></code>) or both (<code class="docutils literal"><span class="pre">expand=account,tenant</span></code>).</p>
<p>Finally, if you would like the API Key&#8217;s Secret to be encrypted, use the <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> parameter.</p>
<p>If <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> is included, then the following parameter must also be included:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">encryptionKeySalt</span></code>: This is a <a class="reference external" href="https://tools.ietf.org/html/rfc4648">URL-safe Base64-encoded</a> 16-byte string that will be added to the secret before it is encrypted.</li>
</ul>
<p>There are two more optional query parameters than can be included alongside these two:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">encryptionKeySize</span></code>: The size of the key used for encryption. Possible values are <code class="docutils literal"><span class="pre">128</span></code>, <code class="docutils literal"><span class="pre">192</span></code>, and <code class="docutils literal"><span class="pre">256</span></code>. Default value is <code class="docutils literal"><span class="pre">128</span></code>.</li>
<li><code class="docutils literal"><span class="pre">encryptionKeyIterations</span></code>: The number of times the key is hashed before it is sent. Possible values are any whole number from <code class="docutils literal"><span class="pre">1</span></code> to <code class="docutils literal"><span class="pre">65536</span></code>.  Default value is <code class="docutils literal"><span class="pre">1024</span></code>.</li>
</ul>
<p><strong>Application apiKeys Attributes</strong></p>
<p>This call would return a specific API Key if it is relevant to this Application. For details about what an API Key object looks like you can refer to the <a class="reference internal" href="#ref-account-apikeys"><span class="std std-ref">Account API Keys</span></a> section.</p>
</div>
<div class="section" id="oauth-policy">
<span id="ref-oauth-policy"></span><h4><a class="toc-backref" href="#id76">OAuth Policy</a><a class="headerlink" href="#oauth-policy" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about the Application&#8217;s OAuth Policy. For more information about how this is used, see <a class="reference internal" href="auth_n.html#token-authn-config"><span class="std std-ref">4.2.2. Using Stormpath for Token-Based Authentication</span></a>.</p>
<p><strong>oAuthPolicy URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/oAuthPolicies/$APPLICATION_ID</span></code></p>
<p><strong>oAuthPolicy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accessTokenTtl</span></code></td>
<td>String</td>
<td>ISO-8601 Duration</td>
<td>The time-to-live for the OAuth Access Token, represented as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a> between 1 second (<code class="docutils literal"><span class="pre">PT1S</span></code>) and 10 years (<code class="docutils literal"><span class="pre">P10Y</span></code>).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">refreshTokenTtl</span></code></td>
<td>String</td>
<td>ISO-8601 Duration</td>
<td>The time-to-live for the OAuth Refresh Token, represented as an <a class="reference external" href="https://en.wikipedia.org/wiki/ISO_8601#Durations">ISO 8601 Duration</a> between 1 second (<code class="docutils literal"><span class="pre">PT1S</span></code>) and 10 years (<code class="docutils literal"><span class="pre">P10Y</span></code>).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tokenEndpoint</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The location of the <a class="reference internal" href="#ref-oauth-token"><span class="std std-ref">OAuth Token</span></a> generation endpoint.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Application associated with this Policy.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant associated with this Policy.</td>
</tr>
</tbody>
</table>
<p><strong>oAuthPolicy Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/oAuthPolicies/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;accessTokenTtl&quot;</span><span class="p">:</span><span class="s2">&quot;PT30M&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refreshTokenTtl&quot;</span><span class="p">:</span><span class="s2">&quot;P7D&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-18T20:46:36.063Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-09-01T14:18:14.709Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tokenEndpoint&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple/oauth/token&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgDexAMPLE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="saml-policy-resource">
<span id="ref-samlpolicy"></span><h4><a class="toc-backref" href="#id77">SAML Policy Resource</a><a class="headerlink" href="#saml-policy-resource" title="Permalink to this headline">¶</a></h4>
<p>This resource contains information about the Application&#8217;s SAML policy. For more information SAML Authentication, please see <a class="reference internal" href="auth_n.html#saml-authn"><span class="std std-ref">4.5. Authenticating Against a SAML Directory</span></a>.</p>
<p><strong>samlPolicy URL</strong></p>
<p><code class="docutils literal"><span class="pre">https://api.stormpath.com/v1/applicationSamlPolicies/$POLICY_ID</span></code></p>
<p><strong>samlPolicy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String (<a class="reference internal" href="#about-links"><span class="std std-ref">Link</span></a>)</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">serviceProvider</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The embedded Service Provider resource. This contains the <code class="docutils literal"><span class="pre">ssoInitiationEndpoint</span></code> URL that is used in the Service Provider initiated SAML flow, as well as the <code class="docutils literal"><span class="pre">defaultRelayStates</span></code> endpoint used for IdP-initiated SAML authentication.</td>
</tr>
</tbody>
</table>
<p><strong>samlPolicy Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applicationSamlPolicies/$POLICY_ID&quot;</span><span class="p">,</span>
  <span class="nt">&quot;serviceProvider&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/samlServiceProviders/$SERVICE_PROVIDER_ID&quot;</span><span class="p">,</span>
      <span class="nt">&quot;ssoInitiationEndpoint&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/$APPLICATION_ID/saml/sso/idpRedirect&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;defaultRelayStates&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/samlServiceProviders/$SERVICE_PROVIDER_ID/defaultRelayStates&quot;</span>
      <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="account-store-mapping">
<span id="ref-asm"></span><h2>Account Store Mapping<a class="headerlink" href="#account-store-mapping" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id11">
<ul class="simple">
<li><a class="reference internal" href="#account-store-mapping-operations" id="id83">Account Store Mapping Operations</a><ul>
<li><a class="reference internal" href="#create-an-account-store-mapping" id="id84">Create an Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-account-store-mapping" id="id85">Retrieve an Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-account-store-mapping" id="id86">Update an Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-account-store-mapping" id="id87">Delete an Account Store Mapping</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>In Stormpath, you control who may log in to an Application by associating (or &#8216;mapping&#8217;) one or more Account Stores to an Application. This mapping between an Application and an Account Store is represented by an Account Store Mapping resource. All of the user Accounts across all of an Application&#8217;s assigned Account Stores form the Application&#8217;s effective &#8220;user base&#8221;: those Accounts that may log in to the Application. If no Account Stores are assigned to an Application, no Accounts will be able to log in to it. The following resources may be mapped as Account Stores:</p>
<ul class="simple">
<li>Organization</li>
<li>Directory</li>
<li>Group</li>
</ul>
<p>An individual Account Store Mapping resource may be accessed via its Resource URL:</p>
<p><strong>accountStoreMapping URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</span></code></p>
<p><strong>accountStoreMapping Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">listIndex</span></code></td>
<td>Number</td>
<td>0 &lt;= N &lt; list size</td>
<td>The order (priority) in which the associated Account Store will be consulted by the Application during an authentication attempt. This is a zero-based index: an Account Store with a <code class="docutils literal"><span class="pre">listIndex</span></code> of <code class="docutils literal"><span class="pre">0</span></code> will be consulted first (has the highest priority), followed by the Account Store at <code class="docutils literal"><span class="pre">listIndex</span></code> <code class="docutils literal"><span class="pre">1</span></code> (next highest priority), and so on. Setting a negative value will default the value to 0, placing it first in the list. A <code class="docutils literal"><span class="pre">listIndex</span></code> of larger than the current list size will place the mapping at the end of the list and then default the value to <code class="docutils literal"><span class="pre">(list</span> <span class="pre">size</span> <span class="pre">-</span> <span class="pre">1)</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Accounts created by the Application will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they will not.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Groups created by the Application will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they won&#8217;t. <strong>This may only be set to true if the Account Store is a Directory. Stormpath does not currently support Groups storing other Groups</strong>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the mapping’s Application. <strong>Required.</strong></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountStore</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the mapping&#8217;s Account Store (Group, Directory or Organization) containing Accounts that may log in to the application. <strong>Required.</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
<p><strong>Account Store Mapping Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjyeXamPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;listIndex&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultAccountStore&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultGroupStore&quot;</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountStore&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2jw4Kslj97zYjYReXample&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-store-mapping-operations">
<span id="asm-operations"></span><h3><a class="toc-backref" href="#id83">Account Store Mapping Operations</a><a class="headerlink" href="#account-store-mapping-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id12">
<ul class="simple">
<li><a class="reference internal" href="#create-an-account-store-mapping" id="id88">Create an Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-account-store-mapping" id="id89">Retrieve an Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-account-store-mapping" id="id90">Update an Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-account-store-mapping" id="id91">Delete an Account Store Mapping</a></li>
</ul>
</div>
<div class="section" id="create-an-account-store-mapping">
<h4><a class="toc-backref" href="#id88">Create an Account Store Mapping</a><a class="headerlink" href="#create-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accountStoreMappings</td>
<td>Required: <code class="docutils literal"><span class="pre">application</span></code>, <code class="docutils literal"><span class="pre">accountStore</span></code>; Optional: <code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>N/A</td>
<td>Creates a new accountStoreMapping resource, thereby enabling the Accounts in the specified Account Store to log in to the specified Application. By default <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code> and <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code> are set to <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-an-account-store-mapping">
<h4><a class="toc-backref" href="#id89">Retrieve an Account Store Mapping</a><a class="headerlink" href="#retrieve-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Account Store Mapping resource. <code class="docutils literal"><span class="pre">accountStore</span></code> and <code class="docutils literal"><span class="pre">application</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-account-store-mapping">
<h4><a class="toc-backref" href="#id90">Update an Account Store Mapping</a><a class="headerlink" href="#update-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-account-store-mapping">
<h4><a class="toc-backref" href="#id91">Delete an Account Store Mapping</a><a class="headerlink" href="#delete-an-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/accountStoreMappings/$ACCOUNT_STORE_MAPPING_ID</td>
<td>N/A</td>
<td>Deletes the specified Account Store Mapping.</td>
</tr>
</tbody>
</table>
<div class="section" id="id13">
<h5>Example Queries<a class="headerlink" href="#id13" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieving an Account Store Mapping with embedded resources</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=application,accountStore&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the specified Account Store Mapping with the Application and accountStore entities embedded with <a class="reference internal" href="#about-links"><span class="std std-ref">link expansion</span></a>.</p>
<p><strong>Updating an Account Store Mapping&#8217;s login priority</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=application,accountStore&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">  &quot;listIndex&quot;:&quot;0&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would update an Account Store Mapping to give it the highest position in the <a class="reference internal" href="auth_n.html#how-login-works"><span class="std std-ref">login priority index</span></a>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="directory">
<span id="ref-directory"></span><h2>Directory<a class="headerlink" href="#directory" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id14">
<ul class="simple">
<li><a class="reference internal" href="#directory-operations" id="id92">Directory Operations</a><ul>
<li><a class="reference internal" href="#create-a-directory" id="id93">Create a Directory</a></li>
<li><a class="reference internal" href="#retrieve-a-directory" id="id94">Retrieve a Directory</a></li>
<li><a class="reference internal" href="#update-a-directory" id="id95">Update a Directory</a></li>
<li><a class="reference internal" href="#delete-a-directory" id="id96">Delete a Directory</a></li>
<li><a class="reference internal" href="#using-a-directory-for-look-up" id="id97">Using A Directory for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-a-directory" id="id98">Other Resources Associated with a Directory</a><ul>
<li><a class="reference internal" href="#account-creation-policy" id="id99">Account Creation Policy</a></li>
<li><a class="reference internal" href="#password-policy" id="id100">Password Policy</a></li>
<li><a class="reference internal" href="#email-templates" id="id101">Email Templates</a></li>
<li><a class="reference internal" href="#password-strength" id="id102">Password Strength</a></li>
<li><a class="reference internal" href="#provider" id="id103">Provider</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The <strong>Directory</strong> resource is a top-level container for <a class="reference internal" href="#ref-account"><span class="std std-ref">Account</span></a> and <a class="reference internal" href="#ref-group"><span class="std std-ref">Group</span></a> resources. A Directory also manages security policies (like <a class="reference internal" href="#ref-password-strength"><span class="std std-ref">password strength</span></a>) for the Accounts it contains. Directories can be used to cleanly manage segmented user Account populations. For example, you might use one Directory for company employees and another Directory for customers, each with its own security policies.</p>
<p>Additionally:</p>
<ul class="simple">
<li>All Account resources within a Directory have a unique <code class="docutils literal"><span class="pre">email</span></code> and <code class="docutils literal"><span class="pre">username</span></code>.</li>
<li>All Group resources within a Directory have a unique <code class="docutils literal"><span class="pre">name</span></code>.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For more information about modeling your user base with Directories see the <a class="reference internal" href="accnt_mgmt.html#directory-mgmt"><span class="std std-ref">Account Management</span></a> chapter.</p>
</div>
<p>An individual Directory resource may be accessed via its Resource URL:</p>
<p><strong>Directory URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/directories/$DIRECTORY_ID</span></code></p>
<p><strong>Directory Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>Name of the Directory. Must be unique within a Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt; N &lt;= 1000 characters</td>
<td>(Optional) The description of the Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> , <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Enabled Directories can be used as Account Stores for logging in to Applications. Disabled Directories cannot be used for login.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the owning <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">provider</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Directory&#8217;s <a class="reference internal" href="#ref-provider"><span class="std std-ref">Provider</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Directory&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own Directory-specific custom fields.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">passwordPolicy</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Directory’s <a class="reference internal" href="#ref-password-policy"><span class="std std-ref">Password Policy</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountCreationPolicy</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Directory’s <a class="reference internal" href="#ref-accnt-creation-policy"><span class="std std-ref">Account Creation Policy</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-account"><span class="std std-ref">Accounts</span></a> owned by this Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">applicationMappings</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of any <a class="reference internal" href="#ref-asm"><span class="std std-ref">accountStoreMapping</span></a> resources that include this Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of all the <a class="reference internal" href="#ref-application"><span class="std std-ref">Applications</span></a> mapped to this Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> mapped to this Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">organizations</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-organization"><span class="std std-ref">Organizations</span></a> mapped to this Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">organizationMappings</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of any <a class="reference internal" href="#ref-org-asm"><span class="std std-ref">organizationAccountStoreMappings</span></a> resources that include this Directory.</td>
</tr>
</tbody>
</table>
<p><strong>Directory Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Captains&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="s2">&quot;Captains from a variety of stories&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-24T15:32:23.079Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-24T15:32:23.079Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;provider&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/provider&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;passwordPolicy&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/passwordPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountCreationPolicy&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applicationMappings&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/applicationMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;organizations&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/organizations&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;organizationMappings&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe/organizationMappings&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="directory-operations">
<span id="id15"></span><h3><a class="toc-backref" href="#id92">Directory Operations</a><a class="headerlink" href="#directory-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id16">
<ul class="simple">
<li><a class="reference internal" href="#create-a-directory" id="id104">Create a Directory</a></li>
<li><a class="reference internal" href="#retrieve-a-directory" id="id105">Retrieve a Directory</a></li>
<li><a class="reference internal" href="#update-a-directory" id="id106">Update a Directory</a></li>
<li><a class="reference internal" href="#delete-a-directory" id="id107">Delete a Directory</a></li>
<li><a class="reference internal" href="#using-a-directory-for-look-up" id="id108">Using A Directory for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-a-directory">
<h4><a class="toc-backref" href="#id104">Create a Directory</a><a class="headerlink" href="#create-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>N/A</td>
<td>Creates a new Directory resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-a-directory">
<h4><a class="toc-backref" href="#id105">Retrieve a Directory</a><a class="headerlink" href="#retrieve-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/directories/$DIRECTORY_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Directory. <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>, <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-directory">
<h4><a class="toc-backref" href="#id106">Update a Directory</a><a class="headerlink" href="#update-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories/$DIRECTORY_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-directory">
<h4><a class="toc-backref" href="#id107">Delete a Directory</a><a class="headerlink" href="#delete-a-directory" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/directories/$DIRECTORY_ID</td>
<td>N/A</td>
<td>Deletes the specified</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The &#8220;Stormpath Administrators&#8221; Directory cannot be deleted.</p>
</div>
<div class="section" id="id17">
<h5>Example Queries<a class="headerlink" href="#id17" title="Permalink to this headline">¶</a></h5>
<p><strong>Disable a Directory</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/bckhcGMXQDujIXpeXAMple&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">  &quot;status&quot; : &quot;DISABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would disable the specified Directory, which would mean that all of its associated Accounts and Groups would be unable to log in to any Application that this Directory was mapped to as an Account Store.</p>
<p><strong>Retrieve Directory with Tenant embedded</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/bckhcGMXQDujIXpeXAMple?expand=tenant&quot;</span> <span class="se">\</span>
</pre></div>
</div>
<p>This query would retrieve the specified Directory with the Tenant resource embedded via <a class="reference internal" href="#about-links"><span class="std std-ref">link expansion</span></a>.</p>
</div>
</div>
<div class="section" id="using-a-directory-for-look-up">
<h4><a class="toc-backref" href="#id108">Using A Directory for Look-Up</a><a class="headerlink" href="#using-a-directory-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, independent, resources using the Directory for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/tenants/$DIRECTORY_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a resource of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/tenants/$DIRECTORY_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Directory&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Searchable collections associated with a Directory are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="other-resources-associated-with-a-directory">
<h3><a class="toc-backref" href="#id98">Other Resources Associated with a Directory</a><a class="headerlink" href="#other-resources-associated-with-a-directory" title="Permalink to this headline">¶</a></h3>
<div class="section" id="account-creation-policy">
<span id="ref-accnt-creation-policy"></span><h4><a class="toc-backref" href="#id99">Account Creation Policy</a><a class="headerlink" href="#account-creation-policy" title="Permalink to this headline">¶</a></h4>
<p>A Directory’s Account Creation Policy resource contains data and attributes that control what Stormpath does when an Account is created. This includes email verification and welcome emails.</p>
<p><strong>Account Creation Policy URL</strong></p>
<p><code class="docutils literal"><span class="pre">https://api.stormpath.com/v1/accountCreationPolicies/$DIRECTORY_ID</span></code></p>
<p><strong>Account Creation Policy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the verification email workflow. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly registered user to have them verify their email. The email sent is configurable through the <code class="docutils literal"><span class="pre">verificationEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">verificationSuccessEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the verification success email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly verified user to let them know that they have successfully verified their email. The email sent is configurable through the <code class="docutils literal"><span class="pre">verificationSuccessEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">welcomeEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the welcome email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, Stormpath will send an email to a newly registered user (if <code class="docutils literal"><span class="pre">verificationEmailStatus</span></code> is set to <code class="docutils literal"><span class="pre">DISABLED</span></code>) or a newly verified user (if <code class="docutils literal"><span class="pre">verificationEmailStatus</span></code> is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>). The email sent is configurable through the <code class="docutils literal"><span class="pre">welcomeEmailTemplates</span></code> attribute.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">verificationEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span class="std std-ref">email templates</span></a> that can be used for sending the verification email.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">verificationSuccessEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span class="std std-ref">email templates</span></a> that can be used for sending the verification success email.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">welcomeEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span class="std std-ref">email templates</span></a> that can be used for sending a welcome email.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">emailDomainWhitelist</span></code></td>
<td>Array</td>
<td>N/A</td>
<td>An array of Email Domains that <a class="reference internal" href="accnt_mgmt.html#email-domain-restriction"><span class="std std-ref">can be used to for user registration in this Directory</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">emailDomainBlacklist</span></code></td>
<td>Array</td>
<td>N/A</td>
<td>An array of Email Domains that <a class="reference internal" href="accnt_mgmt.html#email-domain-restriction"><span class="std std-ref">cannot be used to for user registration in this Directory</span></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Account Creation Policy Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationSuccessEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;welcomeEmailStatus&quot;</span><span class="p">:</span><span class="s2">&quot;DISABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;verificationEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/verificationEmailTemplates&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;verificationSuccessEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/verificationSuccessEmailTemplates&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;welcomeEmailTemplates&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accountCreationPolicies/2SKhstu8PlaekcaexaMPLe/welcomeEmailTemplates&quot;</span>
  <span class="p">}</span>
  <span class="s2">&quot;emailDomainWhitelist&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;*stormpath.com&quot;</span>
  <span class="p">],</span>
  <span class="nt">&quot;emailDomainBlacklist&quot;</span><span class="p">:[</span>
    <span class="s2">&quot;*gmail.com&quot;</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="password-policy">
<span id="ref-password-policy"></span><h4><a class="toc-backref" href="#id100">Password Policy</a><a class="headerlink" href="#password-policy" title="Permalink to this headline">¶</a></h4>
<p>The Directory&#8217;s Password Policy is configured inside the passwordPolicy resource. Specifically, this resource contains information about how passwords are reset and links to further information about the strength requirements for a user&#8217;s password. The Account Management chapter has more information about the <a class="reference internal" href="accnt_mgmt.html#password-reset-flow"><span class="std std-ref">Password Reset Flow</span></a>.</p>
<p><strong>Password Policy URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/passwordPolicies/$DIRECTORY_ID</span></code></p>
<p><strong>passwordPolicy Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">resetTokenTtl</span></code></td>
<td>Number</td>
<td>A positive integer, less than 169 (0 &lt; i &lt; 169). Default is 24.</td>
<td>An integer that defines how long the password reset token is valid for during the password reset email workflow.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the reset email workflow. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, then Stormpath will allow for passwords to be reset through the email workflow and will use the template that is stored in the passwordPolicy’s <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">strength</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-password-strength"><span class="std std-ref">Password Strength requirements</span></a> for the Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span class="std std-ref">email templates</span></a> that can be used for sending the password reset email. A template stores all relevant attributes  needed for an email. This is a collection but currently only allows one value. It is not possible to create new <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code> with a POST.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">resetSuccessEmailStatus</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>The status of the reset success email. If this is set to <code class="docutils literal"><span class="pre">ENABLED</span></code>, then Stormpath will send the email when an Account’s password reset email workflow is successful. The email template that is sent is defined in the passwordPolicy’s <code class="docutils literal"><span class="pre">resetSuccessEmailTemplates</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">resetSuccessEmailTemplates</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of <a class="reference internal" href="#ref-emailtemplates"><span class="std std-ref">email templates</span></a> that can be used for sending password reset success emails. A template stores all relevant attributes needed for an email. This is a collection but currently only allows one value. It is not possible to create new <code class="docutils literal"><span class="pre">resetEmailTemplates</span></code> with a POST.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="email-templates">
<span id="ref-emailtemplates"></span><h4><a class="toc-backref" href="#id101">Email Templates</a><a class="headerlink" href="#email-templates" title="Permalink to this headline">¶</a></h4>
<p>This resource defines the contents of emails that are sent as part of the Account creation and password reset flows. For more information about templates and how to customize them, see the <a class="reference internal" href="accnt_mgmt.html#customizing-email-templates"><span class="std std-ref">Account Management chapter</span></a>.</p>
<p><strong>EmailTemplate URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/emailTemplates/$EMAILTEMPLATE_ID&quot;</span></code></p>
<p><strong>emailTemplate Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">fromEmailAddress</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The address that appears in the email&#8217;s &#8220;from&#8221; field.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fromName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name that appears in the email&#8217;s &#8220;from&#8221; field</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">subject</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The subject that appears in the email&#8217;s subject field</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">htmlBody</span></code></td>
<td>String</td>
<td>See below.</td>
<td>The body of the email in HTML format. This body is only sent when the <code class="docutils literal"><span class="pre">mimeType</span></code> for the template is set to <code class="docutils literal"><span class="pre">text/html</span></code> or <code class="docutils literal"><span class="pre">multipart/alternative</span></code>. This body can take valid HTML snippets.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">textBody</span></code></td>
<td>String</td>
<td>See below.</td>
<td>The body of the email in plain text format. This body is only sent when the <code class="docutils literal"><span class="pre">mimeType</span></code> for the template is set to <code class="docutils literal"><span class="pre">text/plain</span></code> or <code class="docutils literal"><span class="pre">multipart/alternative</span></code>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">mimeType</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">text/plain</span></code> or <code class="docutils literal"><span class="pre">text/html</span></code> or <code class="docutils literal"><span class="pre">multipart/alternative</span></code></td>
<td>An attribute that defines whether Stormpath will send an email as plaintext, HTML, or both.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultModel</span></code></td>
<td>Object</td>
<td>Object that includes one attribute <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> which is itself a String</td>
<td>An object that defines the model of the email template. The defaultModel currently holds one value, which is the <code class="docutils literal"><span class="pre">linkBaseUrl</span></code>. The <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> is retrieved when using the macro <code class="docutils literal"><span class="pre">${url}</span></code> in an email template. This macro generates a URL that includes the <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> and the <code class="docutils literal"><span class="pre">sptoken</span></code> used in Account creation and password reset workflows.</td>
</tr>
</tbody>
</table>
<div class="section" id="macros">
<span id="ref-email-macros"></span><h5>Macros<a class="headerlink" href="#macros" title="Permalink to this headline">¶</a></h5>
<p>The <code class="docutils literal"><span class="pre">htmlBody</span></code> and <code class="docutils literal"><span class="pre">textBody</span></code> fields support the use of macros. For a full account of what macros are and how to use them, see <a class="reference internal" href="accnt_mgmt.html#customizing-email-templates"><span class="std std-ref">3.6.2. Customizing Stormpath Email Templates</span></a>.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Macro</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>${account.givenName}</td>
<td>The Account&#8217;s first name.</td>
</tr>
<tr class="row-odd"><td>${account.surname}</td>
<td>The Account&#8217;s surname.</td>
</tr>
<tr class="row-even"><td>${account.fullName}</td>
<td>The Account&#8217;s full name (first name and surname).</td>
</tr>
<tr class="row-odd"><td>${account.username}</td>
<td>The Account&#8217;s username.</td>
</tr>
<tr class="row-even"><td>${account.email}</td>
<td>The Account&#8217;s email.</td>
</tr>
<tr class="row-odd"><td>${account.directory.name}</td>
<td>The name of the Directory that the Account belongs to.</td>
</tr>
<tr class="row-even"><td>$!{application.name}</td>
<td>The name of the Application that the Account belongs to. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="accnt_mgmt.html#quiet-macro-reference"><span class="std std-ref">quiet reference notation</span></a>.</td>
</tr>
<tr class="row-odd"><td>$!{application.customData.$KEY}</td>
<td>Some value from the Application&#8217;s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Application&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="accnt_mgmt.html#quiet-macro-reference"><span class="std std-ref">quiet reference notation</span></a>.</td>
</tr>
<tr class="row-even"><td>$!{account.customData.$KEY}</td>
<td>Some value from the Account&#8217;s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Account&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="accnt_mgmt.html#quiet-macro-reference"><span class="std std-ref">quiet reference notation</span></a>.</td>
</tr>
<tr class="row-odd"><td>$!{account.directory.customData.$KEY}</td>
<td>Some value from the Directory’s customData resource. Replace <code class="docutils literal"><span class="pre">$KEY</span></code> with a key from the Directory&#8217;s Custom Data. Should always be used with the <code class="docutils literal"><span class="pre">!</span></code> <a class="reference internal" href="accnt_mgmt.html#quiet-macro-reference"><span class="std std-ref">quiet reference notation</span></a>.</td>
</tr>
<tr class="row-even"><td>${url}</td>
<td>The <code class="docutils literal"><span class="pre">linkBaseUrl</span></code> value from the template&#8217;s associated <code class="docutils literal"><span class="pre">defaultModel</span></code> object.</td>
</tr>
<tr class="row-odd"><td>${sptoken}</td>
<td>The value of the Stormpath token for password reset.</td>
</tr>
<tr class="row-even"><td>${sptokenNameValuePair}</td>
<td>A string that is formatted as <code class="docutils literal"><span class="pre">sptoken=$TOKEN</span></code> Where <code class="docutils literal"><span class="pre">$TOKEN</span></code> is either the verification or password reset token.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using Angular and routing with <code class="docutils literal"><span class="pre">#</span></code> in your URLs, the default <code class="docutils literal"><span class="pre">${url}</span></code> macro will not work here because it treats <code class="docutils literal"><span class="pre">#</span></code> as an HTML fragment. Instead, you will have to hardcode the URL into your email template and include the <code class="docutils literal"><span class="pre">{sptokenNameValuePair}</span></code> macro at the end.</p>
</div>
</div>
</div>
<div class="section" id="password-strength">
<span id="ref-password-strength"></span><h4><a class="toc-backref" href="#id102">Password Strength</a><a class="headerlink" href="#password-strength" title="Permalink to this headline">¶</a></h4>
<p>The Password Strength Policy for a Directory can be modified through the Administrator Console and through the REST API. Password Strength Policy is part of the Directory’s Password Policy and can be accessed through the <code class="docutils literal"><span class="pre">strength</span></code> link.</p>
<p><strong>Strength URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/passwordPolicies/$DIRECTORY_ID/strength</span></code></p>
<p><strong>strength Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minLength</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 8</td>
<td>Represents the minimum length for a password. For example <code class="docutils literal"><span class="pre">minLength</span></code> of <code class="docutils literal"><span class="pre">5</span></code> requires that a password has no less than 5 characters.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">maxLength</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 100</td>
<td>Represents the maximum length for a password. For example <code class="docutils literal"><span class="pre">maxLength</span></code> of <code class="docutils literal"><span class="pre">10</span></code> indicates that a password can have no more than 10 characters.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minLowerCase</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 1</td>
<td>Represents the minimum number of lower case characters required for the password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">minUpperCase</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 1</td>
<td>Represents the minimum number of upper case characters required for the password.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minNumeric</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 1</td>
<td>Represents the minimum number of numeric characters required for the password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">minSymbol</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 0</td>
<td>Represents the minimum number of symbol characters required for the password.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">minDiacritic</span></code></td>
<td>Number</td>
<td>0 &lt; N &lt; 256, default is 0</td>
<td>Represents the minimum number of diacritic characters required for the password.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">preventReuse</span></code></td>
<td>Number</td>
<td>Default <code class="docutils literal"><span class="pre">0</span></code> (disabled), max <code class="docutils literal"><span class="pre">25</span></code>.</td>
<td>Restricts password reuse if the password was used within the specified number of entries in the password history. So if <code class="docutils literal"><span class="pre">preventReuse</span></code> is set to <code class="docutils literal"><span class="pre">10</span></code>, then a password will be rejected if it falls within the last 10 entries of the user&#8217;s password history.</td>
</tr>
</tbody>
</table>
<p><strong>Password Strength Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/passwordPolicies/2SKhstu8PlaekcaexaMPLe/strength&quot;</span><span class="p">,</span>
  <span class="nt">&quot;minLength&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;maxLength&quot;</span><span class="p">:</span> <span class="mi">24</span><span class="p">,</span>
  <span class="nt">&quot;minLowerCase&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;minUpperCase&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;minNumeric&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;minSymbol&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;minDiacritic&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;preventReuse&quot;</span><span class="p">:</span> <span class="mi">10</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="provider">
<span id="ref-provider"></span><h4><a class="toc-backref" href="#id103">Provider</a><a class="headerlink" href="#provider" title="Permalink to this headline">¶</a></h4>
<p>The Provider resource contains information about the source of the information found in its associated Directory resource.</p>
<p>For example, a Social Directory could be created for GitHub. This Directory would contain Accounts created using &#8220;Log In With Github&#8221;, and its Provider resource would contain information about your Github login integration (e.g. the OAuth Client and Secret required for Github login). For more information about creating a Directory to allow for login with GitHub, please see <a class="reference internal" href="auth_n.html#authn-github"><span class="std std-ref">Authentication chapter</span></a>.</p>
<p>An individual Provider resource may be accessed via its Resource URL:</p>
<p><strong>Provider URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/directories/$DIRECTORY_ID/provider</span></code></p>
<p><strong>Provider Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">providerId</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">stormpath</span></code> (for a Cloud Directory); <code class="docutils literal"><span class="pre">ad</span></code> or <code class="docutils literal"><span class="pre">ldap</span></code> (for LDAP Directories); <code class="docutils literal"><span class="pre">facebook</span></code>, <code class="docutils literal"><span class="pre">google</span></code>, <code class="docutils literal"><span class="pre">github</span></code> or <code class="docutils literal"><span class="pre">linkedin</span></code> (for Social Directories); <code class="docutils literal"><span class="pre">saml</span></code> (for SAML Directories)</td>
<td>Specifies the type of Provider for the associated Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">clientId</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Social only) The OAuth 2.0 Client ID for this Provider.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">clientSecret</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Social only) The OAuth 2.0 Client Secret for this Provider.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">redirectURL</span></code></td>
<td>String</td>
<td>A valid URL</td>
<td>(Social only) The URL to redirect to after the user has authenticated. Currently only used for the Google providers.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">agent</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>(LDAP only) A link to the Provider&#8217;s Agent. For more information see <a class="reference internal" href="#ref-ldap-agent"><span class="std std-ref">below</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ssoLoginUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(SAML only) The URL for the IdP&#8217;s SSO URL. For more information see <a class="reference internal" href="auth_n.html#saml-configuration"><span class="std std-ref">4.5.2. Configuring SAML</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">ssoLogoutUrl</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(SAML only) The URL for the IdP&#8217;s SSO logout endpoint. For more information see <a class="reference internal" href="auth_n.html#saml-configuration"><span class="std std-ref">4.5.2. Configuring SAML</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">encodedX509SigningCert</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(SAML only) The public key from the SAML Identity Provider used to sign the assertions that are returned to Stormpath. For more information see <a class="reference internal" href="auth_n.html#saml-configuration"><span class="std std-ref">4.5.2. Configuring SAML</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">requestSignatureAlgorithm</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">RSA-SHA256</span></code> (Default), <code class="docutils literal"><span class="pre">RSA-SHA1</span></code></td>
<td>(SAML only) The algorithm used by the SAML Identity Provider to sign SAML assertions that are returned to Stormpath. For more information see <a class="reference internal" href="auth_n.html#saml-configuration"><span class="std std-ref">4.5.2. Configuring SAML</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">attributeStatementMappingRules</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>(SAML only) This object contains the rules that map SAML assertions to Stormpath resource attributes. For information about what&#8217;s found in this object, see <a class="reference internal" href="#ref-attribute-mapping"><span class="std std-ref">below</span></a>. For more information about how it is used, please see <a class="reference internal" href="auth_n.html#saml-mapping"><span class="std std-ref">Step 7 of the SAML configuration section</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">serviceProviderMetadata</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>(SAML only) This object contains metadata related to your Service Provider. For information about what&#8217;s found in this object, see <a class="reference internal" href="#ref-sp-metadata"><span class="std std-ref">below</span></a>. For more information about how it is used, please see <a class="reference internal" href="auth_n.html#configure-sp-in-idp"><span class="std std-ref">Step 3 of the SAML configuration section</span></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Provider Example (Facebook)</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2TL06yrJ05EAM9gEXAMpLe/provider&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-03-28T22:21:32.937Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2014-03-28T22:21:32.949Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;clientId&quot;</span><span class="p">:</span> <span class="s2">&quot;5014174166example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;clientSecret&quot;</span><span class="p">:</span> <span class="s2">&quot;e7c1274966b0844913953281example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;providerId&quot;</span><span class="p">:</span> <span class="s2">&quot;facebook&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Provider Example (SAML)</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/4yuXfz9HS0okwMTeXample/provider&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2016-04-22T18:40:10.062Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2016-04-22T18:40:10.062Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;providerId&quot;</span><span class="p">:</span><span class="s2">&quot;saml&quot;</span><span class="p">,</span>
  <span class="nt">&quot;ssoLoginUrl&quot;</span><span class="p">:</span><span class="s2">&quot;https://sso.someSamlIdp.com/sso/idp/SSO.saml2?idpid=4ad1f356-Ha5h-440d-955a-60873aExample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;ssoLogoutUrl&quot;</span><span class="p">:</span><span class="s2">&quot;https://sso.someSamlIdp.com/sso/SLO.saml2&quot;</span><span class="p">,</span>
  <span class="nt">&quot;encodedX509SigningCert&quot;</span><span class="p">:</span><span class="s2">&quot;-----BEGIN CERTIFICATE-----\nTHISHASBEENTRUNCATEDMIIDaDCCAlCgAwIBAgIGAVQ0xF8mMA0GCSqGSIb3DQEBCwUAMHUxCzAJBgNVBAYTAlVTMQswCQYD\nsh3WzqLNeYeoU5sGPWhlvNR7n2R1\n-----END CERTIFICATE-----&quot;</span><span class="p">,</span>
  <span class="nt">&quot;requestSignatureAlgorithm&quot;</span><span class="p">:</span><span class="s2">&quot;RSA-SHA256&quot;</span><span class="p">,</span>
  <span class="nt">&quot;attributeStatementMappingRules&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/attributeStatementMappingRules/4yveqrVFYsVas8lExample&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;serviceProviderMetadata&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/samlServiceProviderMetadatas/506sSbmUAx1rXnpExample&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="ldap-agent">
<span id="ref-ldap-agent"></span><h5>LDAP Agent<a class="headerlink" href="#ldap-agent" title="Permalink to this headline">¶</a></h5>
<p><a class="reference internal" href="accnt_mgmt.html#about-ldap-dir"><span class="std std-ref">LDAP Directories</span></a> have an associated <a class="reference internal" href="#ref-provider"><span class="std std-ref">Provider resource</span></a> with either the <code class="docutils literal"><span class="pre">ldap</span></code> or <code class="docutils literal"><span class="pre">ad</span></code> value for the <code class="docutils literal"><span class="pre">providerId</span></code>. That Provider in turn contains an <strong>Agent</strong> resource. This Agent is what will scan your LDAP directory and map the accounts and groups in that directory to Stormpath Accounts and Groups.</p>
<p>The Agent itself is a complex object, with a number of required objects both above and below it. All of these resources are required for LDAP configuration:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>directory
  └──provider
      └──agent
          └──config
              ├──accountConfig
              └──groupConfig
</pre></div>
</div>
<p>You will need to pass all of these resources together if you want to create an LDAP Agent. For an example JSON see <a class="reference internal" href="auth_n.html#authn-ldap-dir-creation"><span class="std std-ref">the Authentication chapter</span></a>.</p>
<p>An Agents collection may be accessed via its Resource URL:</p>
<p><strong>Agent URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/agents/$DIRECTORY_ID</span></code></p>
<p><strong>Agent Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>String</td>
<td>N/A</td>
<td>A unique alphanumeric identifier for this Agent.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">ONLINE</span></code>, <code class="docutils literal"><span class="pre">OFFLINE</span></code>, <code class="docutils literal"><span class="pre">ERROR</span></code></td>
<td>The Agent&#8217;s status.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">config</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">config</span></code> object. For more information see <a class="reference internal" href="#ref-ldap-agent-config"><span class="std std-ref">below</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directory</span></a> resource that the Agent belongs to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">download</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link that allows this Agent to be downloaded for installation.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that owns the Directory this Agent belongs to.</td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span class="std std-ref">below</span></a>.</p>
<p id="ref-ldap-agent-config"><strong>Config Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">config</span></code> object is found inside an Agent resource. It corresponds with the &#8220;Agent Configuration&#8221; tab in the Stormpath Admin Console &#8220;Agents&#8221; section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">directoryHost</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The IP address or Host name of the LDAP directory server to connect to.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">directoryPort</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The port to use when connecting to the LDAP directory server.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">sslRequired</span></code></td>
<td>Boolean</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>Indicates whether the Agent socket connection to the directory uses SSL encryption.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">agentUserDn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The username that the Agent will use to connect to your LDAP directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">agentUserDnPassword</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The password that the Agent will use to connect to your LDAP directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">baseDn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The base DN (Distinguished Name) to use when querying the directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">pollInterval</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>How often (in minutes) to poll Directory Services to detect directory object changes.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountConfig</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The Account configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">accountConfig</span></code> object. For more information see <a class="reference internal" href="#ref-accountconfig"><span class="std std-ref">below</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groupConfig</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The Group configuration information for this Agent, as an embedded <code class="docutils literal"><span class="pre">groupConfig</span></code> object. For more information see <a class="reference internal" href="#ref-groupconfig"><span class="std std-ref">below</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">referralMode</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">follow</span></code>, <code class="docutils literal"><span class="pre">ignore</span></code></td>
<td>Prevents referral problems for Active Directory servers that are not configured properly for DNS. <em>(Active Directory only)</em></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">ignoreReferralIssues</span></code></td>
<td>Boolean</td>
<td>N/A</td>
<td>Referral issues can arise when querying an Active Directory server without proper DNS. Setting this as true ignores referral exceptions and allows (potentially partial) results to be returned. <em>(Active Directory only)</em></td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span class="std std-ref">below</span></a>.</p>
<p id="ref-accountconfig"><strong>accountConfig Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">accountConfig</span></code> object is found inside a <code class="docutils literal"><span class="pre">config</span></code> object. It corresponds with the &#8220;Account Configuration&#8221; tab in the Stormpath Admin Console &#8220;Agents&#8221; section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dnSuffix</span></code></td>
<td>String</td>
<td>N/A</td>
<td><em>(Optional)</em> Value appended to the Base DN when accessing accounts. If left unspecified, account searches will stem from the Base DN.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">objectClass</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The LDAP object class to use when when loading accounts.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">objectFilter</span></code></td>
<td>String</td>
<td>N/A</td>
<td><em>(Optional)</em> LDAP query filter to use when searching for user accounts.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">emailRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s email address.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">givenNameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s first name (aka &#8216;Given Name&#8217;).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">middleNameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td><em>(Optional)</em> The name of the attribute for an account&#8217;s middle name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">surnameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s last name (aka &#8216;Family Name&#8217; or &#8216;Surname&#8217;).</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">usernameRnd</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s login name.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">passwordRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for an account&#8217;s password. <em>(Non-AD only)</em></td>
</tr>
</tbody>
</table>
<p>For an example JSON see <a class="reference internal" href="#agent-json-ex"><span class="std std-ref">below</span></a>.</p>
<p id="ref-groupconfig"><strong>groupConfig Attributes</strong></p>
<p>The <code class="docutils literal"><span class="pre">groupConfig</span></code> object is found inside a <code class="docutils literal"><span class="pre">config</span></code> object. It corresponds with the &#8220;Group Configuration&#8221; tab in the Stormpath Admin Console &#8220;Agents&#8221; section.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><code class="docutils literal"><span class="pre">dnSuffix</span></code></th>
<th class="head">String</th>
<th class="head">N/A</th>
<th class="head">(Optional) Value appended to the Base DN when accessing groups. If left unspecified, group searches will stem from the Base DN.</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">objectClass</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The LDAP group object class to use when when loading Accounts.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">objectFilter</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) LDAP query filter to use when searching for Groups.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nameRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for a Group&#8217;s name. For example <code class="docutils literal"><span class="pre">cn</span></code>. Please note: Group names must be unique within a Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">descriptionRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The name of the attribute for a Group&#8217;s description.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">membersRdn</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) The name of the attribute that lists the group members.</td>
</tr>
</tbody>
</table>
<p id="agent-json-ex"><strong>Agent example with embedded config, accountConfig and groupConfig resources</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/agents/2PjCYRg3mhGNLUieXamPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="s2">&quot;2PjCYRg3mhGNLUixcSdK0k&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;OFFLINE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;config&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;directoryHost&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;directoryPort&quot;</span><span class="p">:</span><span class="mi">636</span><span class="p">,</span>
    <span class="nt">&quot;sslRequired&quot;</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span>
    <span class="nt">&quot;agentUserDn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;baseDn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
    <span class="nt">&quot;pollInterval&quot;</span><span class="p">:</span><span class="mi">60</span><span class="p">,</span>
    <span class="nt">&quot;accountConfig&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;dnSuffix&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectClass&quot;</span><span class="p">:</span><span class="s2">&quot;person&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectFilter&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;emailRdn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;givenNameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;givenName&quot;</span><span class="p">,</span>
      <span class="nt">&quot;middleNameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;surnameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;sn&quot;</span><span class="p">,</span>
      <span class="nt">&quot;usernameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;uid&quot;</span><span class="p">,</span>
      <span class="nt">&quot;passwordRdn&quot;</span><span class="p">:</span><span class="s2">&quot;userPassword&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;groupConfig&quot;</span><span class="p">:{</span>
      <span class="nt">&quot;dnSuffix&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectClass&quot;</span><span class="p">:</span><span class="s2">&quot;groupOfUniqueNames&quot;</span><span class="p">,</span>
      <span class="nt">&quot;objectFilter&quot;</span><span class="p">:</span><span class="s2">&quot;someValue&quot;</span><span class="p">,</span>
      <span class="nt">&quot;nameRdn&quot;</span><span class="p">:</span><span class="s2">&quot;cn&quot;</span><span class="p">,</span>
      <span class="nt">&quot;descriptionRdn&quot;</span><span class="p">:</span><span class="s2">&quot;description&quot;</span><span class="p">,</span>
      <span class="nt">&quot;membersRdn&quot;</span><span class="p">:</span><span class="s2">&quot;uniqueMember&quot;</span>
    <span class="p">}</span>
  <span class="p">},</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2014-11-25T03:22:39.000Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2014-11-25T03:22:39.000Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2Pj8EONsQmnAMyIeXamPLE&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;download&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/agents/2PjCYRg3mhGNLUieXamPLE/download&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/7g9HG1YMBX8ohFbeXamPLE&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">We can tell that this is an Active Directory Agent because it is missing <code class="docutils literal"><span class="pre">referralMode</span></code> and <code class="docutils literal"><span class="pre">ignoreReferralIssues</span></code> from the <code class="docutils literal"><span class="pre">config</span></code> resource, and has the <code class="docutils literal"><span class="pre">passwordRdn</span></code> attribute inside <code class="docutils literal"><span class="pre">accountConfig</span></code>. You would also know that it is an Active Directory Agent because the associated Provider resource would have its <code class="docutils literal"><span class="pre">providerId</span></code> attribute set to <code class="docutils literal"><span class="pre">ad</span></code>.</p>
</div>
</div>
<div class="section" id="attribute-statement-mapping-rules">
<span id="ref-attribute-mapping"></span><h5>Attribute Statement Mapping Rules<a class="headerlink" href="#attribute-statement-mapping-rules" title="Permalink to this headline">¶</a></h5>
<p>This is an object that contains an array of mapping rules. Each of these rules maps an SAML attribute passed by the SAML Identity Provider to one or more Stormpath Account or Account customData attributes. For more detailed information about how these rules are configured, see <a class="reference internal" href="auth_n.html#saml-mapping"><span class="std std-ref">the Authentication chapter</span></a>.</p>
<p><strong>Attribute Statement Mapping Rules URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/attributeStatementMappingRules/$ATTRIBUTE_STATEMENT_MAPPING_RULES_ID</span></code></p>
<p><strong>Attribute Statement Mapping Rules Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">items</span></code></td>
<td>Array</td>
<td>N/A</td>
<td>An array of Mapping Rules (see below).</td>
</tr>
</tbody>
</table>
<p><strong>Mapping Rule Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="10%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>The SAML Attribute name that will be passed from your Identity Provider.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">nameFormat</span></code></td>
<td>String</td>
<td>(Optional) The name format for the above-specified SAML Attribute, expressed as a Uniform Resource Name (URN).</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountAttributes</span></code></td>
<td>Array</td>
<td>This is an array of Stormpath Account or customData (<code class="docutils literal"><span class="pre">customData.$KEY_NAME</span></code>) attributes that will map to this SAML Attribute.</td>
</tr>
</tbody>
</table>
<p><strong>Attribute Statement Mapping Rules Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/attributeStatementMappingRules/PybI8DObmohmOIexample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-21T17:47:34.980Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-28T21:58:47.839Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;items&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
          <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;User.FirstName&quot;</span><span class="p">,</span>
          <span class="nt">&quot;nameFormat&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="nt">&quot;accountAttributes&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;givenName&quot;</span>
          <span class="p">]</span>
      <span class="p">},</span>
      <span class="p">{</span>
          <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;User.LastName&quot;</span><span class="p">,</span>
          <span class="nt">&quot;nameFormat&quot;</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
          <span class="nt">&quot;accountAttributes&quot;</span><span class="p">:</span> <span class="p">[</span>
              <span class="s2">&quot;surname&quot;</span>
          <span class="p">]</span>
      <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="service-provider-metadata">
<span id="ref-sp-metadata"></span><h5>Service Provider Metadata<a class="headerlink" href="#service-provider-metadata" title="Permalink to this headline">¶</a></h5>
<p>This object contains the SAML Service Provider information about Stormpath that is required for the Service Provider-initiated SAML flow. The object by default returns as XML, but it is possible to get JSON by adding an <code class="docutils literal"><span class="pre">Accept:</span> <span class="pre">application/json</span></code> header to your request. For more information about how to use this, please see <a class="reference internal" href="auth_n.html#configure-sp-in-idp"><span class="std std-ref">the Authentication chapter</span></a>.</p>
<p><strong>Service Provider Metadata URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/samlServiceProviderMetadatas/$SERVICE_PROVIDER_METADATA_ID</span></code></p>
<p><strong>Service Provider Metadata Elements</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">entityId</span></code></td>
<td>String</td>
<td>URN-formatted</td>
<td>The entity ID of the Stormpath SAML Directory in URN-format.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">assertionConsumerServicePostEndpoint</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>The ACS Endpoint required by your Identity Provider.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">x509SigningCert</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>An XML x509 Signing Certificate that will return with <code class="docutils literal"><span class="pre">Content-Type:</span> <span class="pre">application/pkix-cert</span></code>. If you retrieve XML instead of JSON, the certificate will be embedded in the response.</td>
</tr>
</tbody>
</table>
<p><strong>Service Provider Metadata JSON Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/samlServiceProviderMetadatas/QLoznDKpnXuX77example&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-21T17:47:35.313Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-01-21T17:47:35.313Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;entityId&quot;</span><span class="p">:</span> <span class="s2">&quot;urn:stormpath:directory:PwrCmDmJisz3uDexample:provider:sp&quot;</span><span class="p">,</span>
  <span class="nt">&quot;assertionConsumerServicePostEndpoint&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/PwrCmDmJisz3uDexample/saml/sso/post&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;x509SigningCert&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/x509certificates/QLXha2bQ9f4d1Rexample&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Service Provider Metadata XML Example</strong></p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="nt">&lt;md:EntityDescriptor</span> <span class="na">xmlns:md=</span><span class="s">&quot;urn:oasis:names:tc:SAML:2.0:metadata&quot;</span> <span class="na">entityID=</span><span class="s">&quot;urn:stormpath:directory:PwrCmDmJisz3uDexample:provider:sp&quot;</span><span class="nt">&gt;</span>
  <span class="nt">&lt;md:SPSSODescriptor</span> <span class="na">protocolSupportEnumeration=</span><span class="s">&quot;urn:oasis:names:tc:SAML:2.0:protocol&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;md:KeyDescriptor</span> <span class="na">use=</span><span class="s">&quot;signing&quot;</span><span class="nt">&gt;</span>
      <span class="nt">&lt;ds:KeyInfo</span> <span class="na">xmlns:ds=</span><span class="s">&quot;http://www.w3.org/2000/09/xmldsig#&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;ds:X509Data&gt;</span>
          <span class="nt">&lt;ds:X509Certificate&gt;</span>MIIC1zCCAb+TRUNACATED<span class="nt">&lt;/ds:X509Certificate&gt;</span>
        <span class="nt">&lt;/ds:X509Data&gt;</span>
      <span class="nt">&lt;/ds:KeyInfo&gt;</span>
    <span class="nt">&lt;/md:KeyDescriptor&gt;</span>
    <span class="nt">&lt;md:NameIDFormat&gt;</span>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress<span class="nt">&lt;/md:NameIDFormat&gt;</span>
    <span class="nt">&lt;md:AssertionConsumerService</span> <span class="na">Binding=</span><span class="s">&quot;urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST&quot;</span> <span class="na">Location=</span><span class="s">&quot;https://api.stormpath.com/v1/directories/PwrCmDmJisz3uDexample/saml/sso/post&quot;</span> <span class="na">index=</span><span class="s">&quot;0&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/md:SPSSODescriptor&gt;</span>
<span class="nt">&lt;/md:EntityDescriptor&gt;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="group">
<span id="ref-group"></span><h2>Group<a class="headerlink" href="#group" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id18">
<ul class="simple">
<li><a class="reference internal" href="#group-operations" id="id109">Group Operations</a><ul>
<li><a class="reference internal" href="#create-a-group" id="id110">Create a Group</a></li>
<li><a class="reference internal" href="#retrieve-a-group" id="id111">Retrieve a Group</a></li>
<li><a class="reference internal" href="#update-a-group" id="id112">Update a Group</a></li>
<li><a class="reference internal" href="#delete-a-group" id="id113">Delete a Group</a></li>
<li><a class="reference internal" href="#using-a-group-for-look-up" id="id114">Using a Group for Look-Up</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Groups</strong> are collections of Accounts found within a Directory. They can be thought of as labels applied to Accounts. Aside from the relatively simple task of grouping together Accounts, Groups can also be used to implement &#8220;roles&#8221; for authorization purposes. For more information about this, please see <a class="reference internal" href="auth_z.html#role-groups"><span class="std std-ref">5.2.1. How to Use Groups to Model Authorization Roles</span></a>.</p>
<p>An individual Group resource may be accessed via its Resource URL:</p>
<p><strong>Group URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/groups/$GROUP_ID</span></code></p>
<p><strong>Group Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The name of the Group. Must be unique within a Directory.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 1000 characters</td>
<td>(Optional) The description of the Group.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Groups can be used as Account Stores for logging in to Applications. <code class="docutils literal"><span class="pre">DISABLED</span></code> Groups cannot be used for login.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Group’s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own Group-specific custom fields.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directory</span></a> resource that the Group belongs to.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that owns the Directory containing this Group.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-account"><span class="std std-ref">Accounts</span></a> that are contained within this Group.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountMemberships</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of <a class="reference internal" href="#ref-groupmembership"><span class="std std-ref">groupMemberships</span></a> that this Group is found in.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to any <a class="reference internal" href="#ref-application"><span class="std std-ref">Applications</span></a> associated with this Group.</td>
</tr>
</tbody>
</table>
<p><strong>Group Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Starfleet Officers&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;Commissioned officers in Starfleet&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T20:09:23.698Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-08-25T20:09:23.698Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJKExaMPLe/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountMemberships&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/accountMemberships&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJExaMPLe/applications&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="group-operations">
<span id="id19"></span><h3><a class="toc-backref" href="#id109">Group Operations</a><a class="headerlink" href="#group-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id20">
<ul class="simple">
<li><a class="reference internal" href="#create-a-group" id="id115">Create a Group</a></li>
<li><a class="reference internal" href="#retrieve-a-group" id="id116">Retrieve a Group</a></li>
<li><a class="reference internal" href="#update-a-group" id="id117">Update a Group</a></li>
<li><a class="reference internal" href="#delete-a-group" id="id118">Delete a Group</a></li>
<li><a class="reference internal" href="#using-a-group-for-look-up" id="id119">Using a Group for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-a-group">
<h4><a class="toc-backref" href="#id115">Create a Group</a><a class="headerlink" href="#create-a-group" title="Permalink to this headline">¶</a></h4>
<p>Groups must be created under a specified Directory resource.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST v1/directories/$DIRECTORY_ID/groups</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>; Optional: <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>N/A</td>
<td>Creates a new Group resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-a-group">
<h4><a class="toc-backref" href="#id116">Retrieve a Group</a><a class="headerlink" href="#retrieve-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groups/$GROUP_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Group. <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">directory</span></code> and <code class="docutils literal"><span class="pre">accounts</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-group">
<h4><a class="toc-backref" href="#id117">Update a Group</a><a class="headerlink" href="#update-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/groups/$GROUP_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-group">
<h4><a class="toc-backref" href="#id118">Delete a Group</a><a class="headerlink" href="#delete-a-group" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/groups/$GROUP_ID</td>
<td>N/A</td>
<td>Deletes the specified Group resource.</td>
</tr>
</tbody>
</table>
<div class="section" id="id21">
<h5>Example Queries<a class="headerlink" href="#id21" title="Permalink to this headline">¶</a></h5>
<p><strong>Example Description</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groups/ZgoHUG0oSoVNeU0ExaMPLE?expand=tenant,directory,accounts(offset:0,limit:50)&quot;</span>
</pre></div>
</div>
<p>This query would retrieve a Group resource along with its associated Tenant and Directory resources embedded via link expansion. It would also return with the embedded collection of associated Accounts, to a maximum of 50 Accounts in this particular return payload.</p>
<p><strong>Disable a Group</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span> curl --request POST <span class="se">\</span>
 --user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
 --header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
 --url <span class="s2">&quot;https://api.stormpath.com/v1/groups/ZgoHUG0oSoVNeU0ExaMPLE&quot;</span> <span class="se">\</span>
 --data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;status&quot; : &quot;DISABLED&quot; \</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would disable a Group, which means that any associated Accounts would not be able to log in to any Applications that they were mapped to.</p>
</div>
</div>
<div class="section" id="using-a-group-for-look-up">
<h4><a class="toc-backref" href="#id119">Using a Group for Look-Up</a><a class="headerlink" href="#using-a-group-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Group for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groups/$GROUP_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a collection of all of a Group&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">applications</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/groups/$GROUP_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Group&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Searchable collections associated with a Group are: <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">applications</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="group-membership">
<span id="ref-groupmembership"></span><h2>Group Membership<a class="headerlink" href="#group-membership" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id22">
<ul class="simple">
<li><a class="reference internal" href="#group-membership-operations" id="id120">Group Membership Operations</a><ul>
<li><a class="reference internal" href="#create-a-group-membership" id="id121">Create a Group Membership</a></li>
<li><a class="reference internal" href="#retrieve-a-group-membership" id="id122">Retrieve a Group Membership</a></li>
<li><a class="reference internal" href="#update-a-group-membership" id="id123">Update a Group Membership</a></li>
<li><a class="reference internal" href="#delete-a-group-membership" id="id124">Delete a Group Membership</a></li>
</ul>
</li>
</ul>
</div>
<p>Accounts and Groups are linked via a <strong>groupMembership</strong> resource that stores this Account-to-Group link. Each Account you add to a Group has its own groupMembership resource created.</p>
<p><strong>groupMembership URL</strong></p>
<p><code class="docutils literal"><span class="pre">v1/groupMemberships/$GROUP_MEMBERSHIP_ID</span></code></p>
<p><strong>groupMembership Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-account"><span class="std std-ref">Account</span></a> for this Group Membership.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">group</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-group"><span class="std std-ref">Group</span></a> for this Group Membership.</td>
</tr>
</tbody>
</table>
<p><strong>Group Membership Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groupMemberships&quot;</span><span class="p">,</span>
  <span class="nt">&quot;offset&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="mi">25</span><span class="p">,</span>
  <span class="nt">&quot;size&quot;</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span>
  <span class="nt">&quot;items&quot;</span><span class="p">:[</span>
    <span class="p">{</span>
      <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/1ufdzvjTWThoqnHexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;account&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span>
      <span class="p">},</span>
      <span class="nt">&quot;group&quot;</span><span class="p">:{</span>
        <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/groups/1ORBsz2iCNpV8yJexaMple&quot;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="group-membership-operations">
<span id="groupmembership-operations"></span><h3><a class="toc-backref" href="#id120">Group Membership Operations</a><a class="headerlink" href="#group-membership-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id23">
<ul class="simple">
<li><a class="reference internal" href="#create-a-group-membership" id="id125">Create a Group Membership</a></li>
<li><a class="reference internal" href="#retrieve-a-group-membership" id="id126">Retrieve a Group Membership</a></li>
<li><a class="reference internal" href="#update-a-group-membership" id="id127">Update a Group Membership</a></li>
<li><a class="reference internal" href="#delete-a-group-membership" id="id128">Delete a Group Membership</a></li>
</ul>
</div>
<div class="section" id="create-a-group-membership">
<h4><a class="toc-backref" href="#id125">Create a Group Membership</a><a class="headerlink" href="#create-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td>Required: <code class="docutils literal"><span class="pre">account</span></code>, <code class="docutils literal"><span class="pre">group</span></code></td>
<td>N/A</td>
<td>Creates a new groupMembership resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-a-group-membership">
<h4><a class="toc-backref" href="#id126">Retrieve a Group Membership</a><a class="headerlink" href="#retrieve-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified groupMembership. <code class="docutils literal"><span class="pre">account</span></code> and <code class="docutils literal"><span class="pre">group</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-group-membership">
<h4><a class="toc-backref" href="#id127">Update a Group Membership</a><a class="headerlink" href="#update-a-group-membership" title="Permalink to this headline">¶</a></h4>
<p>A groupMembership resource cannot be updated once it has been created.</p>
</div>
<div class="section" id="delete-a-group-membership">
<h4><a class="toc-backref" href="#id128">Delete a Group Membership</a><a class="headerlink" href="#delete-a-group-membership" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/groupMemberships/$GROUP_MEMBERSHIP_ID</td>
<td>N/A</td>
<td>Deletes the specified groupMembership resource.</td>
</tr>
</tbody>
</table>
<div class="section" id="id24">
<h5>Example Queries<a class="headerlink" href="#id24" title="Permalink to this headline">¶</a></h5>
<p><strong>Deleting a Group Membership</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request DELETE <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/57YZCqrNgrzcIGYexaMpLe&quot;</span>
</pre></div>
</div>
<p>This query would delete the groupMembership resource.</p>
<p><strong>Retrieving a Group Membership with its Account expanded</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/groupMemberships/57YZCqrNgrzcIGYexaMpLe?expand=account&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the groupMembership resource with the associate Account expanded inside the JSON.</p>
</div>
</div>
</div>
</div>
<div class="section" id="organization">
<span id="ref-organization"></span><h2>Organization<a class="headerlink" href="#organization" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id25">
<ul class="simple">
<li><a class="reference internal" href="#organization-operations" id="id129">Organization Operations</a><ul>
<li><a class="reference internal" href="#create-an-organization" id="id130">Create an Organization</a></li>
<li><a class="reference internal" href="#retrieve-an-organization" id="id131">Retrieve an Organization</a></li>
<li><a class="reference internal" href="#update-an-organization" id="id132">Update an Organization</a></li>
<li><a class="reference internal" href="#delete-an-organization" id="id133">Delete an Organization</a></li>
<li><a class="reference internal" href="#using-an-organization-for-look-up" id="id134">Using an Organization for Look-Up</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The Organization resource is two things:</p>
<ol class="arabic simple">
<li>A top-level container for both <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directories</span></a> and <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> .</li>
<li>A pseudo-Account Store that can <a class="reference internal" href="auth_n.html#create-asm"><span class="std std-ref">be mapped to an Application</span></a> (just like a Directory or Group) for the purposes of user login. Unlike Directories and Groups, however, they do not themselves own Accounts, and Accounts and Groups cannot be associated to them without also being associated with a Directory.</li>
</ol>
<p>Organizations are primarily intended to represent &#8220;tenants&#8221; in multi-tenant applications. For more information about multitenancy in Stormpath, see the <a class="reference internal" href="multitenancy.html#multitenancy"><span class="std std-ref">6. Multi-Tenancy with Stormpath</span></a> chapter.</p>
<p>An individual Organization resource may be accessed via its Resource URL:</p>
<p><strong>Organization URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/organizations/$ORGANIZATION_ID</span></code></p>
<p><strong>Organization Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>1 &lt;= N &lt;= 255 characters.</td>
<td>The name of the Organization. Must be unique across all Organizations within your Stormpath Tenant.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">nameKey</span></code></td>
<td>String</td>
<td>1 &lt;= N &lt;= 63 characters.</td>
<td>A name key that represents the Organization. Must be unique across all Organizations within your Stormpath Tenant and must follow <a class="reference external" href="http://www.ietf.org/rfc/rfc0952.txt">DNS hostname rules</a>. That is, it may only consist of: <code class="docutils literal"><span class="pre">a-z</span></code>, <code class="docutils literal"><span class="pre">0-9</span></code>, and <code class="docutils literal"><span class="pre">-</span></code>. It must not start or end with a hyphen. The uniqueness constraint is case insensitive.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Organizations can be used for logging in to Applications. <code class="docutils literal"><span class="pre">DISABLED</span></code> Organizations cannot be used for login.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>0 &lt; N &lt;= 1000 characters</td>
<td>(Optional) The description of the Organization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Organization&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own Organization-specific custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">defaultAccountStoreMapping</span></code></td>
<td>Link</td>
<td><code class="docutils literal"><span class="pre">null</span></code> or Link</td>
<td>A link to this Organization&#8217;s default <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mapping</span></a> where the organization will store newly created Accounts. A <code class="docutils literal"><span class="pre">null</span></code> value disables the ability to add Groups to the Organization via the <code class="docutils literal"><span class="pre">organizations/$ORGANIZATION_ID/accounts</span></code> endpoint.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">defaultGroupStoreMapping</span></code></td>
<td>Link</td>
<td><code class="docutils literal"><span class="pre">null</span></code> or Link</td>
<td>A link to this Organization&#8217;s default <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mapping</span></a> where the organization will store newly created Groups. A <code class="docutils literal"><span class="pre">null</span></code> value disables the ability to add Groups to the Organization via the <code class="docutils literal"><span class="pre">organizations/$ORGANIZATION_ID/groups</span></code> endpoint.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accountStoreMappings</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the collection of all <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mappings</span></a> that represent the Organization. The Accounts and Groups within the mapped Account Stores are obtainable from the <code class="docutils literal"><span class="pre">accounts</span></code> and <code class="docutils literal"><span class="pre">groups</span></code> links, respectively.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> wrapped by this Organization.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">accounts</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-account"><span class="std std-ref">Accounts</span></a> wrapped by this Organization. All of the Accounts in this collection can log-in to the Organization.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Stormpath Tenant that owns this Organization.</td>
</tr>
</tbody>
</table>
<p><strong>Organization Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-10-01T17:39:04.114Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-10-01T17:39:04.114Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Canadian Imperial Bank of Commerce&quot;</span><span class="p">,</span>
  <span class="nt">&quot;nameKey&quot;</span><span class="p">:</span><span class="s2">&quot;cibc&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;defaultAccountStoreMapping&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;defaultGroupStoreMapping&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;accountStoreMappings&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/accountStoreMappings&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accounts&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE/accounts&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="organization-operations">
<span id="id26"></span><h3><a class="toc-backref" href="#id129">Organization Operations</a><a class="headerlink" href="#organization-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id27">
<ul class="simple">
<li><a class="reference internal" href="#create-an-organization" id="id135">Create an Organization</a></li>
<li><a class="reference internal" href="#retrieve-an-organization" id="id136">Retrieve an Organization</a></li>
<li><a class="reference internal" href="#update-an-organization" id="id137">Update an Organization</a></li>
<li><a class="reference internal" href="#delete-an-organization" id="id138">Delete an Organization</a></li>
<li><a class="reference internal" href="#using-an-organization-for-look-up" id="id139">Using an Organization for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-organization">
<h4><a class="toc-backref" href="#id135">Create an Organization</a><a class="headerlink" href="#create-an-organization" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizations</td>
<td>Required: <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>; Optional: <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>N/A</td>
<td>Creates a new Organization resource</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-an-organization">
<h4><a class="toc-backref" href="#id136">Retrieve an Organization</a><a class="headerlink" href="#retrieve-an-organization" title="Permalink to this headline">¶</a></h4>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don’t have the Organization&#8217;s URL, you can find it by looking it up in the Stormpath Admin Console or by searching your Tenant’s Organizations by sending a GET to <code class="docutils literal"><span class="pre">/v1/tenants/$TENANT_ID/organizations</span></code>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/organizations/$ORGANIZATION_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Organization. <code class="docutils literal"><span class="pre">groups</span></code>, <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-organization">
<h4><a class="toc-backref" href="#id137">Update an Organization</a><a class="headerlink" href="#update-an-organization" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizations/$ORGANIZATION_ID</td>
<td><code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">nameKey</span></code>, <code class="docutils literal"><span class="pre">description</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-organization">
<h4><a class="toc-backref" href="#id138">Delete an Organization</a><a class="headerlink" href="#delete-an-organization" title="Permalink to this headline">¶</a></h4>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Deleting an Organization completely erases it and any of its related data from Stormpath. We recommend that you disable the Organization instead of deleting it if you anticipate that you might use it again or if you want to retain its data for historical reference. To disable an Organization, you can update the Organization and set the <code class="docutils literal"><span class="pre">status</span></code> attribute to <code class="docutils literal"><span class="pre">DISABLED</span></code>.</p>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/organizations/$ORGANIZATION_ID</td>
<td>N/A</td>
<td>Deletes the specified Organization.</td>
</tr>
</tbody>
</table>
<div class="section" id="id28">
<h5>Example Queries<a class="headerlink" href="#id28" title="Permalink to this headline">¶</a></h5>
<p><strong>Create a new Organization resource</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizations&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;name&quot;: &quot;Finance Organization&quot;,</span>
<span class="s1">  &quot;nameKey&quot;: &quot;finance&quot;,</span>
<span class="s1">  &quot;status&quot;: &quot;ENABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would create a new Organization with the attribute values.</p>
<p><strong>Disable an Organization</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizations&quot;</span>
--data <span class="s1">&#39;{ \</span>
<span class="s1">  &quot;status&quot;: &quot;DISABLED&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would disable the Organization. No Accounts mapped to an Application via this Organization would be able to log in.</p>
</div>
</div>
<div class="section" id="using-an-organization-for-look-up">
<h4><a class="toc-backref" href="#id139">Using an Organization for Look-Up</a><a class="headerlink" href="#using-an-organization-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Organization for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/organizations/$ORGANIZATION_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a collection of all of an Organization&#8217;s associated resources of the specified type. Possible resource types are: <code class="docutils literal"><span class="pre">accounts</span></code>, <code class="docutils literal"><span class="pre">accountStoreMappings</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/Organization/$ORGANIZATION_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Organization&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Searchable collections associated with an Organization are: <code class="docutils literal"><span class="pre">accounts</span></code>, and <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="organization-account-store-mapping">
<span id="ref-org-asm"></span><h2>Organization Account Store Mapping<a class="headerlink" href="#organization-account-store-mapping" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id29">
<ul class="simple">
<li><a class="reference internal" href="#organization-account-store-mapping-operations" id="id140">Organization Account Store Mapping Operations</a><ul>
<li><a class="reference internal" href="#create-an-organization-account-store-mapping" id="id141">Create an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-organization-account-store-mapping" id="id142">Retrieve an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-organization-account-store-mapping" id="id143">Update an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-organization-account-store-mapping" id="id144">Delete an Organization Account Store Mapping</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>In the same way that <a class="reference internal" href="#ref-asm"><span class="std std-ref">Account Store Mappings</span></a> map Groups, Directories, or Organizations to Applications, so Organization Account Store Mappings map Groups or Directories to Organizations.</p>
<p>An individual Organization Account Store Mapping resource may be accessed via its Resource URL:</p>
<p><strong>organizationAccountStoreMapping URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/organizationAccountStoreMappings/$ORG_ACCOUNT_STORE_MAPPING_ID</span></code></p>
<p><strong>organizationAccountStoreMapping Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">listIndex</span></code></td>
<td>Number</td>
<td>0 &lt;= N &lt; list size</td>
<td>The order (priority) in which the associated Account Store will be consulted by the Application during an authentication attempt. This is a zero-based index; an Account Store with a <code class="docutils literal"><span class="pre">listIndex</span></code> of <code class="docutils literal"><span class="pre">0</span></code> will be consulted first (has the highest priority), followed by the Account Store at <code class="docutils literal"><span class="pre">listIndex</span></code> <code class="docutils literal"><span class="pre">1</span></code> (next highest priority), and so on. Setting a negative value will default the value to 0, placing it first in the list. A <code class="docutils literal"><span class="pre">listIndex</span></code> of larger than the current list size will place the mapping at the end of the list and then default the value to <code class="docutils literal"><span class="pre">(list</span> <span class="pre">size</span> <span class="pre">-</span> <span class="pre">1)</span></code>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Accounts created by the Organization will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they will not.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>String (boolean)</td>
<td><code class="docutils literal"><span class="pre">true</span></code>, <code class="docutils literal"><span class="pre">false</span></code></td>
<td>A <code class="docutils literal"><span class="pre">true</span></code> value indicates that new Groups created by the Organization will be automatically saved to the mapped Account Store, while a <code class="docutils literal"><span class="pre">false</span></code> value indicates that they won&#8217;t.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">organization</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the mapping’s <a class="reference internal" href="#ref-organization"><span class="std std-ref">Organization</span></a>. <strong>Required.</strong></td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accountStore</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the mapping&#8217;s Account Store (<a class="reference internal" href="#ref-group"><span class="std std-ref">Group</span></a> or <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directory</span></a>) containing Accounts that may log in to the Organization. <strong>Required.</strong></td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
<p><strong>Organization Account Store Mapping Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizationAccountStoreMappings/EWHgZiOWPJyD5Pexample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;listIndex&quot;</span><span class="p">:</span><span class="mi">0</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultAccountStore&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
  <span class="nt">&quot;isDefaultGroupStore&quot;</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span>
  <span class="nt">&quot;organization&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/organizations/2P4XOanz26AUomIexaMplE&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accountStore&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2jw4Kslj97zYjYReXample&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="organization-account-store-mapping-operations">
<span id="org-asm-operations"></span><h3><a class="toc-backref" href="#id140">Organization Account Store Mapping Operations</a><a class="headerlink" href="#organization-account-store-mapping-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id30">
<ul class="simple">
<li><a class="reference internal" href="#create-an-organization-account-store-mapping" id="id145">Create an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#retrieve-an-organization-account-store-mapping" id="id146">Retrieve an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#update-an-organization-account-store-mapping" id="id147">Update an Organization Account Store Mapping</a></li>
<li><a class="reference internal" href="#delete-an-organization-account-store-mapping" id="id148">Delete an Organization Account Store Mapping</a></li>
</ul>
</div>
<div class="section" id="create-an-organization-account-store-mapping">
<h4><a class="toc-backref" href="#id145">Create an Organization Account Store Mapping</a><a class="headerlink" href="#create-an-organization-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizationAccountStoreMappings</td>
<td>Required: <code class="docutils literal"><span class="pre">organization</span></code>, <code class="docutils literal"><span class="pre">accountStore</span></code>; Optional: <code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>N/A</td>
<td>Creates a new organizationAccountStoreMapping resource, thereby enabling the Accounts in the specified Store to log in to the specified Organization. By default <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code> and <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code> are set to <code class="docutils literal"><span class="pre">false</span></code>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieve-an-organization-account-store-mapping">
<h4><a class="toc-backref" href="#id146">Retrieve an Organization Account Store Mapping</a><a class="headerlink" href="#retrieve-an-organization-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/organizationAccountStoreMappings/$ORG_ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Organization Account Store Mapping resource. <code class="docutils literal"><span class="pre">accountStore</span></code> and <code class="docutils literal"><span class="pre">organization</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-organization-account-store-mapping">
<h4><a class="toc-backref" href="#id147">Update an Organization Account Store Mapping</a><a class="headerlink" href="#update-an-organization-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/organizationAccountStoreMappings/$ORG_ACCOUNT_STORE_MAPPING_ID</td>
<td><code class="docutils literal"><span class="pre">listIndex</span></code>, <code class="docutils literal"><span class="pre">isDefaultAccountStore</span></code>, <code class="docutils literal"><span class="pre">isDefaultGroupStore</span></code></td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-organization-account-store-mapping">
<h4><a class="toc-backref" href="#id148">Delete an Organization Account Store Mapping</a><a class="headerlink" href="#delete-an-organization-account-store-mapping" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/organizationAccountStoreMappings/$ORG_ACCOUNT_STORE_MAPPING_ID</td>
<td>N/A</td>
<td>Deletes the specified Organization Account Store Mapping.</td>
</tr>
</tbody>
</table>
<div class="section" id="id31">
<h5>Example Queries<a class="headerlink" href="#id31" title="Permalink to this headline">¶</a></h5>
<p><strong>Retrieving an Organization Account Store Mapping with embedded resources</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizationAccountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=organization,accountStore&quot;</span>
</pre></div>
</div>
<p>This query would retrieve the specified Organization Account Store Mapping with the Organization and accountStore entities embedded with <a class="reference internal" href="#about-links"><span class="std std-ref">link expansion</span></a>.</p>
<p><strong>Updating an Organization Account Store Mapping&#8217;s login priority</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/organizationAccountStoreMappings/1NUhrCPT0q66bjyeXamPLE?expand=application,accountStore&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">  &quot;listIndex&quot;:&quot;0&quot;</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would update an Organization Account Store Mapping to give it the highest position in the <a class="reference internal" href="auth_n.html#how-login-works"><span class="std std-ref">login priority index</span></a>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="account">
<span id="ref-account"></span><h2>Account<a class="headerlink" href="#account" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id32">
<ul class="simple">
<li><a class="reference internal" href="#account-operations" id="id149">Account Operations</a><ul>
<li><a class="reference internal" href="#create-an-account" id="id150">Create an Account</a></li>
<li><a class="reference internal" href="#retrieve-an-account" id="id151">Retrieve an Account</a></li>
<li><a class="reference internal" href="#update-an-account" id="id152">Update an Account</a></li>
<li><a class="reference internal" href="#delete-an-account" id="id153">Delete an Account</a></li>
<li><a class="reference internal" href="#using-an-account-for-look-up" id="id154">Using an Account for Look-Up</a></li>
</ul>
</li>
<li><a class="reference internal" href="#other-resources-associated-with-an-account" id="id155">Other Resources Associated with an Account</a><ul>
<li><a class="reference internal" href="#account-api-keys" id="id156">Account API Keys</a></li>
<li><a class="reference internal" href="#access-tokens" id="id157">Access Tokens</a></li>
<li><a class="reference internal" href="#refresh-tokens" id="id158">Refresh Tokens</a></li>
<li><a class="reference internal" href="#provider-data" id="id159">Provider Data</a></li>
<li><a class="reference internal" href="#expanded-json-web-token" id="id160">Expanded JSON Web Token</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>An <strong>Account</strong> is a unique identity within a Directory, with a unique <code class="docutils literal"><span class="pre">username</span></code> and <code class="docutils literal"><span class="pre">email</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Specifying a <code class="docutils literal"><span class="pre">username</span></code> is optional, if not included it will default to the <code class="docutils literal"><span class="pre">email</span></code> value.</p>
</div>
<p>An Account can log in to an Application using either the <code class="docutils literal"><span class="pre">email</span></code> or <code class="docutils literal"><span class="pre">username</span></code>. Accounts can represent your end users (people), but they can also be used to represent services, daemons, processes, or any “entity” that needs to log in to a Stormpath-enabled application. Additionally, an Account may only exist in a single Directory but may be in multiple Groups owned by that Directory.</p>
<p>An individual Account resource may be accessed via its Resource URL:</p>
<p><strong>Account URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accounts/$ACCOUNT_ID</span></code></p>
<p><strong>Account Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">username</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The username for the Account. Must be unique across the owning Directory. If not specified, the username will default to the same value as the <code class="docutils literal"><span class="pre">email</span></code> field.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">email</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The email address for the Account. Must be unique across the owning Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">password</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The password for the Account. Only include this attribute if setting or changing the Account password. The actual valid length is configured as part of the owning Directory&#8217;s <a class="reference internal" href="#ref-password-strength"><span class="std std-ref">Password Strength</span></a> policy.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">givenName</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The given (first) name for the Account holder.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">middleName</span></code></td>
<td>String</td>
<td>1 &lt; N &lt; 256 characters</td>
<td>The middle (second) name for the Account holder.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">surname</span></code></td>
<td>String</td>
<td>1 &lt; N &lt;= 255 characters</td>
<td>The surname (last name) for the Account holder.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">fullName</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The full name for the Account holder. This is a computed attribute based on the <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code> and <code class="docutils literal"><span class="pre">surname</span></code> attributes. It cannot be modified. To change this value, change one of the three respective attributes to trigger a new computed value.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code>, <code class="docutils literal"><span class="pre">DISABLED</span></code>, <code class="docutils literal"><span class="pre">UNVERIFIED</span></code></td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> Accounts are able to log in to their assigned Applications, <code class="docutils literal"><span class="pre">DISABLED</span></code> Accounts may not log in to Applications, <code class="docutils literal"><span class="pre">UNVERIFIED</span></code> Accounts are disabled because they have not verified their email address.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">emailVerificationToken</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account’s email verification token. This will only be set if the Account needs to be verified.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">passwordModifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this Account&#8217;s password was last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource that you can use to store your own Account-specific custom fields.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">providerData</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to this Account&#8217;s <a class="reference internal" href="#ref-provider-data"><span class="std std-ref">Provider Data</span></a>.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">directory</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account&#8217;s <a class="reference internal" href="#ref-directory"><span class="std std-ref">Directory</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that owns the Account’s Directory.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">groups</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to a collection of the <a class="reference internal" href="#ref-group"><span class="std std-ref">Groups</span></a> that the Account belongs to.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">groupMemberships</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-groupmembership"><span class="std std-ref">Group Memberships</span></a> that the Account is in.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">applications</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-application"><span class="std std-ref">Applications</span></a> that the Account belongs to.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">apiKeys</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-account-apikeys"><span class="std std-ref">apiKeys</span></a> for this Account.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">accessTokens</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of valid JSON Web Tokens associated with this Account, used for token-based authentication. For more information, see <a class="reference internal" href="auth_n.html#token-authn"><span class="std std-ref">4.2. How Token-Based Authentication Works</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">refreshTokens</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A collection of valid JSON Web Tokens associated with this Account, used to generate additional <code class="docutils literal"><span class="pre">accessTokens</span></code> for token-based authentication. For more information, see <a class="reference internal" href="auth_n.html#token-authn"><span class="std std-ref">4.2. How Token-Based Authentication Works</span></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Account Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span><span class="p">,</span>
  <span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="s2">&quot;jlpicard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;capt@enterprise.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;givenName&quot;</span><span class="p">:</span><span class="s2">&quot;Jean-Luc&quot;</span><span class="p">,</span>
  <span class="nt">&quot;middleName&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;surname&quot;</span><span class="p">:</span><span class="s2">&quot;Picard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;fullName&quot;</span><span class="p">:</span><span class="s2">&quot;Jean-Luc Picard&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;emailVerificationToken&quot;</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span>
  <span class="nt">&quot;customData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple/customData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;providerData&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple/providerData&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;directory&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/directories/2SKhstu8PlaekcaexaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groups&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groups&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;applications&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/applications&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;groupMemberships&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/groupMemberships&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;apiKeys&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/apiKeys&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;accessTokens&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/accessTokens&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;refreshTokens&quot;</span><span class="p">:{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/refreshTokens&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-operations">
<span id="id33"></span><h3><a class="toc-backref" href="#id149">Account Operations</a><a class="headerlink" href="#account-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id34">
<ul class="simple">
<li><a class="reference internal" href="#create-an-account" id="id161">Create an Account</a></li>
<li><a class="reference internal" href="#retrieve-an-account" id="id162">Retrieve an Account</a></li>
<li><a class="reference internal" href="#update-an-account" id="id163">Update an Account</a></li>
<li><a class="reference internal" href="#delete-an-account" id="id164">Delete an Account</a></li>
<li><a class="reference internal" href="#using-an-account-for-look-up" id="id165">Using an Account for Look-Up</a></li>
</ul>
</div>
<div class="section" id="create-an-account">
<h4><a class="toc-backref" href="#id161">Create an Account</a><a class="headerlink" href="#create-an-account" title="Permalink to this headline">¶</a></h4>
<p>Because an Account is &#8220;owned&#8221; by a Directory, you can add it either directly through the Directory that owns it, or indirectly via an Application or Organization that has that Directory as an Account Store. This is only the case for Cloud Directories. Accounts cannot be directly added to Mirrored Directories since those pull all of their Account information from external sources like Facebook or Active Directory.</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="15%" />
<col width="15%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/directories/$DIRECTORY_ID/accounts <em>or</em> /v1/applications/$APPLICATION_ID/accounts <em>or</em> /v1/organizations/$ORGANIZATION_ID/accounts</td>
<td>Required: <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">password</span></code>, <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>; Optional: <code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td><code class="docutils literal"><span class="pre">registrationWorkflowEnabled=false</span></code>, <code class="docutils literal"><span class="pre">passwordFormat=mcf</span></code> (see note below)</td>
<td>Creates a new Account resource.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The <code class="docutils literal"><span class="pre">registrationWorkflowEnabled=false</span></code> parameter disables the default Registration Workflow. For more information about Workflows, please see the <a class="reference external" href="http://docs.stormpath.com/console/product-guide/#directory-workflows">Admin Console Guide</a>. The <code class="docutils literal"><span class="pre">passwordFormat=mcf</span></code> parameter is used for <a class="reference internal" href="accnt_mgmt.html#importing-mcf"><span class="std std-ref">Importing Accounts with MCF Hash Passwords</span></a>.</p>
</div>
</div>
<div class="section" id="retrieve-an-account">
<h4><a class="toc-backref" href="#id162">Retrieve an Account</a><a class="headerlink" href="#retrieve-an-account" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID</td>
<td><code class="docutils literal"><span class="pre">expand</span></code></td>
<td>Retrieves the specified Account. <code class="docutils literal"><span class="pre">customData</span></code>, <code class="docutils literal"><span class="pre">tenant</span></code>, <code class="docutils literal"><span class="pre">directory</span></code>, <code class="docutils literal"><span class="pre">groups</span></code> and <code class="docutils literal"><span class="pre">groupMemberships</span></code> can be expanded. More info <a class="reference internal" href="#about-links"><span class="std std-ref">above</span></a>. Also, since <code class="docutils literal"><span class="pre">groups</span></code> and <code class="docutils literal"><span class="pre">groupMemberships</span></code> are collections, they can be expanded and <a class="reference internal" href="#about-pagination"><span class="std std-ref">paginated</span></a>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-an-account">
<h4><a class="toc-backref" href="#id163">Update an Account</a><a class="headerlink" href="#update-an-account" title="Permalink to this headline">¶</a></h4>
<p>Most of an Cloud Directory Account&#8217;s attributes can be directly updated. Accounts found in Mirror Directories are more restricted, since those Accounts are mirroring data found in an external user directory.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accounts/$ACCOUNT_ID</td>
<td><code class="docutils literal"><span class="pre">username</span></code>, <code class="docutils literal"><span class="pre">email</span></code>, <code class="docutils literal"><span class="pre">password</span></code>, <code class="docutils literal"><span class="pre">givenName</span></code>, <code class="docutils literal"><span class="pre">middleName</span></code>, <code class="docutils literal"><span class="pre">surname</span></code>, <code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">customData</span></code></td>
<td>Updates the specified attributes with the values provided. For Accounts found in Mirror Directories, only <code class="docutils literal"><span class="pre">status</span></code> and <code class="docutils literal"><span class="pre">customData</span></code> can be updated.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-an-account">
<h4><a class="toc-backref" href="#id164">Delete an Account</a><a class="headerlink" href="#delete-an-account" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/accounts/$ACCOUNT_ID</td>
<td>N/A</td>
<td>Deletes the specified</td>
</tr>
</tbody>
</table>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Be careful deleting an Account for a single application’s needs - ensure that the deletion is OK for any and all applications that may be associated with the Account. Usually it is advisable to simply update the Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> to <code class="docutils literal"><span class="pre">DISABLED</span></code>.</p>
</div>
<div class="section" id="id35">
<h5>Example Queries<a class="headerlink" href="#id35" title="Permalink to this headline">¶</a></h5>
<p><strong>Create an Account while suppressing the registration email</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/WpM9nyZ2TbaEzfbexaMPLE/accounts?registrationWorkflowEnabled=false&quot;</span>
--data <span class="s1">&#39;{</span>
<span class="s1">         &quot;username&quot; : &quot;jlpicard&quot;,</span>
<span class="s1">         &quot;email&quot; : &quot;capt@enterprise.com&quot;,</span>
<span class="s1">         &quot;givenName&quot; : &quot;Jean-Luc&quot;,</span>
<span class="s1">         &quot;middleName&quot; : &quot;&quot;,</span>
<span class="s1">         &quot;surname&quot; : &quot;Picard&quot;,</span>
<span class="s1">         &quot;password&quot; : &quot;uGhd%a8Kl!&quot;</span>
<span class="s1">         &quot;status&quot; : &quot;ENABLED&quot;,</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would create an Account with the specified attributes, while also suppressing the configured <a class="reference external" href="http://docs.stormpath.com/console/product-guide/#directory-workflows">Registration Workflow</a>.</p>
<p><strong>Example Description</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple&quot;</span>
--data <span class="s1">&#39;{</span>
<span class="s1">         &quot;status&quot; : &quot;ENABLED&quot;,</span>
<span class="s1">         &quot;customData&quot;: {</span>
<span class="s1">             &quot;favoriteColor&quot;: &quot;blue&quot;,</span>
<span class="s1">             &quot;hobby&quot;: &quot;Kendo&quot;</span>
<span class="s1">}&#39;</span>
</pre></div>
</div>
<p>This query would update an Account&#8217;s <code class="docutils literal"><span class="pre">status</span></code> attribute at the same time as it updated/added two entries in the Account&#8217;s <a class="reference internal" href="#ref-customdata"><span class="std std-ref">customData</span></a> resource.</p>
</div>
</div>
<div class="section" id="using-an-account-for-look-up">
<h4><a class="toc-backref" href="#id165">Using an Account for Look-Up</a><a class="headerlink" href="#using-an-account-for-look-up" title="Permalink to this headline">¶</a></h4>
<p>It is possible to retrieve other, associated resources using the Account for look-up.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/$RESOURCE_TYPE</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a></td>
<td>Retrieves a collection of all of an Account&#8217;s associated resources of the specified type. Currently the only possible resource types are <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
<tr class="row-odd"><td>GET /v1/accounts/$ACCOUNT_ID/$RESOURCE_TYPE?(searchParams)</td>
<td><a class="reference internal" href="#about-pagination"><span class="std std-ref">Pagination</span></a>, <a class="reference internal" href="#about-sorting"><span class="std std-ref">Sorting</span></a>, Search: <a class="reference internal" href="#search-filter"><span class="std std-ref">Filter</span></a>, <a class="reference internal" href="#search-attribute"><span class="std std-ref">Attribute</span></a>, <a class="reference internal" href="#search-datetime"><span class="std std-ref">Datetime</span></a></td>
<td>Searches a collection of all of the Account&#8217;s associated resources of the specified type. For more about Search, please see <a class="reference internal" href="#about-search"><span class="std std-ref">here</span></a>. Currently the only searchable collection is <code class="docutils literal"><span class="pre">groups</span></code>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="other-resources-associated-with-an-account">
<h3><a class="toc-backref" href="#id155">Other Resources Associated with an Account</a><a class="headerlink" href="#other-resources-associated-with-an-account" title="Permalink to this headline">¶</a></h3>
<div class="section" id="account-api-keys">
<span id="ref-account-apikeys"></span><h4><a class="toc-backref" href="#id156">Account API Keys</a><a class="headerlink" href="#account-api-keys" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any API Keys that have been generated for this Account.</p>
<p><strong>apiKeys URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accounts/$ACCOUNT_ID/apiKeys</span></code></p>
<p><strong>apiKeys Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">id</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The API Key ID.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">secret</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The API Key Secret.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">status</span></code></td>
<td>String (Enum)</td>
<td><code class="docutils literal"><span class="pre">ENABLED</span></code> or <code class="docutils literal"><span class="pre">DISABLED</span></code></td>
<td>Indicates whether this API Key is enabled or not.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">name</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) The name of this API Key.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">description</span></code></td>
<td>String</td>
<td>N/A</td>
<td>(Optional) The description of this API Key.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-account"><span class="std std-ref">Account</span></a> that this API Key is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that this API Key is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>apiKeys Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/apiKeys/2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
  <span class="nt">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATIEXAMPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;secret&quot;</span><span class="p">:</span> <span class="s2">&quot;XEPJolhnMYEDw2bSCfRnD+nyqK+OTdlQp8C/EXAMPLE&quot;</span><span class="p">,</span>
  <span class="nt">&quot;status&quot;</span><span class="p">:</span> <span class="s2">&quot;ENABLED&quot;</span><span class="p">,</span>
  <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;An Optional Name&quot;</span><span class="p">,</span>
  <span class="nt">&quot;description&quot;</span><span class="p">:</span> <span class="s2">&quot;An Optional Description&quot;</span><span class="p">,</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/1gCwajgjFAHzvFXexample&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgexample&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="account-api-key-operations">
<span id="ref-api-key-operations"></span><h5>Account API Key Operations<a class="headerlink" href="#account-api-key-operations" title="Permalink to this headline">¶</a></h5>
<p>An Account&#8217;s API Keys have a full set of CRUD operations available via REST.</p>
<div class="section" id="creating-an-api-key">
<h6>Creating an API Key<a class="headerlink" href="#creating-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/accounts/$ACCOUNT_ID/apiKeys</td>
<td>N/A</td>
<td>Generates a new API Key.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="retrieving-an-api-key">
<h6>Retrieving an API Key<a class="headerlink" href="#retrieving-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="30%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/apiKeys</td>
<td><code class="docutils literal"><span class="pre">expand</span></code>, <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> (see below)</td>
<td>Retrieves a collection of API Keys for the specified Account. <code class="docutils literal"><span class="pre">account</span></code> and <code class="docutils literal"><span class="pre">tenant</span></code> can be expanded.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<dl class="last docutils">
<dt>If <code class="docutils literal"><span class="pre">encryptSecret=true</span></code> is included, then the returned API Key Secret is encrypted. Additionally, the following parameter must be included:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">encryptionKeySalt</span></code>: This is a <a class="reference external" href="https://tools.ietf.org/html/rfc4648">URL-safe Base64-encoded</a> 16-byte string that will be added to the secret before it is encrypted.</li>
</ul>
</dd>
<dt>There are two more optional parameters than can be included alongside these two:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">encryptionKeySize</span></code>: The size of the key used for encryption. Possible values are <code class="docutils literal"><span class="pre">128</span></code>, <code class="docutils literal"><span class="pre">192</span></code>, and <code class="docutils literal"><span class="pre">256</span></code>. Default value is <code class="docutils literal"><span class="pre">128</span></code>.</li>
<li><code class="docutils literal"><span class="pre">encryptionKeyIterations</span></code>: The number of times the key is hashed before it is sent. Possible values are any whole number from <code class="docutils literal"><span class="pre">1</span></code> to <code class="docutils literal"><span class="pre">65536</span></code>.  Default value is <code class="docutils literal"><span class="pre">1024</span></code>.</li>
</ul>
</dd>
</dl>
</div>
</div>
<div class="section" id="updating-an-api-key">
<h6>Updating an API Key<a class="headerlink" href="#updating-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/apiKeys/$API_KEY_ID</td>
<td><code class="docutils literal"><span class="pre">status</span></code>, <code class="docutils literal"><span class="pre">name</span></code>, <code class="docutils literal"><span class="pre">description</span></code></td>
<td>Can be used to update the the API Key.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="deleting-an-api-key">
<h6>Deleting an API Key<a class="headerlink" href="#deleting-an-api-key" title="Permalink to this headline">¶</a></h6>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/apiKeys/$API_KEY_ID</td>
<td>N/A</td>
<td>Deletes the specified API Key resource.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="access-tokens">
<span id="ref-access-token"></span><h4><a class="toc-backref" href="#id157">Access Tokens</a><a class="headerlink" href="#access-tokens" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any OAuth 2.0 Access Tokens that have been generated for this Account.</p>
<p><strong>accessTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/accessTokens/$ACCESS_TOKEN_ID</span></code></p>
<p><strong>accessTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jwt</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The JSON Web Token.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">expandedJwt</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The embedded and expanded <a class="reference internal" href="#ref-jwt"><span class="std std-ref">JSON Web Token</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Account that this Access Token is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Application that this Access Token is associated with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the Tenant that this Access Token is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>accessTokens Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accessTokens/6TVcnquGRyFZq0sexample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-11-18T19:16:12.437Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJraWQ...kqYeWlYGrtFkBaFs&quot;</span><span class="p">,</span>
  <span class="nt">&quot;expandedJwt&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stt&quot;</span><span class="p">:</span> <span class="s2">&quot;access&quot;</span><span class="p">,</span>
      <span class="nt">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnquGRyFZq0ssyHwpTN&quot;</span><span class="p">,</span>
      <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
      <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1447875972</span><span class="p">,</span>
      <span class="nt">&quot;rti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;flUqUWUEnwGcmVaCwWuf4KpQCkxkqYeWlYGrtFkBaFs&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="access-token-operations">
<h5>Access Token Operations<a class="headerlink" href="#access-token-operations" title="Permalink to this headline">¶</a></h5>
<div class="section" id="creating-access-tokens">
<h6>Creating Access Tokens<a class="headerlink" href="#creating-access-tokens" title="Permalink to this headline">¶</a></h6>
<p>You can create an Access Token off of the Application&#8217;s <code class="docutils literal"><span class="pre">oauth/token</span></code> endpoint as described in <a class="reference internal" href="auth_n.html#generate-oauth-token"><span class="std std-ref">Generating an OAuth 2.0 Access Token</span></a>.</p>
</div>
<div class="section" id="retrieving-access-tokens">
<h6>Retrieving Access Tokens<a class="headerlink" href="#retrieving-access-tokens" title="Permalink to this headline">¶</a></h6>
<p>An Account&#8217;s Access Tokens can be retrieved manually. It is also possible to specify an Application and only retrieve the Access Tokens that the Account has for that particular Application.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/accessTokens</td>
<td><code class="docutils literal"><span class="pre">application.href</span></code></td>
<td>Retrieves the specified Account&#8217;s Access Tokens.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="refresh-tokens">
<span id="ref-refresh-token"></span><h4><a class="toc-backref" href="#id158">Refresh Tokens</a><a class="headerlink" href="#refresh-tokens" title="Permalink to this headline">¶</a></h4>
<p>This collection stores any OAuth 2.0 Refresh Tokens that have been generated for this Account.</p>
<p><strong>refreshTokens URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/refreshTokens/$REFRESH_TOKEN_ID</span></code></p>
<p><strong>refreshTokens Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jwt</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The JSON Web Token.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">expandedJwt</span></code></td>
<td>Object</td>
<td>N/A</td>
<td>The embedded and expanded <a class="reference internal" href="#ref-jwt"><span class="std std-ref">JSON Web Token</span></a>.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">account</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-account"><span class="std std-ref">Account</span></a> that this Access Token is associated with.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">application</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-application"><span class="std std-ref">Application</span></a> that this Access Token is associated with.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">tenant</span></code></td>
<td>Link</td>
<td>N/A</td>
<td>A link to the <a class="reference internal" href="#ref-tenant"><span class="std std-ref">Tenant</span></a> that this Access Token is associated with.</td>
</tr>
</tbody>
</table>
<p><strong>refreshTokens Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/refreshTokens/6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2015-11-18T19:16:12.436Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;jwt&quot;</span><span class="p">:</span> <span class="s2">&quot;eyJraWQiOiIyWkZNVjRXVlZDVkczNVhBVElJOVQ5Nko3IiwiYWxnIjoiSFMyNTYifQ.eyJqdGkiOiI2VFZjbm5hQlhOd2JEQm4xbTI1WXJKIiwiaWF0IjoxNDQ3ODc0MTcyLCJpc3MiOiJodHRwczovL2FwaS5zdG9ybXBhdGguY29tL3YxL2FwcGxpY2F0aW9ucy8xZ2s0RHh6aTZvNFBiZGxCVmE2dGZSIiwic3ViIjoiaHR0cHM6Ly9hcGkuc3Rvcm1wYXRoLmNvbS92MS9hY2NvdW50cy8zYXBlbll2TDBaOXY5c3BkenBGZmV5IiwiZXhwIjoxNDQ4NDc4OTcyfQ.jwb8UYfmGeqGT42wUjB1ymZp6c4ofJaqdkM6ZHRG_tk&quot;</span><span class="p">,</span>
  <span class="nt">&quot;expandedJwt&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
      <span class="nt">&quot;stt&quot;</span><span class="p">:</span> <span class="s2">&quot;refresh,&quot;</span>
      <span class="s2">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
    <span class="p">},</span>
    <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
      <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
      <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span><span class="p">,</span>
      <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1448478972</span>
    <span class="p">},</span>
    <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;jwb8UYfmGeqGT42wUjB1ymZp6c4ofJaqdkM6ZHRG_tk&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;account&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;application&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;tenant&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/tenants/1gBTncWsp2ObQGgExaMPLe&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="refresh-token-operations">
<h5>Refresh Token Operations<a class="headerlink" href="#refresh-token-operations" title="Permalink to this headline">¶</a></h5>
<div class="section" id="creating-refresh-tokens">
<h6>Creating Refresh Tokens<a class="headerlink" href="#creating-refresh-tokens" title="Permalink to this headline">¶</a></h6>
<p>You can create a Refresh Token off of the Application&#8217;s <code class="docutils literal"><span class="pre">oauth/token</span></code> endpoint as described in <a class="reference internal" href="auth_n.html#generate-oauth-token"><span class="std std-ref">Generating an OAuth 2.0 Access Token</span></a>.</p>
</div>
<div class="section" id="retrieving-refresh-tokens">
<h6>Retrieving Refresh Tokens<a class="headerlink" href="#retrieving-refresh-tokens" title="Permalink to this headline">¶</a></h6>
<p>An Account&#8217;s Refresh Tokens can be retrieved manually. It is also possible to specify an Application and only retrieve the Refresh Tokens that the Account has for that particular Application.</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/accounts/$ACCOUNT_ID/refreshTokens</td>
<td><code class="docutils literal"><span class="pre">application.href</span></code></td>
<td>Retrieves the specified Account&#8217;s Refresh Tokens.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="provider-data">
<span id="ref-provider-data"></span><h4><a class="toc-backref" href="#id159">Provider Data</a><a class="headerlink" href="#provider-data" title="Permalink to this headline">¶</a></h4>
<p>The Provider Data object contains a mixture of data pulled from the Provider information of <a class="reference internal" href="#ref-provider"><span class="std std-ref">the owner Directory</span></a> as well as Provider data specific to this Account.</p>
<p>It could, for example, contain:</p>
<ul class="simple">
<li>An Access Token for Facebook or GitHub (e.g. <code class="docutils literal"><span class="pre">&quot;accessToken&quot;:&quot;someTokenValue&quot;</span></code>)</li>
<li>All SAML attributes passed by the SAML IdP that this Account came from (e.g. <code class="docutils literal"><span class="pre">&quot;firstName&quot;:&quot;Aname&quot;</span></code>)</li>
</ul>
<p>For more information about Provider Data and Social Directories, see <a class="reference internal" href="auth_n.html#social-authn"><span class="std std-ref">4.3. How Social Authentication Works</span></a>.</p>
<p>To find out about Provider Data for SAML Directories, see <a class="reference internal" href="auth_n.html#saml-configuration"><span class="std std-ref">4.5.2. Configuring SAML</span></a>. Each SAML Identity Provider has their own information that they pass into the Provider Data, and all SAML attributes passed in by the Provider will be present in the Account&#8217;s Provider Data.</p>
<p><strong>Provider Data Attributes</strong></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">providerId</span></code></td>
<td>String</td>
<td><em>(See Description)</em></td>
<td>Contains an identifying string for the source of this Account&#8217;s information. This will match the <code class="docutils literal"><span class="pre">providerId</span></code> of <a class="reference internal" href="#ref-provider"><span class="std std-ref">the Directory that owns this Account</span></a>.</td>
</tr>
</tbody>
</table>
<p><strong>Provider Data Example (Google)</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/1Voi7LQ6NGnTPskexample/providerData&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-04-29T17:31:23.676Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span> <span class="s2">&quot;2016-04-29T17:31:23.686Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;accessToken&quot;</span><span class="p">:</span> <span class="s2">&quot;ya29.CjHTAlCOmTwdjexDp-CwCbP2wGMExampleo-on6Ce79eR9Qd_Oq3nm3Zv6ForExample&quot;</span><span class="p">,</span>
  <span class="nt">&quot;providerId&quot;</span><span class="p">:</span> <span class="s2">&quot;google&quot;</span><span class="p">,</span>
  <span class="nt">&quot;refreshToken&quot;</span><span class="p">:</span> <span class="kc">null</span>
<span class="p">}</span>
</pre></div>
</div>
<p><strong>Provider Data Example (SAML)</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/5JlXuVTgTnVCh0gEXAMPLE/providerData&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2016-04-22T20:06:21.496Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2016-04-22T20:09:50.104Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="s2">&quot;jakub@stormpath.com&quot;</span><span class="p">,</span>
  <span class="nt">&quot;firstName&quot;</span><span class="p">:</span><span class="s2">&quot;Jakub&quot;</span><span class="p">,</span>
  <span class="nt">&quot;providerId&quot;</span><span class="p">:</span><span class="s2">&quot;saml&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="provider-data-operations">
<h5>Provider Data Operations<a class="headerlink" href="#provider-data-operations" title="Permalink to this headline">¶</a></h5>
<p>The providerData object can be explicitly created as part of the Directory creation POST. Once it has been created, it can be retrieved with a GET, and in some cases updated with a PUT. Provider Data plays a role in both Social Login and SAML Configurations. For more information about the operations possible with Provider Data, please see the <a class="reference internal" href="auth_n.html#authn"><span class="std std-ref">Authentication</span></a> Chapter.</p>
</div>
</div>
<div class="section" id="expanded-json-web-token">
<span id="ref-jwt"></span><h4><a class="toc-backref" href="#id160">Expanded JSON Web Token</a><a class="headerlink" href="#expanded-json-web-token" title="Permalink to this headline">¶</a></h4>
<p><strong>expandedJwt Attributes</strong></p>
<p><em>Header</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">kid</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The API Key ID used to sign the JWT.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">alg</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The hashing algorithm that is being used for this token. For JWT, this is HMAC-SHA-256.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">stt</span></code></td>
<td>String</td>
<td><code class="docutils literal"><span class="pre">access</span></code>, <code class="docutils literal"><span class="pre">refresh</span></code></td>
<td>The Stormpath Token Type.</td>
</tr>
</tbody>
</table>
<p><em>Claims</em> (AKA &#8220;Payload&#8221;)</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">jti</span></code></td>
<td>String</td>
<td>Base62</td>
<td>A unique identifier for this JWT.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">iat</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The number of seconds since epoch (UTC) when the JWT was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">iss</span></code></td>
<td>String</td>
<td>A valid URL.</td>
<td>The fully qualified location of the Stormpath-registered Application resource for which the JWT was created.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">sub</span></code></td>
<td>String</td>
<td>A valid URL.</td>
<td>The fully qualified Stormpath location of the Account resource that was successfully authenticated.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">exp</span></code></td>
<td>Number</td>
<td>N/A</td>
<td>The number of seconds since epoch (UTC) when the JWT will no longer be valid.</td>
</tr>
</tbody>
</table>
<p><em>Signature</em></p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">signature</span></code></td>
<td>String</td>
<td>N/A</td>
<td>A hash of the header, claims, and the issuing server&#8217;s hashing secret.</td>
</tr>
</tbody>
</table>
<p><strong>expandedJwt Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;header&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;kid&quot;</span><span class="p">:</span> <span class="s2">&quot;2ZFMV4WVVCVG35XATII9T96J7&quot;</span><span class="p">,</span>
    <span class="nt">&quot;stt&quot;</span><span class="p">:</span> <span class="s2">&quot;refresh&quot;</span>
    <span class="s2">&quot;alg&quot;</span><span class="p">:</span> <span class="s2">&quot;HS256&quot;</span>
  <span class="p">},</span>
  <span class="nt">&quot;claims&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;jti&quot;</span><span class="p">:</span> <span class="s2">&quot;6TVcnnaBXNwbDBn1m25YrJ&quot;</span><span class="p">,</span>
    <span class="nt">&quot;iat&quot;</span><span class="p">:</span> <span class="mi">1447874172</span><span class="p">,</span>
    <span class="nt">&quot;iss&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/applications/1gk4Dxzi6o4PbdlexaMple&quot;</span><span class="p">,</span>
    <span class="nt">&quot;sub&quot;</span><span class="p">:</span> <span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spdexaMple&quot;</span><span class="p">,</span>
    <span class="nt">&quot;exp&quot;</span><span class="p">:</span> <span class="mi">1448478972</span>
  <span class="p">},</span>
  <span class="nt">&quot;signature&quot;</span><span class="p">:</span> <span class="s2">&quot;jwb8UYfmGeqGT42wUjB1ymZp6c4ofJexampleM6ZHRG_tk&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="custom-data">
<span id="ref-customdata"></span><h2>Custom Data<a class="headerlink" href="#custom-data" title="Permalink to this headline">¶</a></h2>
<div class="contents local topic" id="id36">
<ul class="simple">
<li><a class="reference internal" href="#custom-data-operations" id="id166">Custom Data Operations</a><ul>
<li><a class="reference internal" href="#create-a-customdata" id="id167">Create a customData</a></li>
<li><a class="reference internal" href="#retrieve-a-customdata" id="id168">Retrieve a customData</a></li>
<li><a class="reference internal" href="#update-a-customdata" id="id169">Update a customData</a></li>
<li><a class="reference internal" href="#delete-a-customdata" id="id170">Delete a customData</a></li>
</ul>
</li>
</ul>
</div>
<p><strong>Description</strong></p>
<p>The customData resource is a schema-less map object that is automatically created at the same time as, and linked to, another Stormpath resource. It can currently be found alongside the following Stormpath resources:</p>
<ul class="simple">
<li>Tenant</li>
<li>Application</li>
<li>Directory</li>
<li>Group</li>
<li>Organization</li>
<li>Account</li>
</ul>
<p><strong>customData URL</strong></p>
<p><code class="docutils literal"><span class="pre">/v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</span></code></p>
<p><strong>customData Attributes</strong></p>
<p>The customData resource has three reserved read-only fields:</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="10%" />
<col width="19%" />
<col width="57%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Type</th>
<th class="head">Valid Value(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">href</span></code></td>
<td>String</td>
<td>N/A</td>
<td>The resource&#8217;s fully qualified location URL.</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">createdAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource was created.</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">modifiedAt</span></code></td>
<td>String</td>
<td>ISO-8601 Datetime</td>
<td>Indicates when this resource’s attributes were last modified.</td>
</tr>
</tbody>
</table>
<p>You can store an unlimited number of additional name/value pairs in the customData resource, with the following restrictions:</p>
<ul class="simple">
<li>The total storage size of a single customData resource cannot exceed 10 MB (megabytes). The <code class="docutils literal"><span class="pre">href</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code> and <code class="docutils literal"><span class="pre">modifiedAt</span></code> field names and values do not count against your resource size quota.</li>
<li>Field names must:
- be 1 or more characters long, but less than or equal to 255 characters long (1 &lt;= N &lt;= 255).
- contain only alphanumeric characters (0-9 A-Z a-z), underscores or dashes, though they cannot start with a dash.
- may not equal any of the following reserved names: <code class="docutils literal"><span class="pre">href</span></code>, <code class="docutils literal"><span class="pre">createdAt</span></code>, <code class="docutils literal"><span class="pre">modifiedAt</span></code>, <code class="docutils literal"><span class="pre">meta</span></code>, <code class="docutils literal"><span class="pre">spMeta</span></code>, <code class="docutils literal"><span class="pre">spmeta</span></code>, <code class="docutils literal"><span class="pre">ionmeta</span></code>, or <code class="docutils literal"><span class="pre">ionMeta</span></code>.</li>
</ul>
<p><strong>customData Example</strong></p>
<div class="highlight-json"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="nt">&quot;href&quot;</span><span class="p">:</span><span class="s2">&quot;https://api.stormpath.com/v1/accounts/3apenYvL0Z9v9spexaMple/customData&quot;</span><span class="p">,</span>
  <span class="nt">&quot;createdAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-25T19:57:05.976Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;modifiedAt&quot;</span><span class="p">:</span><span class="s2">&quot;2015-08-26T19:27:29.699Z&quot;</span><span class="p">,</span>
  <span class="nt">&quot;birthDate&quot;</span><span class="p">:</span><span class="s2">&quot;2305-07-13&quot;</span><span class="p">,</span>
  <span class="nt">&quot;birthPlace&quot;</span><span class="p">:</span><span class="s2">&quot;La Barre, France&quot;</span><span class="p">,</span>
  <span class="nt">&quot;currentAssignment&quot;</span><span class="p">:</span><span class="s2">&quot;USS Enterprise (NCC-1701-E)&quot;</span><span class="p">,</span>
  <span class="nt">&quot;favoriteDrink&quot;</span><span class="p">:</span><span class="s2">&quot;Earl Grey tea&quot;</span><span class="p">,</span>
  <span class="nt">&quot;rank&quot;</span><span class="p">:</span><span class="s2">&quot;Captain&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="custom-data-operations">
<span id="customdata-operations"></span><h3><a class="toc-backref" href="#id166">Custom Data Operations</a><a class="headerlink" href="#custom-data-operations" title="Permalink to this headline">¶</a></h3>
<div class="contents local topic" id="id37">
<ul class="simple">
<li><a class="reference internal" href="#create-a-customdata" id="id171">Create a customData</a></li>
<li><a class="reference internal" href="#retrieve-a-customdata" id="id172">Retrieve a customData</a></li>
<li><a class="reference internal" href="#update-a-customdata" id="id173">Update a customData</a></li>
<li><a class="reference internal" href="#delete-a-customdata" id="id174">Delete a customData</a></li>
</ul>
</div>
<div class="section" id="create-a-customdata">
<h4><a class="toc-backref" href="#id171">Create a customData</a><a class="headerlink" href="#create-a-customdata" title="Permalink to this headline">¶</a></h4>
<p>Whenever you create an Stormpath resource, an empty customData resource is created for that resource automatically – you do not need to explicitly execute a request to create it.</p>
<p>However, it is often useful to populate custom data at the same time you create a resource. You can do this by embedding the customData directly in the resource. For an example, see <a class="reference internal" href="#accnt-create-with-customdata"><span class="std std-ref">below</span></a>.</p>
</div>
<div class="section" id="retrieve-a-customdata">
<h4><a class="toc-backref" href="#id172">Retrieve a customData</a><a class="headerlink" href="#retrieve-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Optional Query Parameters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GET /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Retrieves the specified resources&#8217; customData resource.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="update-a-customdata">
<h4><a class="toc-backref" href="#id173">Update a customData</a><a class="headerlink" href="#update-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>POST /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Updates the specified attributes with the values provided.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="delete-a-customdata">
<h4><a class="toc-backref" href="#id174">Delete a customData</a><a class="headerlink" href="#delete-a-customdata" title="Permalink to this headline">¶</a></h4>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="20%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operation</th>
<th class="head">Attributes</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>DELETE /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData</td>
<td>N/A</td>
<td>Deletes the specified customData resource.</td>
</tr>
<tr class="row-odd"><td>DELETE /v1/$RESOURCE_TYPE/$RESOURCE_ID/customData/$FIELD_NAME</td>
<td><code class="docutils literal"><span class="pre">&quot;$FIELD_NAME&quot;:</span> <span class="pre">null</span></code></td>
<td>Deletes only the specified Custom Data field. You must specify the value of the field as <code class="docutils literal"><span class="pre">null</span></code> in order for the call to succeed.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Deleting a customData resource still leaves an empty customData placeholder resource.</p>
</div>
<div class="section" id="id38">
<h5>Example Queries<a class="headerlink" href="#id38" title="Permalink to this headline">¶</a></h5>
<p id="accnt-create-with-customdata"><strong>Create an Account and simultaneously populate its Custom Data</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request GET <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span> <span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/directories/WpM9nyZ2TbaEzfbexaMPLE/accounts&quot;</span>
--data <span class="s1">&#39;{</span>
<span class="s1">   &quot;username&quot; : &quot;jlpicard&quot;,</span>
<span class="s1">   &quot;email&quot; : &quot;capt@enterprise.com&quot;,</span>
<span class="s1">   &quot;givenName&quot; : &quot;Jean-Luc&quot;,</span>
<span class="s1">   &quot;middleName&quot; : &quot;&quot;,</span>
<span class="s1">   &quot;surname&quot; : &quot;Picard&quot;,</span>
<span class="s1">   &quot;password&quot; : &quot;uGhd%a8Kl!&quot;</span>
<span class="s1">   &quot;status&quot; : &quot;ENABLED&quot;,</span>
<span class="s1">   &quot;customData&quot;: {</span>
<span class="s1">    &quot;birthDate&quot;:&quot;2305-07-13&quot;,</span>
<span class="s1">    &quot;birthPlace&quot;:&quot;La Barre, France&quot;,</span>
<span class="s1">    &quot;currentAssignment&quot;:&quot;USS Enterprise (NCC-1701-E)&quot;,</span>
<span class="s1">    &quot;favoriteDrink&quot;:&quot;Earl Grey tea&quot;,</span>
<span class="s1">    &quot;rank&quot;:&quot;Captain&quot;</span>
<span class="s1">  }&#39;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>This query would create an Account with the attribute values and Custom Data specified.</p>
<p><strong>Delete a single field from within a customData resource</strong></p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>curl --request POST <span class="se">\</span>
--user <span class="nv">$SP_API_KEY_ID</span>:<span class="nv">$SP_API_KEY_SECRET</span><span class="se">\</span>
--header <span class="s1">&#39;content-type: application/json&#39;</span> <span class="se">\</span>
--url <span class="s2">&quot;https://api.stormpath.com/v1/accounts/cJoiwcorTTmkDDBsf02bAb/customData&quot;</span> <span class="se">\</span>
--data <span class="s1">&#39;{</span>
<span class="s1">    &quot;favoriteColor&quot;: null</span>
<span class="s1">  }&#39;</span>
</pre></div>
</div>
<p>This query would delete only the <code class="docutils literal"><span class="pre">favoriteColor</span></code> field from this customData resource.</p>
</div>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="configuration.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="idsite.html" class="btn btn-neutral" title="7. Using ID Site" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Stormpath, Inc.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/javascript_for_java.js"></script>
      <script type="text/javascript" src="_static/langpicker.js"></script>
      <script type="text/javascript" src="_static/scrollspy.js"></script>
      <script type="text/javascript" src="_static/gumshoe.min.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>